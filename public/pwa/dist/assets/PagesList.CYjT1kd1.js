import{e,f as a,t as s,F as t,g as l,m as r,r as n,o,u as i,j as c}from"./vendor.CNJ67EhX.js";import{a as p}from"./api.uSn_et4s.js";import{_ as d}from"./main.a-2UG2Uh.js";const g={class:"pages-list"},u={key:0,class:"loading-state"},m={key:1,class:"error-state"},y={key:2,class:"content"},v={key:0,class:"empty-state"},f={key:1,class:"pages-grid"},h=["onClick"],b={class:"page-icon"},k={class:"material-symbols-outlined"},P={class:"page-content"},_={class:"page-title"},C={key:0,class:"page-excerpt"},j={class:"page-meta"},w={key:0,class:"template-badge"},L={key:1,class:"last-updated"};const x=d({name:"PagesList",setup(){const e=i(),a=n([]),s=n(!1),t=n(null),l=async()=>{s.value=!0,t.value=null;try{const e=await p.getPages();if(!e.success)throw new Error(e.message||"Failed to fetch pages");a.value=e.data}catch(e){t.value=e.message,console.error("Error fetching pages:",e)}finally{s.value=!1}};return o(()=>{l()}),{pages:a,loading:s,error:t,goToPage:a=>{e.push(`/page/${a}`)},retry:()=>{t.value=null,l()},getPageIcon:e=>{const a={about:"info",contact:"mail",privacy:"privacy_tip",terms:"gavel",faq:"help",default:"article"};return a[e]||a.default},getTemplateLabel:e=>{const a={about:"À propos",contact:"Contact",privacy:"Confidentialité",terms:"Conditions",faq:"FAQ",default:"Page"};return a[e]||a.default},formatDate:e=>e?new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):""}}},[["render",function(n,o,i,p,d,x){return c(),e("div",g,[o[5]||(o[5]=a("header",{class:"page-header"},[a("div",{class:"header-content"},[a("h1",null,"Pages"),a("p",{class:"subtitle"},"Informations et contenus utiles")])],-1)),p.loading?(c(),e("div",u,o[1]||(o[1]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"Chargement des pages...",-1)]))):p.error?(c(),e("div",m,[o[2]||(o[2]=a("div",{class:"error-icon"},[a("span",{class:"material-symbols-outlined"},"error")],-1)),a("p",null,s(p.error),1),a("button",{onClick:o[0]||(o[0]=(...e)=>p.retry&&p.retry(...e)),class:"retry-btn"}," Réessayer ")])):(c(),e("div",y,[p.pages.length||p.loading?(c(),e("div",f,[(c(!0),e(t,null,l(p.pages,t=>(c(),e("article",{key:t.id,onClick:e=>p.goToPage(t.id),class:"page-card"},[a("div",b,[a("span",k,s(p.getPageIcon(t.template)),1)]),a("div",P,[a("h3",_,s(t.title),1),t.excerpt?(c(),e("p",C,s(t.excerpt),1)):r("",!0),a("div",j,[t.template?(c(),e("span",w,s(p.getTemplateLabel(t.template)),1)):r("",!0),t.updated_at?(c(),e("span",L," Mis à jour "+s(p.formatDate(t.updated_at)),1)):r("",!0)])]),o[4]||(o[4]=a("div",{class:"page-arrow"},[a("span",{class:"material-symbols-outlined"},"chevron_right")],-1))],8,h))),128))])):(c(),e("div",v,o[3]||(o[3]=[a("div",{class:"empty-icon"},[a("span",{class:"material-symbols-outlined"},"menu_book")],-1),a("h3",null,"Aucune page disponible",-1),a("p",null,"Les pages d'information seront bientôt disponibles.",-1)])))]))])}],["__scopeId","data-v-42964c96"]]);export{x as default};
