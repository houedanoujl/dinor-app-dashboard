const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home.NGCghd_f.js","assets/vendor.2V9jEnd_.js","assets/Home.DUfXVjrM.css","assets/RecipesList.DIvQwF21.js","assets/api.uSn_et4s.js","assets/RecipesList.B0LZZg4I.css","assets/TipsList.CYAXjoi_.js","assets/TipsList.zD83pog9.css","assets/EventsList.BbbjxHgA.js","assets/EventsList.6cFbk6h-.css","assets/PagesList.tjT2JdBB.js","assets/PagesList.BPnmRK1j.css","assets/DinorTV.jqeVEubM.js","assets/DinorTV.DRSHh94S.css"])))=>i.map(i=>d[i]);
import{c as t,a as e,b as n,d as s,F as o,r as a,u as i,e as r,o as l,f as c,w as p,t as m,n as u,g as d,h as v,i as h,j as f,k as _,l as w,m as E,p as b}from"./vendor.2V9jEnd_.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const P={},g=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=(null==t?void 0:t.nonce)||(null==t?void 0:t.getAttribute("nonce"));s=Promise.allSettled(e.map(t=>{if((t=function(t){return"/"+t}(t))in P)return;P[t]=!0;const e=t.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${s}`))return;const o=document.createElement("link");return o.rel=e?"stylesheet":"modulepreload",e||(o.as="script"),o.crossOrigin="",o.href=t,n&&o.setAttribute("nonce",n),document.head.appendChild(o),e?new Promise((e,n)=>{o.addEventListener("load",e),o.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function o(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return s.then(e=>{for(const t of e||[])"rejected"===t.status&&o(t.reason);return t().catch(o)})},y=[{path:"/",name:"home",component:()=>g(()=>import("./Home.NGCghd_f.js"),__vite__mapDeps([0,1,2])),meta:{title:"Accueil"}},{path:"/recipes",name:"recipes",component:()=>g(()=>import("./RecipesList.DIvQwF21.js"),__vite__mapDeps([3,1,4,5])),meta:{title:"Recettes"}},{path:"/tips",name:"tips",component:()=>g(()=>import("./TipsList.CYAXjoi_.js"),__vite__mapDeps([6,1,4,7])),meta:{title:"Astuces"}},{path:"/events",name:"events",component:()=>g(()=>import("./EventsList.BbbjxHgA.js"),__vite__mapDeps([8,1,4,9])),meta:{title:"Événements"}},{path:"/pages",name:"pages",component:()=>g(()=>import("./PagesList.tjT2JdBB.js"),__vite__mapDeps([10,1,4,11])),meta:{title:"Pages"}},{path:"/dinor-tv",name:"dinor-tv",component:()=>g(()=>import("./DinorTV.jqeVEubM.js"),__vite__mapDeps([12,1,4,13])),meta:{title:"Dinor TV"}},{path:"/:pathMatch(.*)*",redirect:"/"}],I=t({history:e("/pwa/"),routes:y});I.beforeEach((t,e,n)=>{t.meta.title&&(document.title=`${t.meta.title} - Dinor App`),n()});const L=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n},A={class:"bottom-navigation"},k={class:"nav-items"},D={class:"nav-icon"},O={class:"material-symbols-outlined"},T={class:"nav-label"};const N=L({name:"BottomNavigation",setup(){const t=i();return{navItems:[{name:"home",path:"/",icon:"home",label:"Accueil"},{name:"recipes",path:"/recipes",icon:"restaurant",label:"Recettes"},{name:"tips",path:"/tips",icon:"lightbulb",label:"Astuces"},{name:"events",path:"/events",icon:"event",label:"Événements"},{name:"dinor-tv",path:"/dinor-tv",icon:"play_circle",label:"Dinor TV"}],isActive:e=>"/"===e?"/"===t.path:t.path.startsWith(e)}}},[["render",function(t,e,i,d,v,h){const f=r("router-link");return l(),n("nav",A,[s("div",k,[(l(!0),n(o,null,a(d.navItems,t=>(l(),c(f,{key:t.name,to:t.path,class:u(["nav-item",{active:d.isActive(t.path)}])},{default:p(()=>[s("div",D,[s("span",O,m(t.icon),1)]),s("span",T,m(t.label),1)]),_:2},1032,["to","class"]))),128))])])}],["__scopeId","data-v-2183a3e4"]]),S=d("app",()=>{const t=v(!1),e=v(null),n=v(navigator.onLine),s=v(null),o=v(!1);function a(t){n.value=t}function i(t){s.value=t}function r(t){o.value=t}return{loading:t,error:e,online:n,installPromptEvent:s,isInstalled:o,setLoading:function(e){t.value=e},setError:function(t){e.value=t},clearError:function(){e.value=null},setOnlineStatus:a,setInstallPromptEvent:i,setInstallationStatus:r,showInstallPrompt:async function(){if(!s.value)return!1;try{const t="accepted"===(await s.value.prompt()).outcome;return t&&(r(!0),i(null)),t}catch(t){return console.error("Install prompt failed:",t),!1}},initializeNetworkListeners:function(){window.addEventListener("online",()=>a(!0)),window.addEventListener("offline",()=>a(!1))},initializePWAListeners:function(){window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),i(t)}),window.addEventListener("appinstalled",()=>{r(!0),i(null)}),window.matchMedia("(display-mode: standalone)").matches&&r(!0)}}}),j={class:"prompt-content"},R={class:"prompt-actions"};const V={id:"app-container"};const B=E(L({name:"App",components:{BottomNavigation:N,InstallPrompt:L({name:"InstallPrompt",setup(){const t=S(),e=v(!1),n=v(!1),s=h(()=>t.installPromptEvent&&!t.isInstalled&&!n.value);return f(()=>{sessionStorage.getItem("pwa-install-dismissed")?n.value=!0:setTimeout(()=>{s.value&&(e.value=!0)},3e3)}),{showPrompt:s,visible:e,installApp:async()=>{await t.showInstallPrompt()&&(e.value=!1)},dismissPrompt:()=>{n.value=!0,e.value=!1,sessionStorage.setItem("pwa-install-dismissed","true")}}}},[["render",function(t,e,o,a,i,r){return a.showPrompt?(l(),n("div",{key:0,class:u(["install-prompt",{visible:a.visible}])},[s("div",j,[e[2]||(e[2]=s("div",{class:"prompt-icon"},[s("span",{class:"material-symbols-outlined"},"download")],-1)),e[3]||(e[3]=s("div",{class:"prompt-text"},[s("h3",null,"Installer Dinor App"),s("p",null,"Installez l'app pour une meilleure expérience")],-1)),s("div",R,[s("button",{onClick:e[0]||(e[0]=(...t)=>a.dismissPrompt&&a.dismissPrompt(...t)),class:"btn-dismiss"}," Plus tard "),s("button",{onClick:e[1]||(e[1]=(...t)=>a.installApp&&a.installApp(...t)),class:"btn-install"}," Installer ")])])],2)):_("",!0)}],["__scopeId","data-v-003a7eb4"]])},setup(){const t=i();return{showBottomNav:h(()=>["/","/recipes","/tips","/events","/pages","/dinor-tv"].some(e=>t.path===e||"/"!==e&&t.path.startsWith(e)))}}},[["render",function(t,e,o,a,i,p){const m=r("router-view"),d=r("BottomNavigation"),v=r("InstallPrompt");return l(),n("div",V,[s("main",{class:u(["main-content md3-main-content",{"with-bottom-nav":a.showBottomNav}])},[w(m)],2),a.showBottomNav?(l(),c(d,{key:0})):_("",!0),w(v)])}]])),C=b();B.use(C),B.use(I),B.mount("#app");export{L as _,S as u};
