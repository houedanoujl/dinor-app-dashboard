const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home.B9InhKnM.js","assets/vendor.BeqKZlTx.js","assets/useApi.XzjE-Aek.js","assets/api.DeptcIQc.js","assets/BannerSection.C33CTeVw.js","assets/BannerSection.Dz-nO0wz.css","assets/Home.DkP1UWmJ.css","assets/RecipesList.DpqofXec.js","assets/api.70uutYeQ.js","assets/SearchAndFilters.DJUZlq-5.js","assets/SearchAndFilters.DZO4SIUb.css","assets/RecipesList.CLZVWFhf.css","assets/RecipeDetail.Yu3fHSjT.js","assets/Badge.QpPmjZQE.js","assets/Badge.Id9DJ0yZ.css","assets/AuthModal.CAYITUsz.js","assets/AuthModal.D-0nByVZ.css","assets/FavoriteButton.D768M--O.js","assets/FavoriteButton.CJo52RHZ.css","assets/RecipeDetail.CiJiuRN5.css","assets/TipsList.DE80GiZj.js","assets/TipsList.DQfZKMXs.css","assets/TipDetail.Be77O-Oh.js","assets/TipDetail.Di1r9Gd0.css","assets/EventsList.CSE8Q8-Y.js","assets/EventsList.BACwOh_s.css","assets/EventDetail.CybgCc50.js","assets/EventDetail.cYcoOePD.css","assets/PagesList.DwfD93fy.js","assets/PagesList.C8e3BZ9t.css","assets/DinorTV.CdpVQ1f6.js","assets/DinorTV.DHqStk5K.css","assets/WebEmbed.DnJ4TAy4.js","assets/WebEmbed.CKL2zDmX.css","assets/Profile.D7mh7s8f.js","assets/Profile.DShT_eD_.css","assets/TermsOfService.3VImQdNN.js","assets/TermsOfService.DiEZV5Dq.css","assets/PrivacyPolicy.Z18GvxQY.js","assets/PrivacyPolicy.DeflSHSI.css","assets/CookiePolicy.CulUy4_5.js","assets/CookiePolicy.CBPAEsFF.css"])))=>i.map(i=>d[i]);
import{c as e,a as t,r as o,b as a,u as n,d as l,e as i,f as s,t as r,g as c,h as d,o as p,n as u,F as m,i as h,j as v,k as g,w as f,l as b,m as y,p as w,q as k,s as _,v as L,T as S,x as E,y as I,z as A,A as D,B as P}from"./vendor.BeqKZlTx.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const C={},T=function(e,t,o){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/pwa/dist/"+e}(e))in C)return;C[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,o&&n.setAttribute("nonce",o),document.head.appendChild(n),t?new Promise((t,o)=>{n.addEventListener("load",t),n.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})},x=[{path:"/",name:"home",component:()=>T(()=>import("./Home.B9InhKnM.js"),__vite__mapDeps([0,1,2,3,4,5,6])),meta:{title:"Accueil"}},{path:"/home",redirect:"/"},{path:"/recipes",name:"recipes",component:()=>T(()=>import("./RecipesList.DpqofXec.js"),__vite__mapDeps([7,1,8,4,2,3,5,9,10,11])),meta:{title:"Recettes"}},{path:"/recipe/:id",name:"recipe-detail",component:()=>T(()=>import("./RecipeDetail.Yu3fHSjT.js"),__vite__mapDeps([12,1,3,13,14,15,16,17,8,18,19])),meta:{title:"D√©tail Recette"},props:!0},{path:"/tips",name:"tips",component:()=>T(()=>import("./TipsList.DE80GiZj.js"),__vite__mapDeps([20,1,8,17,3,18,15,16,21])),meta:{title:"Astuces"}},{path:"/tip/:id",name:"tip-detail",component:()=>T(()=>import("./TipDetail.Be77O-Oh.js"),__vite__mapDeps([22,1,3,13,14,15,16,23])),meta:{title:"D√©tail Astuce"},props:!0},{path:"/events",name:"events",component:()=>T(()=>import("./EventsList.CSE8Q8-Y.js"),__vite__mapDeps([24,1,8,9,10,25])),meta:{title:"√âv√©nements"}},{path:"/event/:id",name:"event-detail",component:()=>T(()=>import("./EventDetail.CybgCc50.js"),__vite__mapDeps([26,1,3,15,16,27])),meta:{title:"D√©tail √âv√©nement"},props:!0},{path:"/pages",name:"pages",component:()=>T(()=>import("./PagesList.DwfD93fy.js"),__vite__mapDeps([28,1,8,29])),meta:{title:"Pages"}},{path:"/dinor-tv",name:"dinor-tv",component:()=>T(()=>import("./DinorTV.CdpVQ1f6.js"),__vite__mapDeps([30,1,8,17,3,18,15,16,31])),meta:{title:"Dinor TV"}},{path:"/video/:id",redirect:e=>"/dinor-tv"},{path:"/web-embed",name:"web-embed",component:()=>T(()=>import("./WebEmbed.DnJ4TAy4.js"),__vite__mapDeps([32,1,2,3,33])),meta:{title:"Web Embed"}},{path:"/profile",name:"profile",component:()=>T(()=>import("./Profile.D7mh7s8f.js"),__vite__mapDeps([34,1,3,15,16,35])),meta:{title:"Profil"}},{path:"/terms",name:"terms-of-service",component:()=>T(()=>import("./TermsOfService.3VImQdNN.js"),__vite__mapDeps([36,1,37])),meta:{title:"Conditions G√©n√©rales d'Utilisation"}},{path:"/privacy",name:"privacy-policy",component:()=>T(()=>import("./PrivacyPolicy.Z18GvxQY.js"),__vite__mapDeps([38,1,39])),meta:{title:"Politique de Confidentialit√©"}},{path:"/cookies",name:"cookie-policy",component:()=>T(()=>import("./CookiePolicy.CulUy4_5.js"),__vite__mapDeps([40,1,41])),meta:{title:"Politique des Cookies"}},{path:"/:pathMatch(.*)*",redirect:"/"}],O=e({history:t("/pwa/"),routes:x});O.beforeEach((e,t,o)=>{e.meta.title&&(document.title=`${e.meta.title} - Dinor App`),o()});const M=()=>{const e=o(!1),t=o(!1),a={facebook:(e,t)=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,twitter:(e,t,o)=>`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURIComponent(o||t)}`,whatsapp:(e,t,o)=>`https://wa.me/?text=${encodeURIComponent((o||t)+" "+e)}`,linkedin:(e,t,o)=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`,telegram:(e,t,o)=>`https://t.me/share/url?url=${encodeURIComponent(e)}&text=${encodeURIComponent(o||t)}`,email:(e,t,o)=>`mailto:?subject=${encodeURIComponent(t)}&body=${encodeURIComponent((o||t)+"\n\n"+e)}`,pinterest:(e,t,o)=>`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(e)}&description=${encodeURIComponent(t)}${o?"&media="+encodeURIComponent(o):""}`},n=async t=>{if(navigator.share)try{return e.value=!0,await navigator.share({title:t.title,text:t.text||t.title,url:t.url||window.location.href}),!0}catch(o){return"AbortError"!==o.name&&console.error("Erreur de partage:",o),!1}finally{e.value=!1}return!1};return{isSharing:e,showShareModal:t,share:async e=>{await n(e)||(t.value=!0)},shareNative:n,shareToSocial:async(e,t)=>{console.log("üåê [useSocialShare] shareToSocial appel√© avec:",{platform:e,data:t});const{url:o=window.location.href,title:n=document.title,text:l,image:i}=t;if(a[e]){const r=a[e](o,n,l,i);if(console.log("üîó [useSocialShare] URL de partage g√©n√©r√©e:",r),window.innerWidth>768&&"email"!==e){console.log("üíª [useSocialShare] Ouverture en popup (desktop)");const e=600,t=400,o=(window.innerWidth-e)/2,a=(window.innerHeight-t)/2;window.open(r,"share-popup",`width=${e},height=${t},left=${o},top=${a},toolbar=no,menubar=no`)}else console.log("üì± [useSocialShare] Ouverture en nouvel onglet (mobile/email)"),window.open(r,"_blank");if(t.type&&t.id)try{await fetch("/api/v1/shares/track",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({type:t.type,id:t.id,platform:e})})}catch(s){console.error("Erreur lors du tracking du partage:",s)}"undefined"!=typeof gtag&&gtag("event","share",{method:e,content_type:t.type||"content",item_id:t.id})}else console.error("‚ùå [useSocialShare] Plateforme non support√©e:",e)},copyLink:async(e=window.location.href)=>{try{return await navigator.clipboard.writeText(e),!0}catch(t){const a=document.createElement("textarea");a.value=e,a.style.position="fixed",a.style.left="-999999px",document.body.appendChild(a),a.select();try{return document.execCommand("copy"),document.body.removeChild(a),!0}catch(o){return document.body.removeChild(a),!1}}},closeShareModal:()=>{t.value=!1},updateOpenGraphTags:e=>{const{title:t,description:o,image:a,url:n}=e;document.querySelectorAll('meta[property^="og:"]').forEach(e=>e.remove());const l=document.getElementsByTagName("head")[0];if(t){const e=document.createElement("meta");e.setAttribute("property","og:title"),e.content=t,l.appendChild(e)}if(o){const e=document.createElement("meta");e.setAttribute("property","og:description"),e.content=o,l.appendChild(e)}if(a){const e=document.createElement("meta");e.setAttribute("property","og:image"),e.content=a.startsWith("http")?a:`${window.location.origin}${a}`,l.appendChild(e)}const i=document.createElement("meta");i.setAttribute("property","og:url"),i.content=n||window.location.href,l.appendChild(i);const s=document.createElement("meta");s.setAttribute("property","og:type"),s.content="article",l.appendChild(s);const r=document.createElement("meta");r.setAttribute("property","og:site_name"),r.content="Dinor",l.appendChild(r)}}},R=(e,t)=>{const o=e.__vccOpts||e;for(const[a,n]of t)o[a]=n;return o},j={name:"AppHeader",props:{title:{type:String,required:!0},showLike:{type:Boolean,default:!1},showShare:{type:Boolean,default:!1},isLiked:{type:Boolean,default:!1},backPath:{type:String,default:null}},emits:["like","share","back"],setup(e,{emit:t}){const l=d(),i=n(),s=o("/images/LOGO_DINOR_monochrome.svg");return{showBackButton:a(()=>"/"!==i.path),displayTitle:a(()=>{if("/"===i.path)return"Dinor";if(e.title)return e.title;const t={"/recipes":"Recettes","/tips":"Astuces","/events":"√âv√©nements","/dinor-tv":"Dinor TV","/pages":"Pages"};for(const[e,o]of Object.entries(t))if(i.path===e||i.path.startsWith(e+"/"))return o;return"Dinor"}),handleBack:()=>{e.backPath?l.push(e.backPath):l.go(-1),t("back")},handleLike:()=>{t("like")},handleShare:()=>{t("share")},handleLogoError:()=>{if(console.error("‚ùå [AppHeader] Erreur de chargement du logo DINOR"),console.log("üîç [AppHeader] Chemin test√©:",s.value),console.log("üìÅ [AppHeader] V√©rifiez que le fichier existe dans public/images/"),console.log("üîÑ [AppHeader] Tentative avec chemin alternatif..."),"/images/LOGO_DINOR_monochrome.svg"===s.value)s.value="./images/LOGO_DINOR_monochrome.svg",console.log("üîÑ [AppHeader] Nouvel essai avec:",s.value);else{console.error("üí• [AppHeader] Impossible de charger le logo externe"),console.log("üîÑ [AppHeader] Utilisation du logo fallback SVG inline");const e=document.querySelector(".dinor-logo"),t=document.querySelector(".dinor-logo-fallback");e&&(e.style.display="none",console.log("üëÅÔ∏è [AppHeader] Logo externe masqu√©")),t&&(t.style.display="block",console.log("‚úÖ [AppHeader] Logo fallback SVG affich√©"))}},logoSrc:s}}},V={class:"md3-top-app-bar"},B={class:"md3-app-bar-container"},N={class:"md3-app-bar-title"},$={class:"dinor-logo-container"},W={class:"logo-section"},U=["src"],H={class:"dinor-logo-fallback",style:{display:"none"},viewBox:"0 0 120 50",xmlns:"http://www.w3.org/2000/svg"},q={class:"title-section"},z={class:"md3-title-large dinor-text-primary"},G={class:"md3-app-bar-actions"},F={class:"material-symbols-outlined"},J={class:"emoji-fallback"};const K=R(j,[["render",function(e,t,o,a,n,d){return p(),l("nav",V,[i("div",B,[a.showBackButton?(p(),l("button",{key:0,onClick:t[0]||(t[0]=(...e)=>a.handleBack&&a.handleBack(...e)),class:"md3-icon-button"},t[4]||(t[4]=[i("span",{class:"material-symbols-outlined"},"arrow_back",-1),i("span",{class:"emoji-fallback"},"‚¨ÖÔ∏è",-1)]))):s("",!0),i("div",N,[i("div",$,[i("div",W,[i("img",{src:a.logoSrc,alt:"Dinor",class:"dinor-logo",onError:t[1]||(t[1]=(...e)=>a.handleLogoError&&a.handleLogoError(...e))},null,40,U),(p(),l("svg",H,t[5]||(t[5]=[i("text",{x:"15",y:"32","font-family":"Arial, sans-serif","font-size":"22","font-weight":"bold",fill:"white"},"DINOR",-1)])))]),i("div",q,[i("h1",z,r(a.displayTitle),1)])])]),i("div",G,[c(e.$slots,"actions",{},()=>[o.showLike?(p(),l("button",{key:0,onClick:t[2]||(t[2]=(...e)=>a.handleLike&&a.handleLike(...e)),class:u(["md3-icon-button",{liked:o.isLiked}])},[i("span",F,r(o.isLiked?"favorite":"favorite_border"),1),i("span",J,r(o.isLiked?"‚ù§Ô∏è":"ü§ç"),1)],2)):s("",!0),o.showShare?(p(),l("button",{key:1,onClick:t[3]||(t[3]=(...e)=>a.handleShare&&a.handleShare(...e)),class:"md3-icon-button"},t[6]||(t[6]=[i("span",{class:"material-symbols-outlined"},"share",-1),i("span",{class:"emoji-fallback"},"üì§",-1)]))):s("",!0)])])])])}],["__scopeId","data-v-90075766"]]),X={class:"bottom-navigation"},Q={class:"nav-items"},Y={class:"nav-icon"},Z={class:"material-symbols-outlined"},ee={class:"emoji-fallback"},te={class:"nav-label"};const oe=R({name:"BottomNavigation",setup(){const e=n();d();return{navItems:o([{name:"all",path:"/",icon:"apps",label:"Accueil"},{name:"recipes",path:"/recipes",icon:"restaurant",label:"Recettes"},{name:"tips",path:"/tips",icon:"lightbulb",label:"Astuces"},{name:"events",path:"/events",icon:"event",label:"√âv√©nements"},{name:"dinor-tv",path:"/dinor-tv",icon:"play_circle",label:"DinorTV"},{name:"profile",path:"/profile",icon:"person",label:"Profil"}]),isActive:t=>e.path===t||"/"!==t&&e.path.startsWith(t),getEmojiForIcon:e=>({apps:"üè†",home:"üè†",restaurant:"üç¥",lightbulb:"üí°",event:"üìÖ",calendar_today:"üìÖ",tv:"üì∫",play_circle:"üì∫",person:"üë§",menu_book:"üìñ",info:"‚ÑπÔ∏è",settings:"‚öôÔ∏è"}[e]||"‚Ä¢")}}},[["render",function(e,t,o,a,n,s){const c=v("router-link");return p(),l("nav",X,[i("div",Q,[(p(!0),l(m,null,h(a.navItems,e=>(p(),g(c,{key:e.name,to:e.path,class:u(["nav-item",{active:a.isActive(e.path)}])},{default:f(()=>[i("div",Y,[i("span",Z,r(e.icon),1),i("span",ee,r(a.getEmojiForIcon(e.icon)),1)]),i("span",te,r(e.label),1)]),_:2},1032,["to","class"]))),128))])])}],["__scopeId","data-v-5f4e22cc"]]),ae=b("app",()=>{const e=o(!1),t=o(null),a=o(navigator.onLine),n=o(null),l=o(!1);function i(e){a.value=e}function s(e){n.value=e}function r(e){l.value=e}return{loading:e,error:t,online:a,installPromptEvent:n,isInstalled:l,setLoading:function(t){e.value=t},setError:function(e){t.value=e},clearError:function(){t.value=null},setOnlineStatus:i,setInstallPromptEvent:s,setInstallationStatus:r,showInstallPrompt:async function(){if(!n.value)return!1;try{const e="accepted"===(await n.value.prompt()).outcome;return e&&(r(!0),s(null)),e}catch(e){return console.error("Install prompt failed:",e),!1}},initializeNetworkListeners:function(){window.addEventListener("online",()=>i(!0)),window.addEventListener("offline",()=>i(!1))},initializePWAListeners:function(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),s(e)}),window.addEventListener("appinstalled",()=>{r(!0),s(null)}),window.matchMedia("(display-mode: standalone)").matches&&r(!0)}}}),ne={class:"prompt-content"},le={class:"prompt-actions"};const ie=R({name:"InstallPrompt",setup(){const e=ae(),t=o(!1),n=o(!1),l=a(()=>e.installPromptEvent&&!e.isInstalled&&!n.value);return y(()=>{sessionStorage.getItem("pwa-install-dismissed")?n.value=!0:setTimeout(()=>{l.value&&(t.value=!0)},3e3)}),{showPrompt:l,visible:t,installApp:async()=>{await e.showInstallPrompt()&&(t.value=!1)},dismissPrompt:()=>{n.value=!0,t.value=!1,sessionStorage.setItem("pwa-install-dismissed","true")}}}},[["render",function(e,t,o,a,n,r){return a.showPrompt?(p(),l("div",{key:0,class:u(["install-prompt",{visible:a.visible}])},[i("div",ne,[t[2]||(t[2]=i("div",{class:"prompt-icon"},[i("span",{class:"material-symbols-outlined"},"download")],-1)),t[3]||(t[3]=i("div",{class:"prompt-text"},[i("h3",null,"Installer Dinor App"),i("p",null,"Installez l'app pour une meilleure exp√©rience")],-1)),i("div",le,[i("button",{onClick:t[0]||(t[0]=(...e)=>a.dismissPrompt&&a.dismissPrompt(...e)),class:"btn-dismiss"}," Plus tard "),i("button",{onClick:t[1]||(t[1]=(...e)=>a.installApp&&a.installApp(...e)),class:"btn-install"}," Installer ")])])],2)):s("",!0)}],["__scopeId","data-v-003a7eb4"]]),se={name:"LoadingScreen",props:{visible:{type:Boolean,default:!0},duration:{type:Number,default:3e3}},emits:["complete"],setup(e,{emit:t}){const n=o(e.visible),l=o(0),i=o(!1),s=o("/images/LOGO_DINOR_monochrome.svg"),r=[{text:"Dinor se pr√©pare...",sub:"Chargement de l'application"},{text:"Presque pr√™t !",sub:"Finalisation en cours"},{text:"C'est parti !",sub:"Bienvenue sur Dinor"}],c=o(0),d=a(()=>{var e;return(null==(e=r[c.value])?void 0:e.text)||"Chargement..."}),p=a(()=>{var e;return(null==(e=r[c.value])?void 0:e.sub)||""}),u=o([]);let m=null,h=null;const v=()=>{n.value=!1,setTimeout(()=>{t("complete")},500)};return y(()=>{(()=>{u.value=[];for(let e=0;e<12;e++)u.value.push({id:e,style:{left:100*Math.random()+"%",animationDelay:3*Math.random()+"s",animationDuration:3+4*Math.random()+"s",transform:`scale(${.3+.7*Math.random()})`}})})(),e.visible&&(m=setInterval(()=>{if(l.value<100){const e=8*Math.random()+2;l.value=Math.min(100,l.value+e)}else clearInterval(m),setTimeout(()=>{v()},500)},e.duration/20),h=setInterval(()=>{c.value=(c.value+1)%r.length},e.duration/3))}),w(()=>{m&&clearInterval(m),h&&clearInterval(h)}),{isVisible:n,progress:l,logoError:i,logoSrc:s,loadingText:d,loadingSubtext:p,bubbles:u,handleLogoError:()=>{console.warn("‚ùå [LoadingScreen] Logo externe non trouv√©, utilisation du fallback"),i.value=!0}}}},re={class:"bubbles-container"},ce={class:"loading-content"},de={class:"logo-container"},pe={class:"logo-wrapper"},ue=["src"],me={key:1,class:"loading-logo-fallback",viewBox:"0 0 200 80",xmlns:"http://www.w3.org/2000/svg"},he={class:"loading-text"},ve={class:"progress-container"},ge={class:"progress-bar"},fe={class:"progress-text"};const be=R(se,[["render",function(e,t,o,a,n,s){return p(),l("div",{class:u(["loading-screen",{"fade-out":!a.isVisible}])},[i("div",re,[(p(!0),l(m,null,h(a.bubbles,e=>(p(),l("div",{key:e.id,class:"bubble",style:k(e.style)},null,4))),128))]),i("div",ce,[i("div",de,[i("div",pe,[a.logoError?(p(),l("svg",me,t[1]||(t[1]=[i("text",{x:"30",y:"50","font-family":"Arial, sans-serif","font-size":"32","font-weight":"bold",fill:"white"},"DINOR",-1)]))):(p(),l("img",{key:0,src:a.logoSrc,alt:"Dinor",class:"loading-logo",onError:t[0]||(t[0]=(...e)=>a.handleLogoError&&a.handleLogoError(...e))},null,40,ue)),t[2]||(t[2]=i("div",{class:"logo-shine"},null,-1))]),i("div",he,[i("h2",null,r(a.loadingText),1),i("p",null,r(a.loadingSubtext),1)])]),i("div",ve,[i("div",ge,[i("div",{class:"progress-fill",style:k({width:a.progress+"%"})},null,4),t[3]||(t[3]=i("div",{class:"progress-glow"},null,-1))]),i("div",fe,r(Math.round(a.progress))+"%",1)])])],2)}],["__scopeId","data-v-b702d20a"]]),ye={class:"share-modal-content"},we={class:"share-buttons"},ke=["onClick","aria-label"],_e={class:"share-btn-label"},Le={class:"share-link"},Se=["value"],Ee={class:"material-symbols-outlined"},Ie=R({__name:"ShareModal",props:{modelValue:{type:Boolean,default:!1},shareData:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,c=t,{shareToSocial:d,copyLink:v}=M(),b=o(null),y=o(!1),w=a(()=>window.location.href),D=[{id:"facebook",name:"Facebook",icon:"fab fa-facebook-f",color:"#1877f2"},{id:"twitter",name:"X (Twitter)",icon:"fab fa-x-twitter",color:"#1da1f2"},{id:"whatsapp",name:"WhatsApp",icon:"fab fa-whatsapp",color:"#25d366"},{id:"linkedin",name:"LinkedIn",icon:"fab fa-linkedin-in",color:"#0077b5"},{id:"telegram",name:"Telegram",icon:"fab fa-telegram-plane",color:"#0088cc"},{id:"pinterest",name:"Pinterest",icon:"fab fa-pinterest-p",color:"#e60023"},{id:"email",name:"Email",icon:"fas fa-envelope",color:"#ea4335"}],P=()=>{c("update:modelValue",!1)},C=e=>{e.target===e.currentTarget&&P()},T=async()=>{console.log("üìã [ShareModal] handleCopyLink appel√©");const e=n.shareData.url||w.value;console.log("üîó [ShareModal] URL √† copier:",e);await v(e)?(console.log("‚úÖ [ShareModal] Lien copi√© avec succ√®s!"),y.value=!0,setTimeout(()=>{y.value=!1},2e3)):console.error("‚ùå [ShareModal] √âchec de la copie du lien")};return _(()=>n.modelValue,e=>{e||(y.value=!1)}),(t,o)=>(p(),g(E,{to:"body"},[L(S,{name:"modal"},{default:f(()=>[e.modelValue?(p(),l("div",{key:0,class:"share-modal-overlay",onClick:C},[i("div",{class:"share-modal",onClick:o[0]||(o[0]=I(()=>{},["stop"]))},[i("div",{class:"share-modal-header"},[o[2]||(o[2]=i("h3",null,"Partager",-1)),i("button",{class:"close-btn",onClick:P,"aria-label":"Fermer"},o[1]||(o[1]=[i("span",{class:"material-symbols-outlined"},"close",-1)]))]),i("div",ye,[i("div",we,[(p(),l(m,null,h(D,e=>i("button",{key:e.id,onClick:t=>{return o=e.id,console.log("üöÄ [ShareModal] shareToNetwork appel√© avec platform:",o),console.log("üìã [ShareModal] shareData:",n.shareData),d(o,n.shareData),void setTimeout(()=>P(),500);var o},class:u(["share-btn",e.id]),"aria-label":`Partager sur ${e.name}`,style:k({"--network-color":e.color})},[i("i",{class:u([e.icon,"share-icon"])},null,2),i("span",_e,r(e.name),1)],14,ke)),64))]),i("div",Le,[i("input",{type:"text",value:e.shareData.url||w.value,readonly:"",ref_key:"linkInput",ref:b,class:"share-link-input"},null,8,Se),i("button",{onClick:T,class:u(["copy-btn",{copied:y.value}])},[i("span",Ee,r(y.value?"check":"content_copy"),1),A(" "+r(y.value?"Copi√©!":"Copier"),1)],2)])])])])):s("",!0)]),_:1})]))}},[["__scopeId","data-v-71df7259"]]),Ae={key:1,id:"app"},De={class:"app-container"};const Pe=D(R({name:"App",components:{AppHeader:K,BottomNavigation:oe,InstallPrompt:ie,LoadingScreen:be,ShareModal:Ie},setup(){const e=n(),t=d(),{share:l,showShareModal:i}=M(),s=o({}),r=o("Dinor"),c=o(!1),p=o(!1),u=o(!1),m=o(null),h=a(()=>["/","/recipes","/tips","/events","/pages","/dinor-tv"].some(t=>e.path===t||"/"!==t&&e.path.startsWith(t))),v=()=>{"/"===e.path?(r.value="Dinor",c.value=!1,p.value=!1,m.value=null):"/recipes"===e.path?(r.value="Recettes",c.value=!1,p.value=!1,m.value=null):"/tips"===e.path?(r.value="Astuces",c.value=!1,p.value=!1,m.value=null):"/events"===e.path?(r.value="√âv√©nements",c.value=!1,p.value=!1,m.value=null):"/dinor-tv"===e.path?(r.value="Dinor TV",c.value=!1,p.value=!1,m.value=null):"/pages"===e.path?(r.value="Pages",c.value=!1,p.value=!1,m.value=null):e.path.startsWith("/recipe/")?(r.value="Recette",c.value=!0,p.value=!0,m.value="/recipes"):e.path.startsWith("/tip/")?(r.value="Astuce",c.value=!0,p.value=!0,m.value="/tips"):e.path.startsWith("/event/")?(r.value="√âv√©nement",c.value=!0,p.value=!0,m.value="/events"):(r.value="Dinor",c.value=!1,p.value=!1,m.value="/")};_(()=>e.path,v,{immediate:!0});const g=o(null);v();const f=o(!0);return y(()=>{console.log("üöÄ [App] Application d√©marr√©e avec loading screen")}),{showBottomNav:h,currentPageTitle:r,showLikeButton:c,showShareButton:p,isLiked:u,backPath:m,currentView:g,updateHeader:e=>{e.title&&(r.value=e.title),void 0!==e.showLike&&(c.value=e.showLike),void 0!==e.showShare&&(p.value=e.showShare),void 0!==e.isLiked&&(u.value=e.isLiked),void 0!==e.backPath&&(m.value=e.backPath)},handleLike:()=>{g.value&&g.value.toggleLike&&g.value.toggleLike()},handleShare:()=>{console.log("üéØ [App] handleShare appel√©!");const t={title:r.value||"Dinor",text:`D√©couvrez ${r.value} sur Dinor`,url:window.location.href};e.path.startsWith("/recipe/")?(t.text="D√©couvrez cette d√©licieuse recette sur Dinor",t.type="recipe",t.id=e.params.id):e.path.startsWith("/tip/")?(t.text="D√©couvrez cette astuce pratique sur Dinor",t.type="tip",t.id=e.params.id):e.path.startsWith("/event/")&&(t.text="Ne manquez pas cet √©v√©nement sur Dinor",t.type="event",t.id=e.params.id),s.value=t,console.log("üöÄ [App] D√©clenchement du partage avec:",t),l(t)},handleBack:()=>{m.value?t.push(m.value):t.go(-1)},showLoading:f,onLoadingComplete:()=>{f.value=!1,console.log("üéâ [App] Chargement termin√©, app pr√™te !")},showShareModal:i,currentShareData:s}}},[["render",function(e,t,o,a,n,r){const c=v("LoadingScreen"),d=v("AppHeader"),h=v("router-view"),f=v("BottomNavigation"),b=v("InstallPrompt"),y=v("ShareModal");return p(),l(m,null,[a.showLoading?(p(),g(c,{key:0,visible:a.showLoading,duration:2500,onComplete:a.onLoadingComplete},null,8,["visible","onComplete"])):s("",!0),a.showLoading?s("",!0):(p(),l("div",Ae,[i("div",De,[L(d,{title:a.currentPageTitle,"show-like":a.showLikeButton,"show-share":a.showShareButton,"is-liked":a.isLiked,"back-path":a.backPath,onLike:a.handleLike,onShare:a.handleShare,onBack:a.handleBack},null,8,["title","show-like","show-share","is-liked","back-path","onLike","onShare","onBack"]),i("main",{class:u(["main-content",{"with-bottom-nav":a.showBottomNav,"with-header":!0}])},[L(h,{onUpdateHeader:a.updateHeader,onLike:a.handleLike,onShare:a.handleShare,ref:"currentView"},null,8,["onUpdateHeader","onLike","onShare"])],2),a.showBottomNav?(p(),g(f,{key:0})):s("",!0),L(b),L(y,{modelValue:a.showShareModal,"onUpdate:modelValue":t[0]||(t[0]=e=>a.showShareModal=e),"share-data":a.currentShareData},null,8,["modelValue","share-data"])])]))],64)}]])),Ce=P();Pe.use(Ce),Pe.use(O);const Te=ae();function xe(){console.log("üîç [Main] V√©rification du chargement de Material Symbols...");const e=document.createElement("span");e.className="material-symbols-outlined",e.textContent="home",e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.style.visibility="hidden",document.body.appendChild(e),setTimeout(()=>{const t=window.getComputedStyle(e).getPropertyValue("font-family");console.log("üìù [Main] Font family d√©tect√©e:",t);t.includes("Material Symbols Outlined")||t.includes("Material Symbols")?(console.log("‚úÖ [Main] Material Symbols d√©tect√© et fonctionnel"),document.documentElement.classList.remove("force-emoji")):(console.log("‚ö†Ô∏è [Main] Material Symbols non d√©tect√©, activation des emoji..."),document.documentElement.classList.add("force-emoji")),document.body.removeChild(e)},100)}function Oe(){navigator.onLine?(document.body.classList.remove("offline"),Te.setOnlineStatus(!0)):(document.body.classList.add("offline"),Te.setOnlineStatus(!1))}window.toggleEmojiMode=function(){document.documentElement.classList.contains("force-emoji")?(document.documentElement.classList.remove("force-emoji"),console.log("‚úÖ [Main] Mode ic√¥nes Material Symbols activ√©")):(document.documentElement.classList.add("force-emoji"),console.log("üé≠ [Main] Mode emoji forc√© activ√©"))},document.fonts&&document.fonts.ready?document.fonts.ready.then(()=>{setTimeout(xe,500)}):setTimeout(xe,2e3),window.addEventListener("load",()=>{setTimeout(xe,1e3)}),console.log("üöÄ [Main] Syst√®me de d√©tection Material Symbols initialis√©"),console.log("üí° [Main] Tapez toggleEmojiMode() dans la console pour basculer entre ic√¥nes et emoji"),Pe.mount("#app"),Pe.config.errorHandler=(e,t,o)=>{console.error("Global error:",e,o)},"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.error("Service Worker registration failed:",e)}),"ontouchstart"in window&&document.body.classList.add("touch-device"),window.addEventListener("online",Oe),window.addEventListener("offline",Oe),Oe();export{Ie as S,R as _,M as a,ae as u};
