const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home.75PSp9Vg.js","assets/vendor.CHp--hJi.js","assets/useApi.Dk2EtGCI.js","assets/api.DDhRmwxM.js","assets/BannerSection.BD0Jy8Nq.js","assets/BannerSection.Dz-nO0wz.css","assets/Home.XahF-2bP.css","assets/RecipesList.DKJJRt6e.js","assets/api.XOCQ1Ma4.js","assets/SearchAndFilters.CjayWb-X.js","assets/SearchAndFilters.u7O2ii1V.css","assets/RecipesList.4OltL92J.css","assets/RecipeDetail.CV24oFoM.js","assets/Badge.BDl1NHcF.js","assets/Badge.Id9DJ0yZ.css","assets/RecipeDetail.zQ3vMWar.css","assets/TipsList.Cpr-3_FA.js","assets/TipsList.Ct1j-Q0G.css","assets/TipDetail.y5kPIEaI.js","assets/TipDetail.DIVS53gq.css","assets/EventsList.BogJ0FP0.js","assets/EventsList.BAEkPxAc.css","assets/EventDetail.FKX6q215.js","assets/EventDetail.Cz6K_gre.css","assets/PagesList.DJFbdRe4.js","assets/PagesList.BPnmRK1j.css","assets/DinorTV.C-9l1K1w.js","assets/DinorTV.DRSHh94S.css","assets/WebEmbed.BKY8KggT.js","assets/WebEmbed.BnO6_WqD.css"])))=>i.map(i=>d[i]);
import{c as e,a as t,b as n,d as a,t as s,r as i,u as o,o as r,e as l,n as c,f as p,F as d,g as m,h as u,i as v,j as h,w as b,k as f,l as _,m as w,p as E,q as k,s as P}from"./vendor.CHp--hJi.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const L={},g=function(e,t,n){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map(e=>{if((e=function(e){return"/pwa/dist/"+e}(e))in L)return;L[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,n&&s.setAttribute("nonce",n),document.head.appendChild(s),t?new Promise((t,n)=>{s.addEventListener("load",t),s.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})},y=[{path:"/",name:"home",component:()=>g(()=>import("./Home.75PSp9Vg.js"),__vite__mapDeps([0,1,2,3,4,5,6])),meta:{title:"Accueil"}},{path:"/home",redirect:"/"},{path:"/recipes",name:"recipes",component:()=>g(()=>import("./RecipesList.DKJJRt6e.js"),__vite__mapDeps([7,1,8,4,2,3,5,9,10,11])),meta:{title:"Recettes"}},{path:"/recipe/:id",name:"recipe-detail",component:()=>g(()=>import("./RecipeDetail.CV24oFoM.js"),__vite__mapDeps([12,1,3,13,14,15])),meta:{title:"Détail Recette"},props:!0},{path:"/tips",name:"tips",component:()=>g(()=>import("./TipsList.Cpr-3_FA.js"),__vite__mapDeps([16,1,8,17])),meta:{title:"Astuces"}},{path:"/tip/:id",name:"tip-detail",component:()=>g(()=>import("./TipDetail.y5kPIEaI.js"),__vite__mapDeps([18,1,3,13,14,19])),meta:{title:"Détail Astuce"},props:!0},{path:"/events",name:"events",component:()=>g(()=>import("./EventsList.BogJ0FP0.js"),__vite__mapDeps([20,1,8,9,10,21])),meta:{title:"Événements"}},{path:"/event/:id",name:"event-detail",component:()=>g(()=>import("./EventDetail.FKX6q215.js"),__vite__mapDeps([22,1,3,23])),meta:{title:"Détail Événement"},props:!0},{path:"/pages",name:"pages",component:()=>g(()=>import("./PagesList.DJFbdRe4.js"),__vite__mapDeps([24,1,8,25])),meta:{title:"Pages"}},{path:"/dinor-tv",name:"dinor-tv",component:()=>g(()=>import("./DinorTV.C-9l1K1w.js"),__vite__mapDeps([26,1,8,27])),meta:{title:"Dinor TV"}},{path:"/video/:id",redirect:e=>"/dinor-tv"},{path:"/web-embed",name:"web-embed",component:()=>g(()=>import("./WebEmbed.BKY8KggT.js"),__vite__mapDeps([28,1,2,3,29])),meta:{title:"Web Embed"}},{path:"/:pathMatch(.*)*",redirect:"/"}],A=e({history:t("/pwa/"),routes:y});A.beforeEach((e,t,n)=>{e.meta.title&&(document.title=`${e.meta.title} - Dinor App`),n()});const I=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},D={name:"AppHeader",props:{title:{type:String,required:!0},showLike:{type:Boolean,default:!1},showShare:{type:Boolean,default:!1},isLiked:{type:Boolean,default:!1},backPath:{type:String,default:null}},emits:["like","share","back"],setup(e,{emit:t}){const n=o();return{handleBack:()=>{e.backPath?n.push(e.backPath):n.go(-1),t("back")},handleLike:()=>{t("like")},handleShare:()=>{t("share")}}}},S={class:"md3-top-app-bar"},O={class:"md3-app-bar-container"},T={class:"md3-app-bar-title"},R={class:"md3-title-large dinor-text-primary"},j={class:"md3-app-bar-actions"},B={class:"material-icons"};const V=I(D,[["render",function(e,t,o,p,d,m){return r(),n("nav",S,[a("div",O,[a("button",{onClick:t[0]||(t[0]=(...e)=>p.handleBack&&p.handleBack(...e)),class:"md3-icon-button"},t[3]||(t[3]=[a("i",{class:"material-icons"},"arrow_back",-1)])),a("div",T,[a("h1",R,s(o.title),1)]),a("div",j,[i(e.$slots,"actions",{},()=>[o.showLike?(r(),n("button",{key:0,onClick:t[1]||(t[1]=(...e)=>p.handleLike&&p.handleLike(...e)),class:c(["md3-icon-button",{liked:o.isLiked}])},[a("i",B,s(o.isLiked?"favorite":"favorite_border"),1)],2)):l("",!0),o.showShare?(r(),n("button",{key:1,onClick:t[2]||(t[2]=(...e)=>p.handleShare&&p.handleShare(...e)),class:"md3-icon-button"},t[4]||(t[4]=[a("i",{class:"material-icons"},"share",-1)]))):l("",!0)])])])])}],["__scopeId","data-v-17e843c6"]]),N={class:"bottom-navigation"},C={class:"nav-items"},W={class:"nav-icon"},q={class:"material-symbols-outlined"},$={class:"nav-label"};const x=I({name:"BottomNavigation",setup(){const e=u();o();return{navItems:p([{name:"all",path:"/",icon:"apps",label:"All"},{name:"recipes",path:"/recipes",icon:"restaurant",label:"Recettes"},{name:"tips",path:"/tips",icon:"lightbulb",label:"Astuces"},{name:"events",path:"/events",icon:"event",label:"Événements"},{name:"web",path:"/web-embed",icon:"language",label:"Web"}]),isActive:t=>"/"===t?"/"===e.path:e.path.startsWith(t)}}},[["render",function(e,t,i,o,l,p){const u=v("router-link");return r(),n("nav",N,[a("div",C,[(r(!0),n(d,null,m(o.navItems,e=>(r(),h(u,{key:e.name,to:e.path,class:c(["nav-item",{active:o.isActive(e.path)}])},{default:b(()=>[a("div",W,[a("span",q,s(e.icon),1)]),a("span",$,s(e.label),1)]),_:2},1032,["to","class"]))),128))])])}],["__scopeId","data-v-adb1faa8"]]),H=f("app",()=>{const e=p(!1),t=p(null),n=p(navigator.onLine),a=p(null),s=p(!1);function i(e){n.value=e}function o(e){a.value=e}function r(e){s.value=e}return{loading:e,error:t,online:n,installPromptEvent:a,isInstalled:s,setLoading:function(t){e.value=t},setError:function(e){t.value=e},clearError:function(){t.value=null},setOnlineStatus:i,setInstallPromptEvent:o,setInstallationStatus:r,showInstallPrompt:async function(){if(!a.value)return!1;try{const e="accepted"===(await a.value.prompt()).outcome;return e&&(r(!0),o(null)),e}catch(e){return console.error("Install prompt failed:",e),!1}},initializeNetworkListeners:function(){window.addEventListener("online",()=>i(!0)),window.addEventListener("offline",()=>i(!1))},initializePWAListeners:function(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),o(e)}),window.addEventListener("appinstalled",()=>{r(!0),o(null)}),window.matchMedia("(display-mode: standalone)").matches&&r(!0)}}}),z={class:"prompt-content"},M={class:"prompt-actions"};const F={id:"app-container"};const K=k(I({name:"App",components:{AppHeader:V,BottomNavigation:x,InstallPrompt:I({name:"InstallPrompt",setup(){const e=H(),t=p(!1),n=p(!1),a=_(()=>e.installPromptEvent&&!e.isInstalled&&!n.value);return w(()=>{sessionStorage.getItem("pwa-install-dismissed")?n.value=!0:setTimeout(()=>{a.value&&(t.value=!0)},3e3)}),{showPrompt:a,visible:t,installApp:async()=>{await e.showInstallPrompt()&&(t.value=!1)},dismissPrompt:()=>{n.value=!0,t.value=!1,sessionStorage.setItem("pwa-install-dismissed","true")}}}},[["render",function(e,t,s,i,o,p){return i.showPrompt?(r(),n("div",{key:0,class:c(["install-prompt",{visible:i.visible}])},[a("div",z,[t[2]||(t[2]=a("div",{class:"prompt-icon"},[a("span",{class:"material-symbols-outlined"},"download")],-1)),t[3]||(t[3]=a("div",{class:"prompt-text"},[a("h3",null,"Installer Dinor App"),a("p",null,"Installez l'app pour une meilleure expérience")],-1)),a("div",M,[a("button",{onClick:t[0]||(t[0]=(...e)=>i.dismissPrompt&&i.dismissPrompt(...e)),class:"btn-dismiss"}," Plus tard "),a("button",{onClick:t[1]||(t[1]=(...e)=>i.installApp&&i.installApp(...e)),class:"btn-install"}," Installer ")])])],2)):l("",!0)}],["__scopeId","data-v-003a7eb4"]])},setup(){const e=u();return{showBottomNav:_(()=>["/","/recipes","/tips","/events","/pages","/dinor-tv"].some(t=>e.path===t||"/"!==t&&e.path.startsWith(t)))}}},[["render",function(e,t,s,i,o,p){const d=v("AppHeader"),m=v("router-view"),u=v("BottomNavigation"),b=v("InstallPrompt");return r(),n("div",F,[E(d),a("main",{class:c(["main-content",{"with-bottom-nav":i.showBottomNav,"with-header":!0}])},[E(m)],2),i.showBottomNav?(r(),h(u,{key:0})):l("",!0),E(b)])}]])),U=P();K.use(U),K.use(A),K.mount("#app");export{V as A,I as _,H as u};
