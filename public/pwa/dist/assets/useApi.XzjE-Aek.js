import{u as e}from"./api.DeptcIQc.js";import{r as a,b as r,s as t}from"./vendor.BeqKZlTx.js";function l(){const a=e();return{request:a.request,get:a.get,post:a.post,put:a.put,del:a.del,invalidateCache:a.invalidateCache,preload:a.preload,isLoading:a.isLoading,getError:a.getError,clearError:a.clearError}}function o(l,o={},u={}){const n=e(),s=a(null),i=a(null),c=a(!1),d=r(()=>`${l}_${JSON.stringify(o.value||o)}`),v=async(e=null,a={})=>{const r=e||o.value||o,t={...u,...a};c.value=!0,i.value=null;try{const e=await n.get(l,r,t);return s.value=e,e}catch(d){throw i.value=d.message,d}finally{c.value=!1}};return!1!==u.autoFetch&&v(),!1!==u.watchParams&&"object"==typeof o&&void 0!==o.value&&t(o,()=>v(),{deep:!0}),{data:s,error:i,loading:c,execute:v,refresh:()=>(n.invalidateCache(d.value),v())}}export{l as a,o as u};
