<!DOCTYPE html>
<html>
<head>
    <title>G√©n√©rateur d'ic√¥nes PWA Dinor - Logo SVG</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        canvas { border: 1px solid #ccc; margin: 10px; }
        .icon-preview { display: inline-block; margin: 10px; text-align: center; }
        .controls { margin: 20px 0; }
        button { padding: 10px 20px; margin: 5px; background: #E1251B; color: white; border: none; border-radius: 5px; cursor: pointer; }
        .status { margin: 10px 0; font-weight: bold; }
    </style>
</head>
<body>
    <h1>G√©n√©rateur d'ic√¥nes PWA Dinor</h1>
    <p>Utilise le logo SVG Dinor pour cr√©er les ic√¥nes PWA</p>
    
    <div class="controls">
        <button onclick="generateIcons()">G√©n√©rer les ic√¥nes Dinor</button>
        <button onclick="downloadAll()">T√©l√©charger toutes les ic√¥nes</button>
    </div>
    
    <div id="status" class="status"></div>
    <div id="previews"></div>

    <script>
        const sizes = [32, 72, 96, 128, 144, 152, 192, 384, 512];
        let generatedCanvases = [];
        
        function updateStatus(message) {
            document.getElementById('status').textContent = message;
            console.log(message);
        }
        
        function generateIcons() {
            updateStatus('üîÑ G√©n√©ration des ic√¥nes en cours...');
            const previewsDiv = document.getElementById('previews');
            previewsDiv.innerHTML = '';
            generatedCanvases = [];
            
            // Charger le SVG Dinor
            const svgData = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="525px" height="268px" viewBox="0 0 525 268" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Dinor-Logo" fill-rule="nonzero">
            <g id="SVGID_1_-link" transform="translate(130.000000, 176.000000)" fill="#9E7C24">
                <path d="M164.3,3 C164.3,3 157.1,3.9 0.5,36.1 C0.5,36.1 37,38.6 118.2,32.2 C231.1,27.6 258.3,69.1 274.8,87.5 C275.8,89.7 352.7,64.6 339.2,50.5 C339.2,50.5 300.9,0.2 205,0.2 C192.5,0.1 178.9,1 164.3,3" id="SVGID_1_"></path>
            </g>
            <g id="SVGID_3_-link" transform="translate(0.000000, 67.000000)" fill="#9E7C24">
                <path d="M25.1,126.1 C69.4,156.8 124.1,143.9 149.4,135.8 L268.2,107.7 C268.2,107.7 285.8,101.7 338.8,95.8 C427.8,85.8 501.1,139 501.1,139 C465.5,85.1 385.6,78.2 385.6,78.2 C276.9,65.8 193.1,126.7 104.7,133.2 C18.6,139.6 13.2,77.8 13.2,77.8 C4.4,34.8 50.8,0.6 50.8,0.6 C-28.2,41.3 4,111.6 25.1,126.1" id="SVGID_3_"></path>
            </g>
            <g id="SVGID_5_-link" transform="translate(57.000000, 212.000000)" fill="#9E7C24">
                <path d="M159.7,18.4 C300.2,0.7 333.3,55.2 333.3,55.2 C333.3,55.2 308.8,-8.7 151.3,5.3 C22.1,16.8 3.7,4.3 1.2,1.3 C4.3,5.9 30.1,34.7 159.7,18.4 M0.7,0.7 C0.7,0.7 0.8,0.9 1.1,1.3 C0.9,1 0.7,0.7 0.7,0.7 Z" id="SVGID_5_"></path>
            </g>
            <g id="Group" transform="translate(35.000000, 0.000000)">
                <path d="M25.3,27.1 C25.3,21.2 23.7,16.6 20.4,13.4 C17.1,10.2 12.5,8.6 6.5,8.6 C4.6,8.6 3.6,7.8 3.6,6.1 C3.6,5 4,4.2 4.8,3.9 C5.6,3.6 7.4,3.4 10.1,3.4 L24.2,3.6 C27.4,3.6 30.3,3.5 32.8,3.4 C36.7,3.2 42.1,2.7 48.9,2.1 C58.1,1.2 65.3,0.8 70.7,0.8 C91.7,0.8 108.5,6.2 121.2,16.9 C133.9,27.6 140.2,42 140.2,59.8 C140.2,82.8 131.7,101.1 114.7,114.7 C102.2,124.7 88.1,129.7 72.5,129.7 C69.9,129.7 64.7,129.4 56.8,129 C52.3,128.8 47.8,128.6 43.1,128.6 C32.1,128.6 24.7,128.9 21.1,129.5 C18.3,130 16.3,130.2 15.3,130.2 C13.9,130.2 13.2,129.3 13.2,127.5 C13.2,126.2 14,125.4 15.5,125.1 C19.3,124.4 22,122.8 23.3,120.4 C24.7,118 25.4,113.9 25.4,108 L25.4,27.1 L25.3,27.1 Z M46.7,22.1 L46.7,103.6 L47.8,112 C49.8,119.2 57.5,122.8 70.7,122.8 C85,122.8 96.4,117.8 104.8,107.9 C113.2,98 117.4,84.6 117.4,67.7 C117.4,50 112.4,35.6 102.2,24.5 C92.1,13.4 79,7.8 63,7.8 C56.4,7.8 52,8.7 49.5,10.4 C47.7,11.6 46.7,15.6 46.7,22.1" id="Shape" fill="#E1251B"></path>
                <path d="M178.6,54.9 L178.6,107.4 C178.6,113.7 179.5,118.1 181.4,120.6 C183.3,123.1 186.8,124.5 191.9,124.8 C193.9,124.9 195,125.7 195,127 C195,128.6 192.6,129.5 187.7,129.5 C187.1,129.5 185.7,129.4 183.7,129.2 L176.7,128.5 C172.9,128.2 170.3,128 169.1,128 C165.8,128 161.4,128.4 155.8,129.3 C154.4,129.6 153.4,129.7 152.6,129.7 C151.3,129.7 150.6,129.1 150.6,127.9 C150.6,127.1 151,126.4 151.8,126 L155,124.4 C156.4,123.7 157.5,122.1 158.5,119.6 C159.5,117.1 159.9,114.4 159.9,111.6 L159.8,107.7 L159.8,76.3 C159.8,71.5 159.3,68.2 158.3,66.3 C157.3,64.5 155.4,63.5 152.8,63.5 L150.7,63.5 C149.5,63.5 148.7,63.2 148.3,62.7 C148.1,62.4 148,62 148,61.4 C148,59.8 149.9,58.6 153.7,57.8 C163.1,55.8 170.6,52.8 176,48.8 C176.7,48.4 177.2,48.2 177.6,48.2 C178.5,48.3 178.9,48.8 178.9,50 L178.8,50.8 C178.6,51.3 178.6,52.7 178.6,54.9" id="Path" fill="#E1251B"></path>
                <path d="M281.5,90.2 L281.5,109 C281.5,113 281.7,115.7 282.2,117.2 C282.6,118.7 283.6,120 285.2,121.3 C287.4,123.1 290.3,124.2 293.7,124.5 C295.6,124.8 296.6,125.5 296.6,126.7 C296.6,128.6 294.4,129.5 290,129.5 C289.1,129.5 287.7,129.4 286,129.2 L279.9,128.5 C277.2,128.2 275,128.1 273.5,128.1 C267.6,128.1 262.9,128.5 259.4,129.2 C258,129.5 256.7,129.6 255.7,129.6 C254.3,129.6 253.6,128.9 253.6,127.6 C253.6,126.6 254.3,125.8 255.7,125.3 C258.4,124.4 260.2,122.9 261.2,120.9 C262.1,118.9 262.6,115.6 262.6,110.9 L262.6,89 C262.6,80.6 260.9,73.9 257.6,69 C254.2,64.1 249.7,61.6 243.9,61.6 C238.7,61.6 234.5,63 231.4,65.9 C228.2,68.7 226.6,72.5 226.6,77 L226.6,108 C226.6,113.7 227.7,117.8 229.8,120.5 C231.9,123.1 235.5,124.7 240.6,125.1 C242.3,125.3 243.2,126 243.2,127.2 C243.2,128.9 242.1,129.8 239.9,129.8 C237.9,129.8 235.4,129.7 232.6,129.3 C225.6,128.4 220.8,128 218.1,128 C214.5,128 210.3,128.3 205.6,129 C203.4,129.3 201.8,129.5 201,129.5 C199.4,129.5 198.7,128.9 198.7,127.5 C198.7,126.6 199.2,126 200.3,125.6 C203.5,124.4 205.5,123.1 206.3,121.7 C207.2,120.3 207.6,117.8 207.6,114 L207.7,110.9 L207.7,78.2 L207.6,74.6 C207.6,70.1 207.2,67.1 206.3,65.4 C205.4,63.7 203.7,62.8 201.3,62.8 L197,62.8 C196.4,62.8 195.9,62.6 195.6,62.2 C195.3,61.9 195.1,61.4 195.1,60.8 C195.1,59.6 195.6,58.8 196.5,58.3 C197.4,57.8 200.2,57 204.7,55.9 C212.5,54.1 218.9,51.4 224.2,47.8 C224.6,47.4 225,47.2 225.4,47.2 C226.1,47.1 226.5,47.7 226.5,49 L226.2,53.6 L226.1,58.9 L226.7,62.4 C226.9,63.1 227.3,63.5 227.9,63.5 C228.4,63.7 229.4,62.8 230.9,61.1 C236.6,54.2 244.1,50.7 253.4,50.7 C263.5,50.7 270.7,53.7 275,59.8 C279.3,66.2 281.5,76.2 281.5,90.2" id="Path" fill="#E1251B"></path>
                <path d="M342.2,50.9 C353.9,50.9 363.6,54.6 371.2,62 C378.8,69.4 382.6,78.8 382.6,90.3 C382.6,102.1 378.5,112 370.2,119.9 C361.9,127.9 351.7,131.8 339.3,131.8 C327.7,131.8 318.1,128.1 310.4,120.8 C302.7,113.4 298.8,104.2 298.8,93.1 C298.8,81.4 303,71.5 311.5,63.2 C319.9,55.1 330.2,50.9 342.2,50.9 M337.4,56.1 C331.4,56.1 326.7,58.6 323.2,63.7 C319.7,68.8 317.9,75.6 317.9,84.1 C317.9,95.8 320.6,105.9 326,114.3 C331.4,122.7 338,126.9 345.6,126.9 C351.4,126.9 356.1,124.5 359.8,119.7 C363.5,114.9 365.3,108.8 365.3,101.2 C365.3,88.6 362.6,78 357.2,69.2 C351.7,60.4 345.1,56.1 337.4,56.1" id="Shape" fill="#E1251B"></path>
                <path d="M420.2,82.7 L420.2,108.8 C420.2,118.6 424.8,124.1 433.9,125.3 C435.8,125.5 436.8,126.3 436.8,127.6 C436.8,129.2 436.1,130 434.7,130 C434,130 433.2,129.9 432.1,129.7 C425.9,128.8 419.5,128.3 412.9,128.3 C409.4,128.3 406.3,128.4 403.5,128.7 L397.7,129.3 C396.7,129.4 395.6,129.5 394.4,129.5 C392.7,129.5 391.8,128.7 391.8,127 C391.8,125.9 392.6,125.1 394.1,124.7 C399,123.5 401.4,118.9 401.4,110.9 L401.3,107 L401.3,73.9 C401.3,69.5 400.7,66.5 399.6,65.1 C398.4,63.6 396,62.8 392.2,62.5 C390.8,62.4 390,61.7 390,60.5 C390,59.1 390.8,58.3 392.5,58 C401,56.7 408.3,54.3 414.3,50.8 L417.9,48.7 C418.4,48.4 418.9,48.2 419.3,48.2 C420.2,48.2 420.7,48.9 420.7,50.2 C420.7,50.6 420.7,51.5 420.6,52.9 L420.3,58.1 L419.9,63.9 L420,64.9 C420.3,65.8 420.7,66.2 421.4,66.3 C422,66.4 423.4,64.9 425.4,61.8 C427.1,59.5 429.6,56.9 433.1,54.2 C436.6,51.5 438.9,50.2 440.2,50.2 C442.3,50.2 445.5,51.8 449.7,55 C453.9,58.2 456,60.6 456.1,62.2 C456.1,62.8 455.1,64.9 453.1,68.7 C450.5,73.5 448.3,75.8 446.4,75.8 C445.6,75.8 444.9,75.5 444.2,74.9 L441.6,72.6 C438.5,69.7 434.9,68.2 430.8,68.2 C423.9,68.2 420.2,73 420.2,82.7" id="Path" fill="#E1251B"></path>
            </g>
            <g id="Calque_2" transform="translate(184.000000, 4.000000)" fill="#9E7C24">
                <path d="M7.9,9.1 C3,15 0.5,18.8 0.5,20.5 C0.5,21.6 1.2,23 2.6,24.8 L8.1,31.1 L14,38.2 C15.1,39.2 16.2,39.7 17.4,39.7 C19.2,39.7 22.3,36.9 27,31.3 C31.7,25.7 33.9,21.9 33.9,19.9 C33.8,18.6 33.1,17.1 31.9,15.5 L26.7,8.8 C22.2,3.1 19.1,0.3 17.3,0.3 C16,0.2 12.8,3.2 7.9,9.1" id="Path"></path>
            </g>
        </g>
    </g>
</svg>`;
            
            const svgBlob = new Blob([svgData], { type: 'image/svg+xml' });
            const svgUrl = URL.createObjectURL(svgBlob);
            const img = new Image();
            
            img.onload = function() {
                updateStatus('‚úÖ Logo SVG charg√©, g√©n√©ration des ic√¥nes...');
                
                sizes.forEach((size, index) => {
                    setTimeout(() => {
                        const canvas = document.createElement('canvas');
                        canvas.width = size;
                        canvas.height = size;
                        const ctx = canvas.getContext('2d');
                        
                        // Fond blanc
                        ctx.fillStyle = '#ffffff';
                        ctx.fillRect(0, 0, size, size);
                        
                        // Calculer les dimensions pour centrer le logo
                        const aspectRatio = img.width / img.height; // 525/268 ‚âà 1.96
                        let drawWidth, drawHeight, x, y;
                        
                        if (aspectRatio > 1) {
                            // Logo plus large que haut
                            drawWidth = size * 0.9; // 90% de la taille
                            drawHeight = drawWidth / aspectRatio;
                        } else {
                            // Logo plus haut que large
                            drawHeight = size * 0.9;
                            drawWidth = drawHeight * aspectRatio;
                        }
                        
                        x = (size - drawWidth) / 2;
                        y = (size - drawHeight) / 2;
                        
                        // Dessiner le logo
                        ctx.drawImage(img, x, y, drawWidth, drawHeight);
                        
                        // Aper√ßu
                        const preview = document.createElement('div');
                        preview.className = 'icon-preview';
                        preview.innerHTML = `<div>${size}x${size}px</div>`;
                        preview.appendChild(canvas);
                        previewsDiv.appendChild(preview);
                        
                        // Stocker le canvas pour t√©l√©chargement
                        generatedCanvases.push({
                            canvas: canvas,
                            size: size,
                            filename: `icon-${size}x${size}.png`
                        });
                        
                        updateStatus(`‚úÖ Ic√¥ne ${size}x${size} g√©n√©r√©e (${index + 1}/${sizes.length})`);
                        
                        if (index === sizes.length - 1) {
                            updateStatus('üéâ Toutes les ic√¥nes ont √©t√© g√©n√©r√©es avec succ√®s !');
                        }
                    }, 200 * index);
                });
                
                URL.revokeObjectURL(svgUrl);
            };
            
            img.onerror = function() {
                updateStatus('‚ùå Erreur lors du chargement du logo SVG');
            };
            
            img.src = svgUrl;
        }
        
        function downloadAll() {
            if (generatedCanvases.length === 0) {
                updateStatus('‚ö†Ô∏è Veuillez d\'abord g√©n√©rer les ic√¥nes');
                return;
            }
            
            updateStatus('üì• T√©l√©chargement de toutes les ic√¥nes...');
            
            generatedCanvases.forEach((item, index) => {
                setTimeout(() => {
                    const link = document.createElement('a');
                    link.download = item.filename;
                    link.href = item.canvas.toDataURL('image/png');
                    link.click();
                    
                    if (index === generatedCanvases.length - 1) {
                        updateStatus('‚úÖ Toutes les ic√¥nes ont √©t√© t√©l√©charg√©es !');
                    }
                }, 300 * index);
            });
        }
        
        // Auto-g√©n√©ration au chargement de la page
        window.addEventListener('load', function() {
            updateStatus('üöÄ Pr√™t √† g√©n√©rer les ic√¥nes Dinor');
        });
    </script>
</body>
</html> 