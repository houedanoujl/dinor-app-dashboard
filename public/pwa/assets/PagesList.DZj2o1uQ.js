import{e as a,f as e,t as s,J as t,F as l,m as r,g as o,r as n,h as c,k as i,o as d}from"./vendor.CgTKjNNK.js";import{_ as p,b as g}from"./index.DSySyJtv.js";const m={class:"pages-list"},u={key:0,class:"loading-state"},b={key:1,class:"error-state"},v={class:"md3-body-large dinor-text-gray"},y={key:2,class:"empty-state"},f={key:3,class:"pages-grid"},h=["onClick"],k={class:"page-icon"},j={class:"material-symbols-outlined"},P={class:"emoji-fallback"},_={class:"page-content"},x={class:"page-title"},C={key:0,class:"page-excerpt"},w={class:"page-meta"},E={key:0,class:"template-badge"},D={key:1,class:"last-updated"};const F=p({name:"PagesList",setup(){const a=i(),e=n([]),s=n(!1),t=n(null),l=async()=>{s.value=!0,t.value=null;try{const a=await g.getPages();if(!a.success)throw new Error(a.message||"Failed to fetch pages");e.value=a.data}catch(a){t.value=a.message,console.error("Error fetching pages:",a)}finally{s.value=!1}};return c(()=>{l()}),{pages:e,loading:s,error:t,goToPage:e=>{a.push(`/page/${e}`)},retry:()=>{t.value=null,l()},getPageIcon:a=>{const e={about:"info",contact:"mail",privacy:"privacy_tip",terms:"gavel",faq:"help",default:"article"};return e[a]||e.default},getTemplateLabel:a=>{const e={about:"√Ä propos",contact:"Contact",privacy:"Confidentialit√©",terms:"Conditions",faq:"FAQ",default:"Page"};return e[a]||e.default},formatDate:a=>a?new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):"",getPageEmoji:a=>{const e={about:"ü§î",contact:"üìß",privacy:"üîí",terms:"üìú",faq:"‚ùì",default:"üìÑ"};return e[a]||e.default}}}},[["render",function(n,c,i,p,g,F){return d(),a("div",m,[p.loading?(d(),a("div",u,c[1]||(c[1]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Chargement des pages...",-1)]))):p.error?(d(),a("div",b,[c[2]||(c[2]=e("div",{class:"error-icon"},[e("span",{class:"material-symbols-outlined"},"error"),e("span",{class:"emoji-fallback"},"‚ö†Ô∏è")],-1)),c[3]||(c[3]=e("h2",{class:"md3-title-large"},"Erreur de chargement",-1)),e("p",v,s(p.error),1),e("button",{onClick:c[0]||(c[0]=(...a)=>p.retry&&p.retry(...a)),class:"btn-secondary"},"R√©essayer")])):p.loading||0!==p.pages.length?(d(),a("div",f,[(d(!0),a(l,null,r(p.pages,t=>(d(),a("article",{key:t.id,onClick:a=>p.goToPage(t.id),class:"page-card"},[e("div",k,[e("span",j,s(p.getPageIcon(t.template)),1),e("span",P,s(p.getPageEmoji(t.template)),1)]),e("div",_,[e("h3",x,s(t.title),1),t.excerpt?(d(),a("p",C,s(t.excerpt),1)):o("",!0),e("div",w,[t.template?(d(),a("span",E,s(p.getTemplateLabel(t.template)),1)):o("",!0),t.updated_at?(d(),a("span",D," Mis √† jour "+s(p.formatDate(t.updated_at)),1)):o("",!0)])]),c[5]||(c[5]=e("div",{class:"page-arrow"},[e("span",{class:"material-symbols-outlined"},"chevron_right"),e("span",{class:"emoji-fallback"},"‚ñ∂Ô∏è")],-1))],8,h))),128))])):(d(),a("div",y,c[4]||(c[4]=[t('<div class="empty-icon" data-v-13b7baa5><span class="material-symbols-outlined" data-v-13b7baa5>menu_book</span><span class="emoji-fallback" data-v-13b7baa5>üìñ</span></div><h2 class="md3-title-medium" data-v-13b7baa5>Aucune page trouv√©e</h2><p class="md3-body-medium dinor-text-gray" data-v-13b7baa5> Aucune page n&#39;est disponible pour le moment. </p>',3)])))])}],["__scopeId","data-v-13b7baa5"]]);export{F as default};
