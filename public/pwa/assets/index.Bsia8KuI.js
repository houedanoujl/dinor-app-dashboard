const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home.CouI2pqN.js","assets/vendor.Bvrl98ec.js","assets/useApi.CD5SC-zH.js","assets/BannerSection.B2oN4XQD.js","assets/BannerSection.CMVqwP19.css","assets/LikeButton.BaS3FP9-.js","assets/LikeButton.DCsx9HV7.css","assets/Home.4R0HFCAY.css","assets/RecipesList.Dvb5P6Mj.js","assets/SearchAndFilters.DPYZdhhF.js","assets/SearchAndFilters.DhpLTWqq.css","assets/RecipesList.CEsnQzT2.css","assets/RecipeDetail.Dx2661gS.js","assets/useComments.783SSx2G.js","assets/Badge.DyXEPUhr.js","assets/Badge.CyRVNslW.css","assets/FavoriteButton.C_Al6jlz.js","assets/FavoriteButton.HOKXQ-I5.css","assets/RecipeDetail.CikpOQcH.css","assets/TipsList.CbapSz0v.js","assets/TipsList.BFkvQqZq.css","assets/TipDetail.D-y5Yl8q.js","assets/TipDetail.D6kw8lRb.css","assets/EventsList.DJOdTNFp.js","assets/EventsList.DKdPWiZo.css","assets/EventDetail.CClnn6Z9.js","assets/EventDetail.WLZIMIs3.css","assets/PagesList.H6vnEyD_.js","assets/PagesList.B4hFMhqb.css","assets/DinorTV.DBlqFKSB.js","assets/DinorTV.Dg3lzYbb.css","assets/WebEmbed.DPIliKWd.js","assets/WebEmbed.7JmI38mu.css","assets/Profile.qglg942e.js","assets/Profile.Ejzdf5GE.css","assets/TermsOfService.BKmXz-7b.js","assets/TermsOfService.DiEZV5Dq.css","assets/PrivacyPolicy.CEM_pCjI.js","assets/PrivacyPolicy.DeflSHSI.css","assets/CookiePolicy.CSxVrOZD.js","assets/CookiePolicy.CBPAEsFF.css","assets/Predictions.CfCxvo-7.js","assets/Predictions.DSa3Y-AN.css","assets/PredictionsTeams.Cpe5AizB.js","assets/PredictionsTeams.B2N2jqx8.css","assets/PredictionsLeaderboard.DMGUU7MM.js","assets/PredictionsLeaderboard.D8Fsuwim.css","assets/Tournaments.BQj70mv_.js","assets/Tournaments.B5MFIoVu.css","assets/TournamentBetting.BaUSjOlL.js","assets/TournamentBetting.BnIiBiUJ.css"])))=>i.map(i=>d[i]);
import{c as e,a as t,r as a,d as n,b as o,e as r,m as i,f as s,o as c,u as l,w as d,g as u,h as p,i as h,j as m,k as f,l as g,t as v,n as y,p as k,q as w,s as b,v as I,x as L,T as _,y as S,z as A,A as E,B as M,C,D as x,F as T,E as P,G as D,H as O,I as R,J as q}from"./vendor.Bvrl98ec.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const z={},H=function(e,t,a){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));n=Promise.allSettled(t.map(e=>{if((e=function(e){return"/pwa/"+e}(e))in z)return;z[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,a&&o.setAttribute("nonce",a),document.head.appendChild(o),t?new Promise((t,a)=>{o.addEventListener("load",t),o.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})},$=[{path:"/",name:"home",component:()=>H(()=>import("./Home.CouI2pqN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),meta:{title:"Accueil"}},{path:"/home",redirect:"/"},{path:"/recipes",name:"recipes",component:()=>H(()=>import("./RecipesList.Dvb5P6Mj.js"),__vite__mapDeps([8,1,3,2,4,9,10,5,6,11])),meta:{title:"Recettes"}},{path:"/recipe/:id",name:"recipe-detail",component:()=>H(()=>import("./RecipeDetail.Dx2661gS.js"),__vite__mapDeps([12,1,13,14,15,16,17,5,6,18])),meta:{title:"Détail Recette"},props:!0},{path:"/tips",name:"tips",component:()=>H(()=>import("./TipsList.CbapSz0v.js"),__vite__mapDeps([19,1,3,2,4,16,17,5,6,20])),meta:{title:"Astuces"}},{path:"/tip/:id",name:"tip-detail",component:()=>H(()=>import("./TipDetail.D-y5Yl8q.js"),__vite__mapDeps([21,1,13,14,15,22])),meta:{title:"Détail Astuce"},props:!0},{path:"/events",name:"events",component:()=>H(()=>import("./EventsList.DJOdTNFp.js"),__vite__mapDeps([23,1,3,2,4,9,10,24])),meta:{title:"Événements"}},{path:"/event/:id",name:"event-detail",component:()=>H(()=>import("./EventDetail.CClnn6Z9.js"),__vite__mapDeps([25,1,13,26])),meta:{title:"Détail Événement"},props:!0},{path:"/pages",name:"pages",component:()=>H(()=>import("./PagesList.H6vnEyD_.js"),__vite__mapDeps([27,1,28])),meta:{title:"Pages"}},{path:"/dinor-tv",name:"dinor-tv",component:()=>H(()=>import("./DinorTV.DBlqFKSB.js"),__vite__mapDeps([29,1,3,2,4,16,17,30])),meta:{title:"Dinor TV"}},{path:"/video/:id",redirect:e=>"/dinor-tv"},{path:"/web-embed",name:"web-embed",component:()=>H(()=>import("./WebEmbed.DPIliKWd.js"),__vite__mapDeps([31,1,2,32])),meta:{title:"Web Embed"}},{path:"/profile",name:"profile",component:()=>H(()=>import("./Profile.qglg942e.js"),__vite__mapDeps([33,1,34])),meta:{title:"Profil"}},{path:"/terms",name:"terms-of-service",component:()=>H(()=>import("./TermsOfService.BKmXz-7b.js"),__vite__mapDeps([35,1,36])),meta:{title:"Conditions Générales d'Utilisation"}},{path:"/privacy",name:"privacy-policy",component:()=>H(()=>import("./PrivacyPolicy.CEM_pCjI.js"),__vite__mapDeps([37,1,38])),meta:{title:"Politique de Confidentialité"}},{path:"/cookies",name:"cookie-policy",component:()=>H(()=>import("./CookiePolicy.CSxVrOZD.js"),__vite__mapDeps([39,1,40])),meta:{title:"Politique des Cookies"}},{path:"/predictions",name:"predictions",component:()=>H(()=>import("./Predictions.CfCxvo-7.js"),__vite__mapDeps([41,1,42])),meta:{title:"Pronostics"}},{path:"/predictions/teams",name:"predictions-teams",component:()=>H(()=>import("./PredictionsTeams.Cpe5AizB.js"),__vite__mapDeps([43,1,44])),meta:{title:"Équipes"}},{path:"/predictions/leaderboard",name:"predictions-leaderboard",component:()=>H(()=>import("./PredictionsLeaderboard.DMGUU7MM.js"),__vite__mapDeps([45,1,46])),meta:{title:"Classement"}},{path:"/predictions/tournaments",name:"predictions-tournaments",component:()=>H(()=>import("./Tournaments.BQj70mv_.js"),__vite__mapDeps([47,1,48])),meta:{title:"Tournois"}},{path:"/predictions/betting",name:"tournament-betting",component:()=>H(()=>import("./TournamentBetting.BaUSjOlL.js"),__vite__mapDeps([49,1,50])),meta:{title:"Paris de Tournois"}},{path:"/:pathMatch(.*)*",redirect:"/"}],V=e({history:t("/pwa/"),routes:$});V.beforeEach((e,t,a)=>{e.meta.title&&(document.title=`${e.meta.title} - Dinor App`),a()});const j=()=>{const e=a(!1),t=a(!1),n={facebook:(e,t)=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,twitter:(e,t,a)=>`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURIComponent(a||t)}`,whatsapp:(e,t,a)=>`https://wa.me/?text=${encodeURIComponent((a||t)+" "+e)}`,linkedin:(e,t,a)=>`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(e)}`,telegram:(e,t,a)=>`https://t.me/share/url?url=${encodeURIComponent(e)}&text=${encodeURIComponent(a||t)}`,email:(e,t,a)=>`mailto:?subject=${encodeURIComponent(t)}&body=${encodeURIComponent((a||t)+"\n\n"+e)}`,pinterest:(e,t,a)=>`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(e)}&description=${encodeURIComponent(t)}${a?"&media="+encodeURIComponent(a):""}`},o=async t=>{if(navigator.share)try{return e.value=!0,await navigator.share({title:t.title,text:t.text||t.title,url:t.url||window.location.href}),!0}catch(a){return"AbortError"!==a.name&&console.error("Erreur de partage:",a),!1}finally{e.value=!1}return!1};return{isSharing:e,showShareModal:t,share:async e=>{await o(e)||(t.value=!0)},shareNative:o,shareToSocial:async(e,t)=>{console.log("🌐 [useSocialShare] shareToSocial appelé avec:",{platform:e,data:t});const{url:a=window.location.href,title:o=document.title,text:r,image:i}=t;if(n[e]){const c=n[e](a,o,r,i);if(console.log("🔗 [useSocialShare] URL de partage générée:",c),window.innerWidth>768&&"email"!==e){console.log("💻 [useSocialShare] Ouverture en popup (desktop)");const e=600,t=400,a=(window.innerWidth-e)/2,n=(window.innerHeight-t)/2;window.open(c,"share-popup",`width=${e},height=${t},left=${a},top=${n},toolbar=no,menubar=no`)}else console.log("📱 [useSocialShare] Ouverture en nouvel onglet (mobile/email)"),window.open(c,"_blank");if(t.type&&t.id)try{await fetch("/api/v1/shares/track",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({type:t.type,id:t.id,platform:e})})}catch(s){console.error("Erreur lors du tracking du partage:",s)}"undefined"!=typeof gtag&&gtag("event","share",{method:e,content_type:t.type||"content",item_id:t.id})}else console.error("❌ [useSocialShare] Plateforme non supportée:",e)},copyLink:async(e=window.location.href)=>{try{return await navigator.clipboard.writeText(e),!0}catch(t){const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",document.body.appendChild(n),n.select();try{return document.execCommand("copy"),document.body.removeChild(n),!0}catch(a){return document.body.removeChild(n),!1}}},closeShareModal:()=>{t.value=!1},updateOpenGraphTags:e=>{const{title:t,description:a,image:n,url:o}=e;document.querySelectorAll('meta[property^="og:"]').forEach(e=>e.remove());const r=document.getElementsByTagName("head")[0];if(t){const e=document.createElement("meta");e.setAttribute("property","og:title"),e.content=t,r.appendChild(e)}if(a){const e=document.createElement("meta");e.setAttribute("property","og:description"),e.content=a,r.appendChild(e)}if(n){const e=document.createElement("meta");e.setAttribute("property","og:image"),e.content=n.startsWith("http")?n:`${window.location.origin}${n}`,r.appendChild(e)}const i=document.createElement("meta");i.setAttribute("property","og:url"),i.content=o||window.location.href,r.appendChild(i);const s=document.createElement("meta");s.setAttribute("property","og:type"),s.content="article",r.appendChild(s);const c=document.createElement("meta");c.setAttribute("property","og:site_name"),c.content="Dinor",r.appendChild(c)}}},N=n("cache",()=>{const e=a(new Map),t=a(new Map),n=a(3e5);function o(a){const n=t.value.get(a);return!n||Date.now()>n?(e.value.delete(a),t.value.delete(a),null):e.value.get(a)}function r(){const a=Date.now();for(const[n,o]of t.value.entries())a>o&&(e.value.delete(n),t.value.delete(n))}return setInterval(r,3e4),{defaultTTL:n,set:function(a,o,r=n.value){e.value.set(a,o),t.value.set(a,Date.now()+r)},get:o,has:function(e){return null!==o(e)},remove:function(a){e.value.delete(a),t.value.delete(a)},clear:function(){e.value.clear(),t.value.clear()},clearExpired:r,getCacheInfo:function(){return{size:e.value.size,keys:Array.from(e.value.keys()),expired:Array.from(t.value.entries()).filter(([,e])=>Date.now()>e).map(([e])=>e)}}}}),F=n("api",()=>{const e=a(new Map),t=a(new Map),n=a(`${window.location.origin}/api/v1`);N();const r=B();const i=o(()=>t=>e.value.get(t)||!1),s=o(()=>e=>t.value.get(e)||null);function c(t,a){a?e.value.set(t,!0):e.value.delete(t)}function l(e,a){a?t.value.set(e,a):t.value.delete(e)}async function d(e,t={}){const a=`${e}_${JSON.stringify(t)}`;console.log("🌐 [API Store] Nouvelle requête:",{endpoint:e,options:t,cacheKey:a}),console.log("🌐 [API Store] Communication directe avec l'API (cache désactivé)"),c(a,!0),l(a,null);try{const a=`${n.value}${e}`;console.log("📡 [API Store] URL complète:",a);const i={headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...t.headers},...t};r.token&&(i.headers.Authorization=`Bearer ${r.token}`,console.log("🔐 [API Store] Token d'authentification ajouté")),console.log("⚙️ [API Store] Configuration de la requête:",i),console.log("🚀 [API Store] Envoi de la requête fetch...");const s=await fetch(a,i);if(console.log("📩 [API Store] Réponse reçue:",{status:s.status,ok:s.ok}),!s.ok){if(console.error("❌ [API Store] Erreur HTTP:",s.status,s.statusText),401===s.status){console.warn("🔐 [API Store] Erreur 401 - Session expirée ou utilisateur non connecté"),r.token&&(console.log("🗑️ [API Store] Suppression de la session expirée"),r.clearAuth());const e=new Error("Vous devez être connecté pour effectuer cette action. Veuillez vous connecter ou créer un compte.");throw e.type="AUTH_REQUIRED",e.status=401,e.actionRequired="LOGIN_OR_REGISTER",e}let e=null;try{e=await s.json(),console.log("📄 [API Store] Données d'erreur détaillées:",e)}catch(o){console.warn("⚠️ [API Store] Impossible de parser les données d'erreur JSON")}let t=`Erreur ${s.status}`;switch(s.status){case 403:t="Accès non autorisé. Vous n'avez pas les permissions nécessaires.";break;case 404:t="Ressource non trouvée.";break;case 422:t=(null==e?void 0:e.message)?e.message:"Données invalides. Veuillez vérifier vos informations.";break;case 429:t="Trop de requêtes. Veuillez patienter avant de réessayer.";break;case 500:t="Erreur du serveur. Veuillez réessayer plus tard.";break;case 503:t="Service temporairement indisponible. Veuillez réessayer plus tard.";break;default:t=`Erreur de connexion (${s.status}). Veuillez vérifier votre connexion internet.`}const a=new Error(t);throw a.status=s.status,a.type="HTTP_ERROR",e&&(a.response={data:e}),a}console.log("🔄 [API Store] Parsing JSON...");const c=await s.json();return console.log("✅ [API Store] Données JSON reçues:",c),c}catch(i){throw console.error("💥 [API Store] Erreur lors de la requête:",i),l(a,i.message),i}finally{c(a,!1),console.log("🏁 [API Store] Fin de la requête:",e)}}function u(e){console.log("🗑️ [API Store] Invalidation du cache:",e,"- Cache désactivé, requête directe à l'API"),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"INVALIDATE_CACHE",pattern:e})}return"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",e=>{e.data&&"CACHE_INVALIDATED"===e.data.type&&(console.log("🔄 [API Store] Cache invalidé par le Service Worker:",e.data),u(e.data.pattern||""))}),{loading:e,errors:t,baseURL:n,isLoading:i,getError:s,setLoading:c,setError:l,request:d,get:async function(e,t={},a={}){const n=new URLSearchParams(t).toString();return d(n?`${e}?${n}`:e,{...a,method:"GET"})},getFresh:async function(e,t={},a={}){const n=new URLSearchParams(t).toString();return d(n?`${e}?${n}`:e,{...a,method:"GET"})},post:async function(e,t,a={}){return d(e,{...a,method:"POST",body:JSON.stringify(t)})},put:async function(e,t,a={}){return d(e,{...a,method:"PUT",body:JSON.stringify(t)})},del:async function(e,t={}){return d(e,{...t,method:"DELETE"})},invalidateCache:u,forceRefresh:function(){console.log("🔄 [API Store] Rechargement forcé demandé - Cache désactivé, requête directe à l'API"),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"FORCE_REFRESH"})},clearAllCache:function(){console.log("🗑️ [API Store] Suppression de tout le cache - Cache désactivé, requête directe à l'API"),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"CLEAR_ALL_CACHE"})},checkPWACache:async function(e,t={}){try{const a=`${e}_${JSON.stringify(t.params||{})}`,n=await fetch("/api/pwa/cache/get",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({key:a})});if(n.ok){const e=await n.json();if(e.success&&e.cached)return e.data}}catch(a){console.log("ℹ️ [API Store] Cache PWA non accessible:",a.message)}return null},setPWACache:async function(e,t,a={}){try{const n=`${e}_${JSON.stringify(a.params||{})}`,o=a.cacheTTL||3600;await fetch("/api/pwa/cache/set",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({key:n,value:t,ttl:o})})}catch(n){console.log("ℹ️ [API Store] Cache PWA non accessible pour la sauvegarde")}}}});console.log("🚀 [Auth Store] Store d'authentification chargé avec les modifications!");const B=n("auth",()=>{const e=a(JSON.parse(localStorage.getItem("auth_user")||"null")),t=a(localStorage.getItem("auth_token")||null),n=a(!1),r=a(null),i=F(),s=o(()=>!!t.value&&!!e.value),c=o(()=>{var t;return(null==(t=e.value)?void 0:t.name)||""}),l=o(()=>{var t;return(null==(t=e.value)?void 0:t.email)||""}),d=e=>{t.value=e,e?localStorage.setItem("auth_token",e):localStorage.removeItem("auth_token")},u=t=>{e.value=t,t?localStorage.setItem("auth_user",JSON.stringify(t)):localStorage.removeItem("auth_user")},p=()=>{const a=localStorage.getItem("auth_token"),n=localStorage.getItem("auth_user");if(a&&n){t.value=a;try{const t=JSON.parse(n);t&&"object"==typeof t?(e.value=t,console.log("🔍 [Auth Store] Utilisateur restauré:",t)):(console.warn("🔍 [Auth Store] Données utilisateur invalides"),h())}catch(o){console.error("🔍 [Auth Store] Erreur parsing utilisateur:",o),h()}}},h=()=>{e.value=null,t.value=null,localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")};return p(),{user:e,token:t,loading:n,error:r,isAuthenticated:s,userName:c,userEmail:l,register:async e=>{n.value=!0,r.value=null;try{console.log("🔐 [Auth] Tentative d'inscription avec les données:",e),console.log("🔐 [Auth] Store API utilisé:",!!i);const t=await i.post("/auth/register",e);if(console.log("📄 [Auth] Données de réponse:",t),t.success)return d(t.data.token),u(t.data.user),console.log("✅ [Auth] Inscription réussie pour:",t.data.user.name),{success:!0,user:t.data.user};throw new Error(t.message||"Erreur lors de l'inscription")}catch(t){return console.error("❌ [Auth] Erreur d'inscription:",t.message),console.error("❌ [Auth] Stack trace:",t.stack),r.value=t.message,{success:!1,error:t.message}}finally{n.value=!1}},login:async t=>{if(s.value)return console.log("✅ [Auth] Utilisateur déjà connecté, pas besoin de se reconnecter"),{success:!0,user:e.value};n.value=!0,r.value=null;try{console.log("🔐 [Auth] Tentative de connexion pour:",t.email);const e=await i.post("/auth/login",t);if(console.log("📩 [Auth] Réponse de connexion:",{success:e.success}),e.success)return d(e.data.token),u(e.data.user),console.log("✅ [Auth] Connexion réussie pour:",e.data.user.name),{success:!0,user:e.data.user};throw new Error(e.message||"Erreur lors de la connexion")}catch(a){return console.error("❌ [Auth] Erreur de connexion:",a.message),r.value=a.message,{success:!1,error:a.message}}finally{n.value=!1}},logout:async()=>{n.value=!0;try{t.value&&await i.post("/auth/logout")}catch(e){console.error("Erreur lors de la déconnexion:",e)}finally{h(),n.value=!1,console.log("👋 [Auth] Déconnexion terminée")}},getProfile:async()=>{if(!t.value)return null;try{const e=await i.get("/auth/profile");if(e.success)return u(e.data),e.data}catch(e){console.error("Erreur lors de la récupération du profil:",e),e.message.includes("401")&&h()}return null},setUser:u,clearAuth:h,initAuth:p}});const U=new class{constructor(){this.baseURL=this.getBaseURL()}getBaseURL(){return`${window.location.origin}/api/v1`}async request(e,t={}){const a=`${this.baseURL}${e}`,n=localStorage.getItem("auth_token");console.log("🔐 [API] Token d'authentification:",n?"***existe***":"null");const o={headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...n&&{Authorization:`Bearer ${n}`},...t.headers},...t};o.body&&"object"==typeof o.body&&(o.body=JSON.stringify(o.body)),console.log("📡 [API] Requête vers:",e,{method:t.method||"GET",hasAuthToken:!!n,headers:{...o.headers,Authorization:n?"***Bearer token***":void 0}});try{const t=await fetch(a,o);if(console.log("📡 [API] Réponse reçue:",{status:t.status,statusText:t.statusText,ok:t.ok}),!t.ok){401===t.status&&console.error("🔒 [API] Erreur 401 - Token invalide ou manquant");const e=await t.text();throw new Error(`HTTP error! status: ${t.status}, message: ${e}`)}const n=await t.json();return console.log("✅ [API] Réponse JSON:",{success:n.success,endpoint:e}),n}catch(r){throw console.error("❌ [API] Erreur de requête:",{endpoint:e,error:r.message,status:r.status}),r}}clearCache(){console.log("🗑️ [API] Nettoyage complet du cache"),"serviceWorker"in navigator&&"caches"in window&&caches.keys().then(e=>{e.forEach(e=>{(e.includes("api")||e.includes("dinor"))&&(console.log("🗑️ [API] Suppression cache SW:",e),caches.delete(e))})})}invalidateCache(e){console.log("🗑️ [API] Cache invalidé pour le pattern:",e,"- Cache désactivé, requête directe à l'API")}async requestFresh(e,t={}){const a=`${this.baseURL}${e}`,n=localStorage.getItem("auth_token");console.log("🔄 [API] Requête fraîche vers:",e);const o={headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0",...n&&{Authorization:`Bearer ${n}`},...t.headers},...t};o.body&&"object"==typeof o.body&&(o.body=JSON.stringify(o.body));try{const t=await fetch(a,o);if(console.log("📡 [API] Réponse fraîche reçue:",{status:t.status,statusText:t.statusText,ok:t.ok}),!t.ok){401===t.status&&console.error("🔒 [API] Erreur 401 - Token invalide ou manquant");const e=await t.text();throw new Error(`HTTP error! status: ${t.status}, message: ${e}`)}const n=await t.json();return console.log("✅ [API] Réponse fraîche JSON:",{success:n.success,endpoint:e}),n}catch(r){throw console.error("❌ [API] Erreur de requête fraîche:",{endpoint:e,error:r.message,status:r.status}),r}}async getRecipes(e={}){const t=new URLSearchParams(e).toString(),a="/recipes"+(t?`?${t}`:"");return this.request(a)}async getRecipe(e){return this.request(`/recipes/${e}`)}async getRecipesFresh(e={}){const t=new URLSearchParams(e).toString(),a="/recipes"+(t?`?${t}`:"");return this.requestFresh(a)}async getRecipeFresh(e){return this.requestFresh(`/recipes/${e}`)}async getTips(e={}){const t=new URLSearchParams(e).toString(),a="/tips"+(t?`?${t}`:"");return this.request(a)}async getTip(e){return this.request(`/tips/${e}`)}async getTipsFresh(e={}){const t=new URLSearchParams(e).toString(),a="/tips"+(t?`?${t}`:"");return this.requestFresh(a)}async getTipFresh(e){return this.requestFresh(`/tips/${e}`)}async getEvents(e={}){const t=new URLSearchParams(e).toString(),a="/events"+(t?`?${t}`:"");return this.request(a)}async getEvent(e){return this.request(`/events/${e}`)}async getEventsFresh(e={}){const t=new URLSearchParams(e).toString(),a="/events"+(t?`?${t}`:"");return this.requestFresh(a)}async getEventFresh(e){return this.requestFresh(`/events/${e}`)}async getPages(e={}){const t=new URLSearchParams(e).toString(),a="/pages"+(t?`?${t}`:"");return this.request(a)}async getPage(e){return this.request(`/pages/${e}`)}async getVideos(e={}){const t=new URLSearchParams(e).toString(),a="/dinor-tv"+(t?`?${t}`:"");return this.request(a)}async getVideo(e){return this.request(`/dinor-tv/${e}`)}async getVideosFresh(e={}){const t=new URLSearchParams(e).toString(),a="/dinor-tv"+(t?`?${t}`:"");return this.requestFresh(a)}async getVideoFresh(e){return this.requestFresh(`/dinor-tv/${e}`)}async toggleLike(e,t){const a=await this.request(`/${e}/${t}/like`,{method:"POST"});return console.log("🔄 [API] Communication directe avec l'API pour toggle like:",e,t),a}async getComments(e,t){return this.request(`/${e}/${t}/comments`)}async addComment(e,t,a){return this.request(`/${e}/${t}/comments`,{method:"POST",body:JSON.stringify({content:a})})}async getCategories(){return this.request("/categories")}async getEventCategories(){return this.request("/categories/events")}async getRecipeCategories(){return this.request("/categories/recipes")}async search(e,t=null){const a={q:e};t&&(a.type=t);const n=new URLSearchParams(a).toString();return this.request(`/search?${n}`)}async getFavorites(e={}){const t=new URLSearchParams(e).toString(),a="/favorites"+(t?`?${t}`:"");return this.request(a)}async toggleFavorite(e,t){return this.request("/favorites/toggle",{method:"POST",body:JSON.stringify({type:e,id:t})})}async checkFavorite(e,t){const a=new URLSearchParams({type:e,id:t});return this.request(`/favorites/check?${a}`)}async removeFavorite(e){return this.request(`/favorites/${e}`,{method:"DELETE"})}},W=(e,t)=>{const a=e.__vccOpts||e;for(const[n,o]of t)a[n]=o;return a},G=W({__name:"DinorIcon",props:{name:{type:String,required:!0},size:{type:[String,Number],default:24},color:{type:String,default:"currentColor"},strokeWidth:{type:[String,Number],default:2},filled:{type:Boolean,default:!1}},setup(e){const t={home:"LucideHome",apps:"LucideHome",restaurant:"LucideChefHat","chef-hat":"LucideChefHat",lightbulb:"LucideLightbulb",event:"LucideCalendar",calendar:"LucideCalendar",calendar_today:"LucideCalendar",play_circle:"LucidePlayCircle","play-circle":"LucidePlayCircle",person:"LucideUser",user:"LucideUser",arrow_back:"LucideArrowLeft",favorite:"LucideHeart",favorite_border:"LucideHeart",share:"LucideShare2",location_on:"LucideMapPin",tag:"LucideTag",category:"LucideTag",schedule:"LucideClock",group:"LucideUsers",info:"LucideInfo",delete:"LucideTrash2",calendar_month:"LucideCalendarPlus",error:"LucideAlertCircle",expand_less:"LucideChevronUp",expand_more:"LucideChevronDown",comment:"LucideMessageCircle",star:"LucideStar",settings:"LucideSettings",menu:"LucideMenu",close:"LucideX",search:"LucideSearch",filter_list:"LucideFilter",grid_view:"LucideGrid",list:"LucideList",more_vert:"LucideMoreVertical",download:"LucideDownload",upload:"LucideUpload",bookmark:"LucideBookmark",bookmark_added:"LucideBookmarkCheck",visibility:"LucideEye",visibility_off:"LucideEyeOff",add:"LucidePlus",remove:"LucideMinus",check:"LucideCheck",chevron_left:"LucideChevronLeft",chevron_right:"LucideChevronRight",fullscreen:"LucideMaximize2",fullscreen_exit:"LucideMinimize2",refresh:"LucideRotateCcw",notifications:"LucideBell",notifications_off:"LucideBellOff",mail:"LucideMail",phone:"LucidePhone",public:"LucideGlobe",send:"LucideSend",content_copy:"LucideCopy",open_in_new:"LucideExternalLink",edit:"LucideEdit",save:"LucideSave",logout:"LucideLogOut",login:"LucideLogIn",person_add:"LucideUserPlus",verified_user:"LucideUserCheck",person_remove:"LucideUserX",security:"LucideShield",lock:"LucideLock",lock_open:"LucideUnlock",key:"LucideKey",bolt:"LucideZap",wifi:"LucideWifi",wifi_off:"LucideWifiOff",smartphone:"LucideSmartphone",tablet:"LucideTablet",computer:"LucideMonitor",camera:"LucideCamera",image:"LucideImage",video:"LucideVideo",mic:"LucideMic",volume_up:"LucideVolume2",volume_off:"LucideVolumeX",play_arrow:"LucidePlayCircle",play_circle:"LucidePlayCircle",pause:"LucidePauseCircle",stop:"LucideStopCircle",skip_previous:"LucideSkipBack",skip_next:"LucideSkipForward",rotate_right:"LucideRotateCw",loading:"LucideLoader",check_circle:"LucideCheckCircle",cancel:"LucideXCircle",warning:"LucideAlertTriangle",help:"LucideHelpCircle",award:"LucideAward",trophy:"LucideTrophy",target:"LucideTarget",trending_up:"LucideTrendingUp",trending_down:"LucideTrendingDown",bar_chart:"LucideBarChart3",pie_chart:"LucidePieChart",activity:"LucideActivity",restaurant_menu:"LucideUtensils",coffee:"LucideCoffee",place:"LucideMapPin",timer:"LucideTimer",hourglass:"LucideHourglass",alarm:"LucideAlarmClock",stopwatch:"LucideStopwatch",tune:"LucideSettings",filter_list:"LucideFilter"},a=e,n=o(()=>{let e=a.name;if(a.filled){const t={home:"LucideHome","chef-hat":"LucideChefHat",lightbulb:"LucideLightbulb",calendar:"LucideCalendar","play-circle":"LucidePlayCircle",user:"LucideUser"};if(t[e])return t[e]}const n=t[e];if(n)return n;const o="Lucide"+e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join("");return e.includes("-")||["home","user","calendar","lightbulb"].includes(e)?o:(console.warn(`Icône non mappée: ${e}`),"LucideHelpCircle")}),l=o(()=>["dinor-icon",`dinor-icon--${a.name}`,{"dinor-icon--filled":a.filled}]);return(t,a)=>(c(),r(s(n.value),i({size:e.size,color:e.color,"stroke-width":e.strokeWidth,class:l.value},t.$attrs),null,16,["size","color","stroke-width","class"]))}},[["__scopeId","data-v-e96e5b45"]]),J={name:"AppHeader",components:{DinorIcon:G},props:{title:{type:String,required:!0},showFavorite:{type:Boolean,default:!1},favoriteType:{type:String,validator:e=>["recipe","tip","event","dinor_tv"].includes(e)},favoriteItemId:{type:[Number,String]},initialFavorited:{type:Boolean,default:!1},showShare:{type:Boolean,default:!1},backPath:{type:String,default:null}},emits:["favorite-updated","share","back","auth-required"],setup(e,{emit:t}){const n=k(),r=l(),i=B(),s=o(()=>!1),c=a("/images/LOGO_DINOR_monochrome.svg"),p=a(e.initialFavorited),h=a(!1),m=o(()=>"/"!==r.path),f=o(()=>{const t=i.isAuthenticated&&e.favoriteType&&e.favoriteItemId;return console.log("🔍 [AppHeader] canInteractWithFavorites:",{isAuthenticated:i.isAuthenticated,favoriteType:e.favoriteType,favoriteItemId:e.favoriteItemId,result:t}),t}),g=o(()=>{if("/"===r.path)return"Dinor";if(e.title)return e.title;const t={"/recipes":"Recettes","/tips":"Astuces","/events":"Événements","/dinor-tv":"Dinor TV","/pages":"Pages"};for(const[e,a]of Object.entries(t))if(r.path===e||r.path.startsWith(e+"/"))return a;return"Dinor"}),v=async()=>{if(console.log("📊 [AppHeader] === CHARGEMENT STATUT FAVORI ==="),console.log("📊 [AppHeader] Vérifications:",{isAuthenticated:i.isAuthenticated,favoriteType:e.favoriteType,favoriteItemId:e.favoriteItemId}),!i.isAuthenticated||!e.favoriteType||!e.favoriteItemId)return console.log("📊 [AppHeader] Conditions non remplies, favori = false"),void(p.value=!1);try{console.log("📡 [AppHeader] Vérification API du statut favori...");const t=await U.checkFavorite(e.favoriteType,e.favoriteItemId);console.log("📡 [AppHeader] Réponse statut favori:",t),t.success&&(p.value=t.is_favorited,console.log("✅ [AppHeader] Statut favori chargé:",t.is_favorited))}catch(t){console.warn("⚠️ [AppHeader] Erreur lors de la vérification du statut favori:",t)}console.log("📊 [AppHeader] === FIN CHARGEMENT STATUT FAVORI ===")};return d(()=>i.isAuthenticated,(e,t)=>{console.log("👀 [AppHeader] Watch authStore.isAuthenticated changé:",{oldValue:t,newValue:e,user:i.user,token:i.token?"***existe***":null}),e?(console.log("✅ [AppHeader] Utilisateur connecté - chargement statut favori"),v()):(console.log("❌ [AppHeader] Utilisateur déconnecté - favori = false"),p.value=!1)}),d(()=>e.initialFavorited,(e,t)=>{console.log("👀 [AppHeader] Watch initialFavorited changé:",{oldVal:t,newVal:e}),p.value=e}),d(()=>[e.favoriteType,e.favoriteItemId],([t,a],[n,o])=>{console.log("👀 [AppHeader] Watch favoriteType/ItemId changé:",{oldType:n,newType:t,oldId:o,newId:a,isAuthenticated:i.isAuthenticated}),i.isAuthenticated&&e.favoriteType&&e.favoriteItemId&&(console.log("🔄 [AppHeader] Rechargement statut favori suite à changement props"),v())}),u(()=>{console.log("🚀 [AppHeader] Composant monté - état initial:",{isAuthenticated:i.isAuthenticated,favoriteType:e.favoriteType,favoriteItemId:e.favoriteItemId,initialFavorited:e.initialFavorited}),i.isAuthenticated&&e.favoriteType&&e.favoriteItemId&&(console.log("🔄 [AppHeader] Chargement initial du statut favori"),v())}),{showBackButton:m,displayTitle:g,isFavorited:p,favoriteLoading:h,canInteractWithFavorites:f,handleBack:()=>{e.backPath?n.push(e.backPath):n.go(-1),t("back")},handleFavoriteToggle:async()=>{var a,n;console.log("🌟 [AppHeader] === DÉBUT TOGGLE FAVORI ==="),console.log("🌟 [AppHeader] Props reçues:",{type:e.favoriteType,itemId:e.favoriteItemId,showFavorite:e.showFavorite}),console.log("🔐 [AppHeader] État d'authentification détaillé:",{"authStore.isAuthenticated":i.isAuthenticated,"authStore.user":i.user,"authStore.token":i.token?"***existe***":null,"localStorage.auth_token":localStorage.getItem("auth_token")?"***existe***":null,"localStorage.auth_user":localStorage.getItem("auth_user")?"***existe***":null});const o=localStorage.getItem("auth_token"),r=localStorage.getItem("auth_user");if(o&&r&&!i.isAuthenticated&&(console.log("🔄 [AppHeader] Réinitialisation de l'auth store détectée"),i.initAuth(),await new Promise(e=>setTimeout(e,100)),console.log("🔄 [AppHeader] État après réinitialisation:",{"authStore.isAuthenticated":i.isAuthenticated,"authStore.user":i.user})),!i.isAuthenticated)return console.log("🔒 [AppHeader] Utilisateur non connecté - affichage modal auth"),void t("auth-required");if(!e.favoriteType||!e.favoriteItemId)return void console.error("❌ [AppHeader] Type ou ID manquant pour les favoris:",{favoriteType:e.favoriteType,favoriteItemId:e.favoriteItemId});if(h.value)return void console.log("⏳ [AppHeader] Déjà en cours de chargement");h.value=!0;const s=p.value;p.value=!p.value,console.log("🔄 [AppHeader] Mise à jour optimiste:",{previousState:s,newState:p.value});try{console.log("📡 [AppHeader] Envoi requête API toggle favori...");const o=await U.toggleFavorite(e.favoriteType,e.favoriteItemId);if(console.log("📡 [AppHeader] Réponse API reçue:",o),!o.success)throw new Error(o.message||"Erreur lors de la mise à jour des favoris");p.value=o.is_favorited,t("favorite-updated",{isFavorited:p.value,favoritesCount:(null==(a=o.data)?void 0:a.total_favorites)||0}),console.log("🌟 [AppHeader] Toggle favori réussi:",{type:e.favoriteType,id:e.favoriteItemId,favorited:p.value,favoritesCount:(null==(n=o.data)?void 0:n.total_favorites)||0})}catch(c){console.error("❌ [AppHeader] Erreur toggle favori:",c),console.error("❌ [AppHeader] Détails erreur:",{message:c.message,status:c.status,response:c.response}),p.value=s,console.log("🔄 [AppHeader] Rollback vers état précédent:",s),(c.message.includes("401")||401===c.status)&&(console.log("🔒 [AppHeader] Erreur 401 - redirection vers auth"),t("auth-required"))}finally{h.value=!1,console.log("🌟 [AppHeader] === FIN TOGGLE FAVORI ===")}},handleShare:()=>{t("share")},handleLogoError:()=>{if(console.error("❌ [AppHeader] Erreur de chargement du logo DINOR"),console.log("🔍 [AppHeader] Chemin testé:",c.value),console.log("📁 [AppHeader] Vérifiez que le fichier existe dans public/images/"),console.log("🔄 [AppHeader] Tentative avec chemin alternatif..."),"/images/LOGO_DINOR_monochrome.svg"===c.value)c.value="./images/LOGO_DINOR_monochrome.svg",console.log("🔄 [AppHeader] Nouvel essai avec:",c.value);else{console.error("💥 [AppHeader] Impossible de charger le logo externe"),console.log("🔄 [AppHeader] Utilisation du logo fallback SVG inline");const e=document.querySelector(".dinor-logo"),t=document.querySelector(".dinor-logo-fallback");e&&(e.style.display="none",console.log("👁️ [AppHeader] Logo externe masqué")),t&&(t.style.display="block",console.log("✅ [AppHeader] Logo fallback SVG affiché"))}},logoSrc:c,isDevelopment:s}}},X={class:"md3-top-app-bar"},K={class:"md3-app-bar-container"},Z={class:"md3-app-bar-title"},Q={class:"dinor-logo-container"},Y={class:"logo-section"},ee=["src"],te={class:"dinor-logo-fallback",style:{display:"none"},viewBox:"0 0 120 50",xmlns:"http://www.w3.org/2000/svg"},ae={class:"title-section"},ne={class:"md3-title-large dinor-text-primary"},oe={class:"md3-app-bar-actions"},re=["disabled","title"],ie={key:0,class:"loading-spinner-header"};const se=W(J,[["render",function(e,t,a,n,o,i){const s=g("DinorIcon");return c(),p("nav",X,[h("div",K,[n.showBackButton?(c(),p("button",{key:0,onClick:t[0]||(t[0]=(...e)=>n.handleBack&&n.handleBack(...e)),class:"md3-icon-button"},[f(s,{name:"arrow_back",size:24})])):m("",!0),h("div",Z,[h("div",Q,[h("div",Y,[h("img",{src:n.logoSrc,alt:"Dinor",class:"dinor-logo",onError:t[1]||(t[1]=(...e)=>n.handleLogoError&&n.handleLogoError(...e))},null,40,ee),(c(),p("svg",te,t[4]||(t[4]=[h("text",{x:"15",y:"32","font-family":"Arial, sans-serif","font-size":"22","font-weight":"bold",fill:"white"},"DINOR",-1)])))]),h("div",ae,[h("h1",ne,v(n.displayTitle),1)])])]),h("div",oe,[y(e.$slots,"actions",{},()=>[a.showFavorite?(c(),p("button",{key:0,onClick:t[2]||(t[2]=(...e)=>n.handleFavoriteToggle&&n.handleFavoriteToggle(...e)),class:w(["md3-icon-button",{liked:n.isFavorited,loading:n.favoriteLoading}]),disabled:n.favoriteLoading||!n.canInteractWithFavorites,title:n.isFavorited?"Retirer des favoris":"Ajouter aux favoris"},[n.favoriteLoading?(c(),p("div",ie)):(c(),r(s,{key:1,name:n.isFavorited?"favorite":"favorite_border",size:24,filled:n.isFavorited},null,8,["name","filled"]))],10,re)):m("",!0),a.showShare?(c(),p("button",{key:1,onClick:t[3]||(t[3]=(...e)=>n.handleShare&&n.handleShare(...e)),class:"md3-icon-button"},[f(s,{name:"share",size:24})])):m("",!0)])])])])}],["__scopeId","data-v-d1c3c410"]]),ce=a(!1),le=a("");function de(){const e=B(),t=(t,a="")=>{console.warn("🔐 [Auth Handler] Erreur d'authentification détectée:",t),e.token&&401===t.status&&e.clearAuth();let n="";return n="AUTH_REQUIRED"===t.type?t.message:401===t.status?a?`Pour ${a}, vous devez être connecté. Veuillez vous connecter ou créer un compte.`:"Vous devez être connecté pour effectuer cette action. Veuillez vous connecter ou créer un compte.":t.message||"Une erreur s'est produite lors de l'authentification.",ce.value=!0,le.value=n,{shouldShowModal:!0,message:n}},a=(t,a="")=>{if(!e.isAuthenticated){const e=a?`Pour ${a}, vous devez être connecté. Veuillez vous connecter ou créer un compte.`:"Vous devez être connecté pour effectuer cette action. Veuillez vous connecter ou créer un compte.";return ce.value=!0,le.value=e,!1}return!0},n=()=>{ce.value=!1,le.value=""};return{showAuthModal:ce,authModalMessage:le,handleAuthError:t,requireAuth:a,closeAuthModal:n,handleAuthSuccess:e=>{console.log("✅ [Auth Handler] Authentification réussie:",e),n()},withAuth:async(e,n="")=>{if(!a(0,n))return!1;try{return await e()}catch(o){if(401===o.status||"AUTH_REQUIRED"===o.type)return t(o,n),!1;throw o}}}}function ue(){return de()}var pe={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(e){const t=[];let a=0;for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);o<128?t[a++]=o:o<2048?(t[a++]=o>>6|192,t[a++]=63&o|128):55296==(64512&o)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++n)),t[a++]=o>>18|240,t[a++]=o>>12&63|128,t[a++]=o>>6&63|128,t[a++]=63&o|128):(t[a++]=o>>12|224,t[a++]=o>>6&63|128,t[a++]=63&o|128)}return t},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<e.length;o+=3){const t=e[o],r=o+1<e.length,i=r?e[o+1]:0,s=o+2<e.length,c=s?e[o+2]:0,l=t>>2,d=(3&t)<<4|i>>4;let u=(15&i)<<2|c>>6,p=63&c;s||(p=64,r||(u=64)),n.push(a[l],a[d],a[u],a[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(he(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let a=0,n=0;for(;a<e.length;){const o=e[a++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const r=e[a++];t[n++]=String.fromCharCode((31&o)<<6|63&r)}else if(o>239&&o<365){const r=((7&o)<<18|(63&e[a++])<<12|(63&e[a++])<<6|63&e[a++])-65536;t[n++]=String.fromCharCode(55296+(r>>10)),t[n++]=String.fromCharCode(56320+(1023&r))}else{const r=e[a++],i=e[a++];t[n++]=String.fromCharCode((15&o)<<12|(63&r)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const a=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<e.length;){const t=a[e.charAt(o++)],r=o<e.length?a[e.charAt(o)]:0;++o;const i=o<e.length?a[e.charAt(o)]:64;++o;const s=o<e.length?a[e.charAt(o)]:64;if(++o,null==t||null==r||null==i||null==s)throw new fe;const c=t<<2|r>>4;if(n.push(c),64!==i){const e=r<<4&240|i>>2;if(n.push(e),64!==s){const e=i<<6&192|s;n.push(e)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ge=function(e){return function(e){const t=he(e);return me.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ve=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ye=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(a){return}const t=e&&function(e){try{return me.decodeString(e,!0)}catch(a){console.error("base64Decode failed: ",a)}return null}(e[1]);return t&&JSON.parse(t)},ke=()=>{try{return ve()||(()=>{if("undefined"==typeof process)return;const e=pe.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||ye()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},we=()=>{var e;return null==(e=ke())?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,a))}}}function Ie(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Le(){try{return"object"==typeof indexedDB}catch(e){return!1}}function _e(){return new Promise((e,t)=>{try{let a=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(n),e(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{var e;t((null==(e=o.error)?void 0:e.message)||"")}}catch(a){t(a)}})}function Se(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name="FirebaseError",Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},n=`${this.service}/${e}`,o=this.errors[e],r=o?function(e,t){return e.replace(Me,(e,a)=>{const n=t[a];return null!=n?String(n):`<${a}?>`})}(o,a):"Error",i=`${this.serviceName}: ${r} (${n}).`;return new Ae(n,i,a)}}const Me=/\{\$([^}]+)}/g;function Ce(e,t){if(e===t)return!0;const a=Object.keys(e),n=Object.keys(t);for(const o of a){if(!n.includes(o))return!1;const a=e[o],r=t[o];if(xe(a)&&xe(r)){if(!Ce(a,r))return!1}else if(a!==r)return!1}for(const o of n)if(!a.includes(o))return!1;return!0}function xe(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e,t=1e3,a=2){const n=t*Math.pow(a,e),o=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+o)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e){return e&&e._delegate?e._delegate:e}class De{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oe="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new be;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&e.resolve(a)}catch(a){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),a=(null==e?void 0:e.optional)??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(a)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(n){if(a)return null;throw n}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch(t){}for(const[e,a]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});a.resolve(e)}catch(t){}}}}clearInstance(e=Oe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=Oe){return this.instances.has(e)}getOptions(e=Oe){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const n=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[o,r]of this.instancesDeferred.entries()){a===this.normalizeInstanceIdentifier(o)&&r.resolve(n)}return n}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),n=this.onInitCallbacks.get(a)??new Set;n.add(e),this.onInitCallbacks.set(a,n);const o=this.instances.get(a);return o&&e(o,a),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const n of a)try{n(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Oe?void 0:n),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}var n;return a||null}normalizeInstanceIdentifier(e=Oe){return this.component?this.component.multipleInstances?e:Oe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Re(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,He;(He=ze||(ze={}))[He.DEBUG=0]="DEBUG",He[He.VERBOSE=1]="VERBOSE",He[He.INFO=2]="INFO",He[He.WARN=3]="WARN",He[He.ERROR=4]="ERROR",He[He.SILENT=5]="SILENT";const $e={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},Ve=ze.INFO,je={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},Ne=(e,t,...a)=>{if(t<e.logLevel)return;const n=(new Date).toISOString(),o=je[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${n}]  ${e.name}:`,...a)};class Fe{constructor(e){this.name=e,this._logLevel=Ve,this._logHandler=Ne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}let Be,Ue;const We=new WeakMap,Ge=new WeakMap,Je=new WeakMap,Xe=new WeakMap,Ke=new WeakMap;let Ze={get(e,t,a){if(e instanceof IDBTransaction){if("done"===t)return Ge.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Je.get(e);if("store"===t)return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return et(e[t])},set:(e,t,a)=>(e[t]=a,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Qe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(tt(this),t),et(We.get(this))}:function(...t){return et(e.apply(tt(this),t))}:function(t,...a){const n=e.call(tt(this),t,...a);return Je.set(n,t.sort?t.sort():[t]),et(n)}}function Ye(e){return"function"==typeof e?Qe(e):(e instanceof IDBTransaction&&function(e){if(Ge.has(e))return;const t=new Promise((t,a)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",r),e.removeEventListener("abort",r)},o=()=>{t(),n()},r=()=>{a(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",o),e.addEventListener("error",r),e.addEventListener("abort",r)});Ge.set(e,t)}(e),t=e,(Be||(Be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Ze):e);var t}function et(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,a)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",r)},o=()=>{t(et(e.result)),n()},r=()=>{a(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",r)});return t.then(t=>{t instanceof IDBCursor&&We.set(t,e)}).catch(()=>{}),Ke.set(t,e),t}(e);if(Xe.has(e))return Xe.get(e);const t=Ye(e);return t!==e&&(Xe.set(e,t),Ke.set(t,e)),t}const tt=e=>Ke.get(e);function at(e,t,{blocked:a,upgrade:n,blocking:o,terminated:r}={}){const i=indexedDB.open(e,t),s=et(i);return n&&i.addEventListener("upgradeneeded",e=>{n(et(i.result),e.oldVersion,e.newVersion,et(i.transaction),e)}),a&&i.addEventListener("blocked",e=>a(e.oldVersion,e.newVersion,e)),s.then(e=>{r&&e.addEventListener("close",()=>r()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const nt=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],rt=new Map;function it(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(rt.get(t))return rt.get(t);const a=t.replace(/FromIndex$/,""),n=t!==a,o=ot.includes(a);if(!(a in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!nt.includes(a))return;const r=async function(e,...t){const r=this.transaction(e,o?"readwrite":"readonly");let i=r.store;return n&&(i=i.index(t.shift())),(await Promise.all([i[a](...t),o&&r.done]))[0]};return rt.set(t,r),r}Ze=(e=>({...e,get:(t,a,n)=>it(t,a)||e.get(t,a,n),has:(t,a)=>!!it(t,a)||e.has(t,a)}))(Ze);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class st{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const ct="@firebase/app",lt="0.14.1",dt=new Fe("@firebase/app"),ut="@firebase/app-compat",pt="@firebase/analytics-compat",ht="@firebase/analytics",mt="@firebase/app-check-compat",ft="@firebase/app-check",gt="@firebase/auth",vt="@firebase/auth-compat",yt="@firebase/database",kt="@firebase/data-connect",wt="@firebase/database-compat",bt="@firebase/functions",It="@firebase/functions-compat",Lt="@firebase/installations",_t="@firebase/installations-compat",St="@firebase/messaging",At="@firebase/messaging-compat",Et="@firebase/performance",Mt="@firebase/performance-compat",Ct="@firebase/remote-config",xt="@firebase/remote-config-compat",Tt="@firebase/storage",Pt="@firebase/storage-compat",Dt="@firebase/firestore",Ot="@firebase/ai",Rt="@firebase/firestore-compat",qt="firebase",zt="[DEFAULT]",Ht={[ct]:"fire-core",[ut]:"fire-core-compat",[ht]:"fire-analytics",[pt]:"fire-analytics-compat",[ft]:"fire-app-check",[mt]:"fire-app-check-compat",[gt]:"fire-auth",[vt]:"fire-auth-compat",[yt]:"fire-rtdb",[kt]:"fire-data-connect",[wt]:"fire-rtdb-compat",[bt]:"fire-fn",[It]:"fire-fn-compat",[Lt]:"fire-iid",[_t]:"fire-iid-compat",[St]:"fire-fcm",[At]:"fire-fcm-compat",[Et]:"fire-perf",[Mt]:"fire-perf-compat",[Ct]:"fire-rc",[xt]:"fire-rc-compat",[Tt]:"fire-gcs",[Pt]:"fire-gcs-compat",[Dt]:"fire-fst",[Rt]:"fire-fst-compat",[Ot]:"fire-vertex","fire-js":"fire-js",[qt]:"fire-js-all"},$t=new Map,Vt=new Map,jt=new Map;function Nt(e,t){try{e.container.addComponent(t)}catch(a){dt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,a)}}function Ft(e){const t=e.name;if(jt.has(t))return dt.debug(`There were multiple attempts to register component ${t}.`),!1;jt.set(t,e);for(const a of $t.values())Nt(a,e);for(const a of Vt.values())Nt(a,e);return!0}function Bt(e,t){const a=e.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut=new Ee("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Wt{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new De("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}function Gt(e,t={}){let a=e;if("object"!=typeof t){t={name:t}}const n={name:zt,automaticDataCollectionEnabled:!0,...t},o=n.name;if("string"!=typeof o||!o)throw Ut.create("bad-app-name",{appName:String(o)});if(a||(a=we()),!a)throw Ut.create("no-options");const r=$t.get(o);if(r){if(Ce(a,r.options)&&Ce(n,r.config))return r;throw Ut.create("duplicate-app",{appName:o})}const i=new qe(o);for(const c of jt.values())i.addComponent(c);const s=new Wt(a,n,i);return $t.set(o,s),s}function Jt(e,t,a){let n=Ht[e]??e;a&&(n+=`-${a}`);const o=n.match(/\s|\//),r=t.match(/\s|\//);if(o||r){const e=[`Unable to register library "${n}" with version "${t}":`];return o&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&r&&e.push("and"),r&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void dt.warn(e.join(" "))}Ft(new De(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="firebase-heartbeat-store";let Kt=null;function Zt(){return Kt||(Kt=at("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Xt)}catch(a){console.warn(a)}}}).catch(e=>{throw Ut.create("idb-open",{originalErrorMessage:e.message})})),Kt}async function Qt(e,t){try{const a=(await Zt()).transaction(Xt,"readwrite"),n=a.objectStore(Xt);await n.put(t,Yt(e)),await a.done}catch(a){if(a instanceof Ae)dt.warn(a.message);else{const e=Ut.create("idb-set",{originalErrorMessage:null==a?void 0:a.message});dt.warn(e.message)}}}function Yt(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new aa(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ta();if(null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:a}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,a=e[0].date;for(let n=1;n<e.length;n++)e[n].date<a&&(a=e[n].date,t=n);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){dt.warn(a)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ta(),{heartbeatsToSend:a,unsentEntries:n}=function(e,t=1024){const a=[];let n=e.slice();for(const o of e){const e=a.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),na(a)>t){e.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),na(a)>t){a.pop();break}n=n.slice(1)}return{heartbeatsToSend:a,unsentEntries:n}}(this._heartbeatsCache.heartbeats),o=ge(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return dt.warn(t),""}}}function ta(){return(new Date).toISOString().substring(0,10)}class aa{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Le()&&_e().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Zt()).transaction(Xt),a=await t.objectStore(Xt).get(Yt(e));return await t.done,a}catch(t){if(t instanceof Ae)dt.warn(t.message);else{const e=Ut.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});dt.warn(e.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Qt(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Qt(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function na(e){return ge(JSON.stringify({version:2,heartbeats:e})).length}var oa;oa="",Ft(new De("platform-logger",e=>new st(e),"PRIVATE")),Ft(new De("heartbeat",e=>new ea(e),"PRIVATE")),Jt(ct,lt,oa),Jt(ct,lt,"esm2020"),Jt("fire-js","");const ra="@firebase/installations",ia="0.6.19",sa=1e4,ca=`w:${ia}`,la="FIS_v2",da=36e5,ua=new Ee("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pa(e){return e instanceof Ae&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function ma(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function fa(e,t){const a=(await t.json()).error;return ua.create("request-failed",{requestName:e,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function ga({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function va(e,{refreshToken:t}){const a=ga(e);return a.append("Authorization",function(e){return`${la} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),a}async function ya(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ka(e){return new Promise(t=>{setTimeout(t,e)})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const wa=/^[cdef][\w-]{21}$/;function ba(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(a=e,btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_"));var a;return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return wa.test(t)?t:""}catch{return""}}function Ia(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Map;function _a(e,t){const a=Ia(e);Sa(a,t),function(e,t){const a=function(){!Aa&&"BroadcastChannel"in self&&(Aa=new BroadcastChannel("[Firebase] FID Change"),Aa.onmessage=e=>{Sa(e.data.key,e.data.fid)});return Aa}();a&&a.postMessage({key:e,fid:t});0===La.size&&Aa&&(Aa.close(),Aa=null)}(a,t)}function Sa(e,t){const a=La.get(e);if(a)for(const n of a)n(t)}let Aa=null;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ea="firebase-installations-store";let Ma=null;function Ca(){return Ma||(Ma=at("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ea)}})),Ma}async function xa(e,t){const a=Ia(e),n=(await Ca()).transaction(Ea,"readwrite"),o=n.objectStore(Ea),r=await o.get(a);return await o.put(t,a),await n.done,r&&r.fid===t.fid||_a(e,t.fid),t}async function Ta(e){const t=Ia(e),a=(await Ca()).transaction(Ea,"readwrite");await a.objectStore(Ea).delete(t),await a.done}async function Pa(e,t){const a=Ia(e),n=(await Ca()).transaction(Ea,"readwrite"),o=n.objectStore(Ea),r=await o.get(a),i=t(r);return void 0===i?await o.delete(a):await o.put(i,a),await n.done,!i||r&&r.fid===i.fid||_a(e,i.fid),i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(e){let t;const a=await Pa(e.appConfig,a=>{const n=function(e){const t=e||{fid:ba(),registrationStatus:0};return qa(t)}(a),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(ua.create("app-offline"))}}const a={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=async function(e,t){try{const a=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:a}){const n=ha(e),o=ga(e),r=t.getImmediate({optional:!0});if(r){const e=await r.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const i={fid:a,authVersion:la,appId:e.appId,sdkVersion:ca},s={method:"POST",headers:o,body:JSON.stringify(i)},c=await ya(()=>fetch(n,s));if(c.ok){const e=await c.json();return{fid:e.fid||a,registrationStatus:2,refreshToken:e.refreshToken,authToken:ma(e.authToken)}}throw await fa("Create Installation",c)}(e,t);return xa(e.appConfig,a)}catch(a){throw pa(a)&&409===a.customData.serverCode?await Ta(e.appConfig):await xa(e.appConfig,{fid:t.fid,registrationStatus:0}),a}}(e,a);return{installationEntry:a,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Oa(e)}:{installationEntry:t}}(e,n);return t=o.registrationPromise,o.installationEntry});return""===a.fid?{installationEntry:await t}:{installationEntry:a,registrationPromise:t}}async function Oa(e){let t=await Ra(e.appConfig);for(;1===t.registrationStatus;)await ka(100),t=await Ra(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:a}=await Da(e);return a||t}return t}function Ra(e){return Pa(e,e=>{if(!e)throw ua.create("installation-not-found");return qa(e)})}function qa(e){return 1===(t=e).registrationStatus&&t.registrationTime+sa<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function za({appConfig:e,heartbeatServiceProvider:t},a){const n=function(e,{fid:t}){return`${ha(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,a),o=va(e,a),r=t.getImmediate({optional:!0});if(r){const e=await r.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const i={installation:{sdkVersion:ca,appId:e.appId}},s={method:"POST",headers:o,body:JSON.stringify(i)},c=await ya(()=>fetch(n,s));if(c.ok){return ma(await c.json())}throw await fa("Generate Auth Token",c)}async function Ha(e,t=!1){let a;const n=await Pa(e.appConfig,n=>{if(!Va(n))throw ua.create("not-registered");const o=n.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+da}(e)}(o))return n;if(1===o.requestStatus)return a=async function(e,t){let a=await $a(e.appConfig);for(;1===a.authToken.requestStatus;)await ka(100),a=await $a(e.appConfig);const n=a.authToken;return 0===n.requestStatus?Ha(e,t):n}(e,t),n;{if(!navigator.onLine)throw ua.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(n);return a=async function(e,t){try{const a=await za(e,t),n={...t,authToken:a};return await xa(e.appConfig,n),a}catch(a){if(!pa(a)||401!==a.customData.serverCode&&404!==a.customData.serverCode){const a={...t,authToken:{requestStatus:0}};await xa(e.appConfig,a)}else await Ta(e.appConfig);throw a}}(e,t),t}});return a?await a:n.authToken}function $a(e){return Pa(e,e=>{if(!Va(e))throw ua.create("not-registered");const t=e.authToken;return 1===(a=t).requestStatus&&a.requestTime+sa<Date.now()?{...e,authToken:{requestStatus:0}}:e;var a;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */})}function Va(e){return void 0!==e&&2===e.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ja(e,t=!1){const a=e;await async function(e){const{registrationPromise:t}=await Da(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(a);return(await Ha(a,t)).token}function Na(e){return ua.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="installations",Ba=e=>{const t=Bt(e.getProvider("app").getImmediate(),Fa).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:a,registrationPromise:n}=await Da(t);return n?n.catch(console.error):Ha(t).catch(console.error),a.fid}(t),getToken:e=>ja(t,e)}};Ft(new De(Fa,e=>{const t=e.getProvider("app").getImmediate(),a=function(e){if(!e||!e.options)throw Na("App Configuration");if(!e.name)throw Na("App Name");const t=["projectId","apiKey","appId"];for(const a of t)if(!e.options[a])throw Na(a);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:a,heartbeatServiceProvider:Bt(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Ft(new De("installations-internal",Ba,"PRIVATE")),Jt(ra,ia),Jt(ra,ia,"esm2020");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ua="analytics",Wa="https://www.googletagmanager.com/gtag/js",Ga=new Fe("@firebase/analytics"),Ja=new Ee("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xa(e){if(!e.startsWith(Wa)){const t=Ja.create("invalid-gtag-resource",{gtagURL:e});return Ga.warn(t.message),""}return e}function Ka(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Za(e,t){const a=function(e,t){let a;return window.trustedTypes&&(a=window.trustedTypes.createPolicy(e,t)),a}("firebase-js-sdk-policy",{createScriptURL:Xa}),n=document.createElement("script"),o=`${Wa}?l=${e}&id=${t}`;n.src=a?null==a?void 0:a.createScriptURL(o):o,n.async=!0,document.head.appendChild(n)}function Qa(e,t,a,n){return async function(o,...r){try{if("event"===o){const[n,o]=r;await async function(e,t,a,n,o){try{let r=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const n=await Ka(a);for(const a of e){const e=n.find(e=>e.measurementId===a),o=e&&t[e.appId];if(!o){r=[];break}r.push(o)}}0===r.length&&(r=Object.values(t)),await Promise.all(r),e("event",n,o||{})}catch(r){Ga.error(r)}}(e,t,a,n,o)}else if("config"===o){const[o,i]=r;await async function(e,t,a,n,o,r){const i=n[o];try{if(i)await t[i];else{const e=(await Ka(a)).find(e=>e.measurementId===o);e&&await t[e.appId]}}catch(s){Ga.error(s)}e("config",o,r)}(e,t,a,n,o,i)}else if("consent"===o){const[t,a]=r;e("consent",t,a)}else if("get"===o){const[t,a,n]=r;e("get",t,a,n)}else if("set"===o){const[t]=r;e("set",t)}else e(o,...r)}catch(i){Ga.error(i)}}}const Ya=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function en(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function tn(e,t=Ya,a){const{appId:n,apiKey:o,measurementId:r}=e.options;if(!n)throw Ja.create("no-app-id");if(!o){if(r)return{measurementId:r,appId:n};throw Ja.create("no-api-key")}const i=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new nn;return setTimeout(async()=>{s.abort()},6e4),an({appId:n,apiKey:o,measurementId:r},i,s,t)}async function an(e,{throttleEndTimeMillis:t,backoffCount:a},n,o=Ya){var r;const{appId:i,measurementId:s}=e;try{await function(e,t){return new Promise((a,n)=>{const o=Math.max(t-Date.now(),0),r=setTimeout(a,o);e.addEventListener(()=>{clearTimeout(r),n(Ja.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,t)}catch(c){if(s)return Ga.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:i,measurementId:s};throw c}try{const t=await async function(e){var t;const{appId:a,apiKey:n}=e,o={method:"GET",headers:en(n)},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",a),i=await fetch(r,o);if(200!==i.status&&304!==i.status){let e="";try{const a=await i.json();(null==(t=a.error)?void 0:t.message)&&(e=a.error.message)}catch(s){}throw Ja.create("config-fetch-failed",{httpStatus:i.status,responseMessage:e})}return i.json()}(e);return o.deleteThrottleMetadata(i),t}catch(c){const t=c;if(!function(e){if(!(e instanceof Ae&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(o.deleteThrottleMetadata(i),s)return Ga.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${null==t?void 0:t.message}]`),{appId:i,measurementId:s};throw c}const l=503===Number(null==(r=null==t?void 0:t.customData)?void 0:r.httpStatus)?Te(a,o.intervalMillis,30):Te(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:a+1};return o.setThrottleMetadata(i,d),Ga.debug(`Calling attemptFetch again in ${l} millis`),an(e,d,n,o)}}class nn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function on(e,t,a,n,o,r,i){const s=tn(e);s.then(t=>{a[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Ga.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Ga.error(e)),t.push(s);const c=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(){if(!Le())return Ga.warn(Ja.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await _e()}catch(e){return Ga.warn(Ja.create("indexeddb-unavailable",{errorInfo:null==e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?n.getId():void 0),[l,d]=await Promise.all([s,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const a of Object.values(t))if(a.src&&a.src.includes(Wa)&&a.src.includes(e))return a;return null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r)||Za(r,l.measurementId),o("js",new Date);const u=(null==i?void 0:i.config)??{};return u.origin="firebase",u.update=!0,null!=d&&(u.firebase_id=d),o("config",l.measurementId,u),l.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class{constructor(e){this.app=e}_delete(){return delete sn[this.app.options.appId],Promise.resolve()}},sn={},cn=[];const ln={};let dn,un,pn="dataLayer",hn=!1;function mn(e,t,a){!function(){const e=[];if(Ie()&&e.push("This is a browser extension environment."),Se()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),a=Ja.create("invalid-analytics-context",{errorInfo:t});Ga.warn(a.message)}}();const n=e.options.appId;if(!n)throw Ja.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ja.create("no-api-key");Ga.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=sn[n])throw Ja.create("already-exists",{id:n});if(!hn){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(pn);const{wrappedGtag:e,gtagCore:t}=function(e,t,a,n,o){let r=function(...e){window[n].push(arguments)};return window[o]&&"function"==typeof window[o]&&(r=window[o]),window[o]=Qa(r,e,t,a),{gtagCore:r,wrappedGtag:window[o]}}(sn,cn,ln,pn,"gtag");un=e,dn=t,hn=!0}sn[n]=on(e,cn,ln,t,dn,pn,a);return new rn(e)}function fn(e=function(e=zt){const t=$t.get(e);if(!t&&e===zt&&we())return Gt();if(!t)throw Ut.create("no-app",{appName:e});return t}()){const t=Bt(e=Pe(e),Ua);return t.isInitialized()?t.getImmediate():function(e,t={}){const a=Bt(e,Ua);if(a.isInitialized()){const e=a.getImmediate();if(Ce(t,a.getOptions()))return e;throw Ja.create("already-initialized")}const n=a.initialize({options:t});return n}(e)}function gn(e,t,a,n){e=Pe(e),async function(e,t,a,n,o){if(o&&o.global)e("event",a,n);else{const o=await t;e("event",a,{...n,send_to:o})}}(un,sn[e.app.options.appId],t,a,n).catch(e=>Ga.error(e))}const vn="@firebase/analytics",yn="0.10.18";Ft(new De(Ua,(e,{options:t})=>mn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Ft(new De("analytics-internal",function(e){try{const t=e.getProvider(Ua).getImmediate();return{logEvent:(e,a,n)=>gn(t,e,a,n)}}catch(t){throw Ja.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Jt(vn,yn),Jt(vn,yn,"esm2020");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Jt("firebase","12.1.0","app");const kn=Gt({apiKey:"AIzaSyCq37nk-Cjt0r3n-QDqZ6R2rB0JOSJQtfM",authDomain:"dinor-app-2.firebaseapp.com",projectId:"dinor-app-2",storageBucket:"dinor-app-2.firebasestorage.app",messagingSenderId:"225643560458",appId:"1:225643560458:web:184dbda2374aa43e5e29f3",measurementId:"G-XXXXXXXXXX"});let wn=null;const bn=async()=>{try{return await async function(){if(Ie())return!1;if(!Se())return!1;if(!Le())return!1;try{return await _e()}catch(e){return!1}}()?(wn=fn(kn),console.log("Firebase Analytics initialisé"),wn):(console.warn("Firebase Analytics non supporté dans cet environnement"),null)}catch(e){return console.error("Erreur lors de l'initialisation de Firebase Analytics:",e),null}};const In=new class{constructor(){this.isInitialized=!1,this.eventQueue=[],this.sessionId=this.generateSessionId(),this.userId=null,this.deviceInfo=this.getDeviceInfo(),this.analytics=null}async initialize(){try{this.analytics=await bn(),this.analytics&&console.log("Firebase Analytics initialisé avec succès"),this.isInitialized=!0,this.trackPageView(window.location.pathname),this.processEventQueue(),this.startSessionTracking()}catch(e){console.error("Erreur lors de l'initialisation d'Analytics:",e),this.isInitialized=!0}}generateSessionId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}getDeviceInfo(){return{userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,screenWidth:screen.width,screenHeight:screen.height,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isStandalone:window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}}setUser(e,t={}){if(this.userId=e,this.analytics)try{a=this.analytics,n=e,a=Pe(a),async function(e,t,a){e("config",await t,{update:!0,user_id:a})}(un,sn[a.app.options.appId],n).catch(e=>Ga.error(e)),function(e,t){e=Pe(e),async function(e,t,a){e("config",await t,{update:!0,user_properties:a})}(un,sn[e.app.options.appId],t).catch(e=>Ga.error(e))}(this.analytics,t)}catch(o){console.error("Erreur lors de la définition de l'utilisateur:",o)}var a,n;this.trackEvent("user_login",{user_id:e,...t})}trackPageView(e,t=null){const a={event_type:"page_view",page_path:e,page_title:t||document.title,timestamp:Date.now(),session_id:this.sessionId,user_id:this.userId};if(this.analytics)try{gn(this.analytics,"page_view",{page_path:e,page_title:t||document.title})}catch(n){console.error("Erreur lors du tracking de page vue:",n)}this.sendEvent(a)}trackEvent(e,t={}){const a={event_type:e,...t,timestamp:Date.now(),session_id:this.sessionId,user_id:this.userId,device_info:this.deviceInfo};if(this.analytics)try{gn(this.analytics,e,t)}catch(n){console.error("Erreur lors du tracking d'événement:",n)}this.sendEvent(a)}trackContentInteraction(e,t,a,n=null){this.trackEvent("content_interaction",{action:e,content_type:t,content_id:a,content_title:n,page_path:window.location.pathname})}trackNavigation(e,t,a="click"){this.trackEvent("navigation",{from_path:e,to_path:t,navigation_method:a})}trackSearch(e,t=null,a={}){this.trackEvent("search",{search_term:e,results_count:t,filters:JSON.stringify(a)})}trackSocialInteraction(e,t,a=null){this.trackEvent("social_interaction",{action:e,network:t,target:a})}trackError(e,t=null,a=null){this.trackEvent("app_error",{error_message:e,error_stack:t,error_page:a||window.location.pathname,user_agent:navigator.userAgent})}trackPerformance(e,t,a="ms"){this.trackEvent("performance",{metric_name:e,value:t,unit:a})}trackEngagement(e,t,a=null,n=null){this.trackEvent("user_engagement",{action:e,category:t,label:a,value:n})}async sendEvent(e){if(this.isInitialized)try{await fetch("/api/analytics/event",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(e)})}catch(t){console.error("Erreur lors de l'envoi de l'événement:",t),this.storeEventLocally(e)}else this.eventQueue.push(e)}storeEventLocally(e){try{const t=JSON.parse(localStorage.getItem("analytics_events")||"[]");t.push(e),t.length>100&&t.splice(0,t.length-100),localStorage.setItem("analytics_events",JSON.stringify(t))}catch(t){console.error("Erreur lors du stockage local:",t)}}processEventQueue(){for(;this.eventQueue.length>0;){const e=this.eventQueue.shift();this.sendEvent(e)}}startSessionTracking(){this.trackEvent("session_start",{session_duration:0}),window.addEventListener("beforeunload",()=>{this.trackEvent("session_end",{session_duration:Date.now()-parseInt(this.sessionId,36)})});let e=Date.now(),t=!0;const a=()=>{e=Date.now(),t||(t=!0,this.trackEvent("user_active"))};["click","scroll","keypress","touchstart"].forEach(e=>{document.addEventListener(e,a,{passive:!0})}),setInterval(()=>{Date.now()-e>6e4&&t&&(t=!1,this.trackEvent("user_inactive"))},6e4)}getLocalEvents(){try{return JSON.parse(localStorage.getItem("analytics_events")||"[]")}catch(e){return console.error("Erreur lors de la récupération des événements locaux:",e),[]}}clearLocalEvents(){try{localStorage.removeItem("analytics_events")}catch(e){console.error("Erreur lors de la suppression des événements locaux:",e)}}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{In.initialize()}):In.initialize();const Ln={class:"auth-modal-header"},_n={class:"auth-modal-content"},Sn={key:0,class:"create-account-suggestion"},An={class:"form-group"},En=["disabled"],Mn={class:"form-group"},Cn=["disabled"],xn=["disabled"],Tn={class:"form-group"},Pn=["disabled"],Dn={class:"form-group"},On=["disabled"],Rn={class:"form-group"},qn=["disabled"],zn={class:"form-group"},Hn=["disabled"],$n=["disabled"],Vn={class:"auth-toggle"},jn={key:0},Nn={key:1},Fn=W({__name:"AuthModal",props:{modelValue:{type:Boolean,default:!1},initialMessage:{type:String,default:""}},emits:["update:modelValue","authenticated"],setup(e,{emit:t}){const n=e,i=t,s=B(),l=a(!0),u=a(!1),y=a(""),k=I({email:"",password:""}),b=I({name:"",email:"",password:"",password_confirmation:""}),T=o(()=>n.initialMessage?n.initialMessage:s.error),P=o(()=>n.initialMessage&&!n.initialMessage.includes("erreur"));d(()=>s.error,e=>{e&&(e.includes("utilisateur introuvable")||e.includes("email not found")||e.includes("Invalid credentials")||e.includes("compte n'existe pas"))?(u.value=!0,y.value=k.email):u.value=!1});const D=()=>{i("update:modelValue",!1),R()},O=e=>{e.target===e.currentTarget&&D()},R=()=>{k.email="",k.password="",b.name="",b.email="",b.password="",b.password_confirmation="",s.error=null,u.value=!1,y.value=""},q=()=>{y.value&&(b.email=y.value),l.value=!1,u.value=!1,s.error=null},z=async()=>{if(s.isAuthenticated)return console.log("✅ [Auth Modal] Utilisateur déjà connecté, fermeture du modal"),i("authenticated",s.user),void D();u.value=!1;const e=await s.login(k);e.success&&(i("authenticated",e.user),D())},H=async()=>{const e=await s.register(b);e.success&&(i("authenticated",e.user),D())};return(t,a)=>{const n=g("LucideX");return c(),r(S,{to:"body"},[f(_,{name:"modal"},{default:L(()=>[e.modelValue?(c(),p("div",{key:0,class:"auth-modal-overlay",onClick:O},[h("div",{class:"auth-modal",onClick:a[8]||(a[8]=A(()=>{},["stop"]))},[h("div",Ln,[h("h3",null,v(l.value?"Connexion":"Inscription"),1),h("button",{class:"close-btn",onClick:D,"aria-label":"Fermer"},[f(n,{size:20})])]),h("div",_n,[T.value?(c(),p("div",{key:0,class:w(["error-message",{"info-message":P.value}])},[E(v(T.value)+" ",1),u.value?(c(),p("div",Sn,[a[9]||(a[9]=h("p",null,"Ce compte n'existe pas encore.",-1)),h("button",{onClick:q,class:"create-account-btn"}," Créer un compte maintenant ")])):m("",!0)],2)):m("",!0),l.value?(c(),p("form",{key:1,onSubmit:A(z,["prevent"]),class:"auth-form"},[h("div",An,[a[10]||(a[10]=h("label",{for:"email"},"Email",-1)),M(h("input",{id:"email","onUpdate:modelValue":a[0]||(a[0]=e=>k.email=e),type:"email",required:"",disabled:C(s).loading,class:"form-input",placeholder:"votre@email.com"},null,8,En),[[x,k.email]])]),h("div",Mn,[a[11]||(a[11]=h("label",{for:"password"},"Mot de passe",-1)),M(h("input",{id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>k.password=e),type:"password",required:"",disabled:C(s).loading,class:"form-input",placeholder:"Votre mot de passe"},null,8,Cn),[[x,k.password]])]),h("button",{type:"submit",disabled:C(s).loading,class:"submit-btn"},v(C(s).loading?"Connexion...":"Se connecter"),9,xn)],32)):(c(),p("form",{key:2,onSubmit:A(H,["prevent"]),class:"auth-form"},[h("div",Tn,[a[12]||(a[12]=h("label",{for:"name"},"Nom",-1)),M(h("input",{id:"name","onUpdate:modelValue":a[2]||(a[2]=e=>b.name=e),type:"text",required:"",disabled:C(s).loading,class:"form-input",placeholder:"Votre nom"},null,8,Pn),[[x,b.name]])]),h("div",Dn,[a[13]||(a[13]=h("label",{for:"register-email"},"Email",-1)),M(h("input",{id:"register-email","onUpdate:modelValue":a[3]||(a[3]=e=>b.email=e),type:"email",required:"",disabled:C(s).loading,class:"form-input",placeholder:"votre@email.com"},null,8,On),[[x,b.email]])]),h("div",Rn,[a[14]||(a[14]=h("label",{for:"register-password"},"Mot de passe",-1)),M(h("input",{id:"register-password","onUpdate:modelValue":a[4]||(a[4]=e=>b.password=e),type:"password",required:"",disabled:C(s).loading,class:"form-input",placeholder:"Au moins 8 caractères"},null,8,qn),[[x,b.password]])]),h("div",zn,[a[15]||(a[15]=h("label",{for:"password-confirmation"},"Confirmer le mot de passe",-1)),M(h("input",{id:"password-confirmation","onUpdate:modelValue":a[5]||(a[5]=e=>b.password_confirmation=e),type:"password",required:"",disabled:C(s).loading,class:"form-input",placeholder:"Confirmez votre mot de passe"},null,8,Hn),[[x,b.password_confirmation]])]),h("button",{type:"submit",disabled:C(s).loading,class:"submit-btn"},v(C(s).loading?"Inscription...":"S'inscrire"),9,$n)],32)),h("div",Vn,[l.value?(c(),p("p",jn,[a[16]||(a[16]=E(" Pas encore de compte ? ")),h("button",{onClick:a[6]||(a[6]=e=>l.value=!1),class:"toggle-btn"},"S'inscrire")])):(c(),p("p",Nn,[a[17]||(a[17]=E(" Déjà un compte ? ")),h("button",{onClick:a[7]||(a[7]=e=>l.value=!0),class:"toggle-btn"},"Se connecter")]))])])])])):m("",!0)]),_:1})])}}},[["__scopeId","data-v-e3af637c"]]),Bn={class:"bottom-navigation"},Un={class:"nav-items"},Wn=["onClick","data-item-name","aria-label"],Gn={class:"nav-icon"},Jn={class:"nav-label"};const Xn=W({name:"BottomNavigation",components:{AuthModal:Fn,DinorIcon:G},setup(){const e=l(),t=k();F();const{requireAuth:n,showAuthModal:o,authModalMessage:r,closeAuthModal:i,handleAuthSuccess:s}=de(),{trackNavigation:c,trackClick:d}=function(){const e=a(!1),t=a(null),n=()=>{e.value=!0};return u(()=>{n()}),b(()=>{e.value=!1}),{isTracking:e,lastPageView:t,initializeTracking:n,trackPageView:(e=null,a=null)=>{const n=e||window.location.pathname,o=a||document.title;In.trackPageView(n,o),t.value={path:n,title:o,timestamp:Date.now()}},trackClick:(e,t="button",a={})=>{In.trackEvent("element_click",{element_name:e,element_type:t,page_path:window.location.pathname,...a})},trackContentView:(e,t,a=null)=>{In.trackContentInteraction("view",e,t,a)},trackContentLike:(e,t,a=null)=>{In.trackContentInteraction("like",e,t,a)},trackContentShare:(e,t,a=null,n=null)=>{In.trackContentInteraction("share",e,t,a),n&&In.trackSocialInteraction("share",n,`${e}:${t}`)},trackContentFavorite:(e,t,a=null,n="add")=>{In.trackContentInteraction("add"===n?"favorite":"unfavorite",e,t,a)},trackNavigation:(e,a=null,n="click")=>{const o=a||(t.value?t.value.path:window.location.pathname);In.trackNavigation(o,e,n)},trackSearch:(e,t=null,a={},n="general")=>{In.trackSearch(e,t,{...a,search_type:n})},trackFormStart:(e,t="form")=>{In.trackEvent("form_start",{form_name:e,form_type:t,page_path:window.location.pathname})},trackFormSubmit:(e,t="form",a=!0,n=null)=>{In.trackEvent("form_submit",{form_name:e,form_type:t,success:a,error_message:n,page_path:window.location.pathname})},trackFormFieldInteraction:(e,t,a="focus")=>{In.trackEvent("form_field_interaction",{form_name:e,field_name:t,action:a,page_path:window.location.pathname})},trackError:(e,t,a={})=>{In.trackError(t,a.stack,a.page),In.trackEvent("app_error_detailed",{error_type:e,error_message:t,error_context:JSON.stringify(a),page_path:window.location.pathname})},trackPerformance:(e,t,a={})=>{In.trackPerformance(e,t),In.trackEvent("performance_metric",{metric_name:e,value:t,context:JSON.stringify(a),page_path:window.location.pathname})},trackEngagement:(e,t,a=null,n=null)=>{In.trackEngagement(e,t,a,n)},trackTimeSpent:(e,t,a="content")=>{In.trackEvent("time_spent",{element_name:e,element_type:a,time_spent:t,page_path:window.location.pathname})},trackPWAInstall:(e="banner")=>{In.trackEvent("pwa_install",{install_method:e,user_agent:navigator.userAgent})},trackPWALaunch:(e="browser")=>{In.trackEvent("pwa_launch",{display_mode:e,is_standalone:window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches})},createElementTracker:(e,t="component")=>{let a=null,n=!1;return{onMount:()=>{a=Date.now(),In.trackEvent("component_mount",{element_name:e,element_type:t,page_path:window.location.pathname})},onUnmount:()=>{if(a){const n=Date.now()-a;In.trackEvent("component_unmount",{element_name:e,element_type:t,duration:n,page_path:window.location.pathname})}},onVisible:()=>{n||(n=!0,In.trackEvent("component_visible",{element_name:e,element_type:t,page_path:window.location.pathname}))},onHidden:()=>{n&&(n=!1,In.trackEvent("component_hidden",{element_name:e,element_type:t,page_path:window.location.pathname}))},track:(a,n={})=>{In.trackEvent(`${e}_${a}`,{element_name:e,element_type:t,...n,page_path:window.location.pathname})}}}}}();return{menuItems:a([{name:"all",path:"/",icon:"home",label:"Accueil",action_type:"route"},{name:"recipes",path:"/recipes",icon:"chef-hat",label:"Recettes",action_type:"route"},{name:"tips",path:"/tips",icon:"lightbulb",label:"Astuces",action_type:"route"},{name:"events",path:"/events",icon:"calendar",label:"Événements",action_type:"route"},{name:"pages",path:"/pages",icon:"book-open",label:"Pages",action_type:"route"},{name:"dinor-tv",path:"/dinor-tv",icon:"play-circle",label:"DinorTV",action_type:"route"},{name:"profile",path:"/profile",icon:"user",label:"Profil",action_type:"route"}]),loading:a(!1),handleItemClick:a=>{if(d(`bottom_nav_${a.name}`,"navigation",{label:a.label,action_type:a.action_type,path:a.path}),"profile"!==a.name||n("accéder à votre profil"))switch(a.action_type){case"route":default:a.path&&(c(a.path,e.path,"bottom_navigation"),t.push(a.path));break;case"web_embed":c("/web-embed",e.path,"bottom_navigation"),t.push("/web-embed");break;case"external_link":a.web_url&&(d(`external_link_${a.name}`,"external_navigation",{url:a.web_url,label:a.label}),window.open(a.web_url,"_blank","noopener,noreferrer"))}},handleTouchStart:e=>{const t=e.target.closest(".nav-item");if(t){t.classList.add("touching"),t.style.transform="scale(0.95)";const e=t.querySelector(".nav-icon"),a=t.querySelector(".nav-label");e&&(e.style.opacity="1",e.style.visibility="visible"),a&&(a.style.opacity="1",a.style.visibility="visible")}},handleTouchEnd:e=>{const t=e.target.closest(".nav-item");t&&setTimeout(()=>{t.classList.remove("touching"),t.style.transform="scale(1)"},100)},isActive:t=>"route"===t.action_type&&t.path?e.path===t.path||"/"!==t.path&&e.path.startsWith(t.path):"web_embed"===t.action_type&&"/web-embed"===e.path,showAuthModal:o,authModalMessage:r,closeAuthModal:i,onAuthSuccess:e=>{s(e),t.push("/profile")}}}},[["render",function(e,t,a,n,o,r){const i=g("DinorIcon"),s=g("AuthModal");return c(),p(T,null,[h("nav",Bn,[h("div",Un,[(c(!0),p(T,null,P(n.menuItems,e=>(c(),p("a",{key:e.name,onClick:A(t=>n.handleItemClick(e),["prevent"]),onTouchstartPassive:t[0]||(t[0]=(...e)=>n.handleTouchStart&&n.handleTouchStart(...e)),onTouchendPassive:t[1]||(t[1]=(...e)=>n.handleTouchEnd&&n.handleTouchEnd(...e)),class:w(["nav-item",{active:n.isActive(e)}]),"data-item-name":e.name,href:"#",role:"button","aria-label":e.label},[h("div",Gn,[f(i,{name:e.icon,size:24,filled:n.isActive(e)},null,8,["name","filled"])]),h("span",Jn,v(e.label),1)],42,Wn))),128))])]),f(s,{modelValue:n.showAuthModal,"onUpdate:modelValue":t[2]||(t[2]=e=>n.showAuthModal=e),"initial-message":n.authModalMessage,onAuthenticated:n.onAuthSuccess},null,8,["modelValue","initial-message","onAuthenticated"])],64)}],["__scopeId","data-v-91f6c2e5"]]),Kn=n("app",()=>{const e=a(!1),t=a(null),n=a(navigator.onLine),o=a(null),r=a(!1);function i(e){n.value=e}function s(e){o.value=e}function c(e){r.value=e}return{loading:e,error:t,online:n,installPromptEvent:o,isInstalled:r,setLoading:function(t){e.value=t},setError:function(e){t.value=e},clearError:function(){t.value=null},setOnlineStatus:i,setInstallPromptEvent:s,setInstallationStatus:c,showInstallPrompt:async function(){if(!o.value)return!1;try{const e="accepted"===(await o.value.prompt()).outcome;return e&&(c(!0),s(null)),e}catch(e){return console.error("Install prompt failed:",e),!1}},initializeNetworkListeners:function(){window.addEventListener("online",()=>i(!0)),window.addEventListener("offline",()=>i(!1))},initializePWAListeners:function(){window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),s(e)}),window.addEventListener("appinstalled",()=>{c(!0),s(null)}),window.matchMedia("(display-mode: standalone)").matches&&c(!0)}}}),Zn={class:"prompt-content"},Qn={class:"prompt-icon"},Yn={class:"prompt-actions"};const eo=W({name:"InstallPrompt",setup(){const e=Kn(),t=a(!1),n=a(!1),r=o(()=>e.installPromptEvent&&!e.isInstalled&&!n.value);return u(()=>{sessionStorage.getItem("pwa-install-dismissed")?n.value=!0:setTimeout(()=>{r.value&&(t.value=!0)},3e3)}),{showPrompt:r,visible:t,installApp:async()=>{await e.showInstallPrompt()&&(t.value=!1)},dismissPrompt:()=>{n.value=!0,t.value=!1,sessionStorage.setItem("pwa-install-dismissed","true")}}}},[["render",function(e,t,a,n,o,r){const i=g("LucideDownload");return n.showPrompt?(c(),p("div",{key:0,class:w(["install-prompt",{visible:n.visible}])},[h("div",Zn,[h("div",Qn,[f(i,{size:24})]),t[2]||(t[2]=h("div",{class:"prompt-text"},[h("h3",null,"Installer Dinor App"),h("p",null,"Installez l'app pour une meilleure expérience")],-1)),h("div",Yn,[h("button",{onClick:t[0]||(t[0]=(...e)=>n.dismissPrompt&&n.dismissPrompt(...e)),class:"btn-dismiss"}," Plus tard "),h("button",{onClick:t[1]||(t[1]=(...e)=>n.installApp&&n.installApp(...e)),class:"btn-install"}," Installer ")])])],2)):m("",!0)}],["__scopeId","data-v-216c411a"]]),to={name:"LoadingScreen",props:{visible:{type:Boolean,default:!0},duration:{type:Number,default:3e3}},emits:["complete"],setup(e,{emit:t}){const n=a(e.visible),r=a(0),i=a(!1),s=a("/images/LOGO_DINOR_monochrome.svg"),c=[{text:"Dinor se prépare...",sub:"Chargement de l'application"},{text:"Presque prêt !",sub:"Finalisation en cours"},{text:"C'est parti !",sub:"Bienvenue sur Dinor"}],l=a(0),d=o(()=>{var e;return(null==(e=c[l.value])?void 0:e.text)||"Chargement..."}),p=o(()=>{var e;return(null==(e=c[l.value])?void 0:e.sub)||""}),h=a([]);let m=null,f=null;const g=()=>{n.value=!1,setTimeout(()=>{t("complete")},500)};return u(()=>{(()=>{h.value=[];for(let e=0;e<12;e++)h.value.push({id:e,style:{left:100*Math.random()+"%",animationDelay:3*Math.random()+"s",animationDuration:3+4*Math.random()+"s",transform:`scale(${.3+.7*Math.random()})`}})})(),e.visible&&(m=setInterval(()=>{if(r.value<100){const e=8*Math.random()+2;r.value=Math.min(100,r.value+e)}else clearInterval(m),setTimeout(()=>{g()},500)},e.duration/20),f=setInterval(()=>{l.value=(l.value+1)%c.length},e.duration/3))}),b(()=>{m&&clearInterval(m),f&&clearInterval(f)}),{isVisible:n,progress:r,logoError:i,logoSrc:s,loadingText:d,loadingSubtext:p,bubbles:h,handleLogoError:()=>{console.warn("❌ [LoadingScreen] Logo externe non trouvé, utilisation du fallback"),i.value=!0}}}},ao={class:"bubbles-container"},no={class:"loading-content"},oo={class:"logo-container"},ro={class:"logo-wrapper"},io=["src"],so={key:1,class:"loading-logo-fallback",viewBox:"0 0 200 80",xmlns:"http://www.w3.org/2000/svg"},co={class:"loading-text"},lo={class:"progress-container"},uo={class:"progress-bar"},po={class:"progress-text"};const ho=W(to,[["render",function(e,t,a,n,o,r){return c(),p("div",{class:w(["loading-screen",{"fade-out":!n.isVisible}])},[h("div",ao,[(c(!0),p(T,null,P(n.bubbles,e=>(c(),p("div",{key:e.id,class:"bubble",style:D(e.style)},null,4))),128))]),h("div",no,[h("div",oo,[h("div",ro,[n.logoError?(c(),p("svg",so,t[1]||(t[1]=[h("text",{x:"30",y:"50","font-family":"Arial, sans-serif","font-size":"32","font-weight":"bold",fill:"white"},"DINOR",-1)]))):(c(),p("img",{key:0,src:n.logoSrc,alt:"Dinor",class:"loading-logo",onError:t[0]||(t[0]=(...e)=>n.handleLogoError&&n.handleLogoError(...e))},null,40,io)),t[2]||(t[2]=h("div",{class:"logo-shine"},null,-1))]),h("div",co,[h("h2",null,v(n.loadingText),1),h("p",null,v(n.loadingSubtext),1)])]),h("div",lo,[h("div",uo,[h("div",{class:"progress-fill",style:D({width:n.progress+"%"})},null,4),t[3]||(t[3]=h("div",{class:"progress-glow"},null,-1))]),h("div",po,v(Math.round(n.progress))+"%",1)])])],2)}],["__scopeId","data-v-b702d20a"]]),mo={class:"share-modal-header"},fo={class:"share-modal-content"},go={class:"share-buttons"},vo=["onClick","aria-label"],yo={class:"share-btn-label"},ko={class:"share-link"},wo=["value"],bo=W({__name:"ShareModal",props:{modelValue:{type:Boolean,default:!1},shareData:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,{shareToSocial:s,copyLink:l}=j(),u=a(null),g=a(!1),y=o(()=>window.location.href),k=[{id:"facebook",name:"Facebook",icon:"fab fa-facebook-f",color:"#1877f2"},{id:"twitter",name:"X (Twitter)",icon:"fab fa-x-twitter",color:"#1da1f2"},{id:"whatsapp",name:"WhatsApp",icon:"fab fa-whatsapp",color:"#25d366"},{id:"linkedin",name:"LinkedIn",icon:"fab fa-linkedin-in",color:"#0077b5"},{id:"telegram",name:"Telegram",icon:"fab fa-telegram-plane",color:"#0088cc"},{id:"pinterest",name:"Pinterest",icon:"fab fa-pinterest-p",color:"#e60023"},{id:"email",name:"Email",icon:"fas fa-envelope",color:"#ea4335"}],b=()=>{i("update:modelValue",!1)},I=e=>{e.target===e.currentTarget&&b()},M=async()=>{console.log("📋 [ShareModal] handleCopyLink appelé");const e=n.shareData.url||y.value;console.log("🔗 [ShareModal] URL à copier:",e);await l(e)?(console.log("✅ [ShareModal] Lien copié avec succès!"),g.value=!0,setTimeout(()=>{g.value=!1},2e3)):console.error("❌ [ShareModal] Échec de la copie du lien")};return d(()=>n.modelValue,e=>{e||(g.value=!1)}),(t,a)=>(c(),r(S,{to:"body"},[f(_,{name:"modal"},{default:L(()=>[e.modelValue?(c(),p("div",{key:0,class:"share-modal-overlay",onClick:I},[h("div",{class:"share-modal",onClick:a[0]||(a[0]=A(()=>{},["stop"]))},[h("div",mo,[a[1]||(a[1]=h("h3",null,"Partager",-1)),h("button",{class:"close-btn",onClick:b,"aria-label":"Fermer"},[f(G,{name:"close",size:24})])]),h("div",fo,[h("div",go,[(c(),p(T,null,P(k,e=>h("button",{key:e.id,onClick:t=>{return a=e.id,console.log("🚀 [ShareModal] shareToNetwork appelé avec platform:",a),console.log("📋 [ShareModal] shareData:",n.shareData),s(a,n.shareData),void setTimeout(()=>b(),500);var a},class:w(["share-btn",e.id]),"aria-label":`Partager sur ${e.name}`,style:D({"--network-color":e.color})},[h("i",{class:w([e.icon,"share-icon"])},null,2),h("span",yo,v(e.name),1)],14,vo)),64))]),h("div",ko,[h("input",{type:"text",value:e.shareData.url||y.value,readonly:"",ref_key:"linkInput",ref:u,class:"share-link-input"},null,8,wo),h("button",{onClick:M,class:w(["copy-btn",{copied:g.value}])},[f(G,{name:g.value?"check":"content_copy",size:18},null,8,["name"]),E(" "+v(g.value?"Copié!":"Copier"),1)],2)])])])])):m("",!0)]),_:1})]))}},[["__scopeId","data-v-03465b6e"]]),Io={key:1,id:"app"},Lo={class:"app-container"};const _o=W({name:"App",components:{AppHeader:se,BottomNavigation:Xn,InstallPrompt:eo,LoadingScreen:ho,ShareModal:bo,AuthModal:Fn},setup(){const e=l(),t=k(),{share:n,showShareModal:r}=j();B();const i=a({}),s=a(!1),c=a("Dinor"),p=a(!1),h=a(null),m=a(null),f=a(!1),g=a(!1),v=a(null),y=o(()=>!["/login","/register","/auth-error","/404"].some(t=>e.path===t||e.path.startsWith(t))),w=()=>{"/"===e.path?(c.value="Dinor",p.value=!1,g.value=!1,v.value=null):"/recipes"===e.path?(c.value="Recettes",p.value=!1,g.value=!1,v.value=null):"/tips"===e.path?(c.value="Astuces",p.value=!1,g.value=!1,v.value=null):"/events"===e.path?(c.value="Événements",p.value=!1,g.value=!1,v.value=null):"/dinor-tv"===e.path?(c.value="Dinor TV",p.value=!1,g.value=!1,v.value=null):"/pages"===e.path?(c.value="Pages",p.value=!1,g.value=!1,v.value=null):e.path.startsWith("/recipe/")?(c.value="Recette",p.value=!0,g.value=!0,v.value="/recipes"):e.path.startsWith("/tip/")?(c.value="Astuce",p.value=!0,g.value=!0,v.value="/tips"):e.path.startsWith("/event/")?(c.value="Événement",p.value=!0,g.value=!0,v.value="/events"):(c.value="Dinor",p.value=!1,g.value=!1,v.value="/")};d(()=>e.path,w,{immediate:!0});const b=a(null);w();const I=a(!0);return u(()=>{console.log("🚀 [App] Application démarrée avec loading screen")}),{showBottomNav:y,currentPageTitle:c,showFavoriteButton:p,favoriteType:h,favoriteItemId:m,isContentFavorited:f,showShareButton:g,backPath:v,currentView:b,updateHeader:e=>{e.title&&(c.value=e.title),void 0!==e.showFavorite&&(p.value=e.showFavorite),void 0!==e.favoriteType&&(h.value=e.favoriteType),void 0!==e.favoriteItemId&&(m.value=e.favoriteItemId),void 0!==e.isContentFavorited&&(f.value=e.isContentFavorited),void 0!==e.showShare&&(g.value=e.showShare),void 0!==e.backPath&&(v.value=e.backPath)},handleLike:()=>{b.value&&b.value.toggleLike&&b.value.toggleLike()},handleShare:()=>{console.log("🎯 [App] handleShare appelé!");const t={title:c.value||"Dinor",text:`Découvrez ${c.value} sur Dinor`,url:window.location.href};e.path.startsWith("/recipe/")?(t.text="Découvrez cette délicieuse recette sur Dinor",t.type="recipe",t.id=e.params.id):e.path.startsWith("/tip/")?(t.text="Découvrez cette astuce pratique sur Dinor",t.type="tip",t.id=e.params.id):e.path.startsWith("/event/")&&(t.text="Ne manquez pas cet événement sur Dinor",t.type="event",t.id=e.params.id),i.value=t,console.log("🚀 [App] Déclenchement du partage avec:",t),n(t)},handleBack:()=>{v.value?t.push(v.value):t.go(-1)},handleFavoriteUpdate:e=>{console.log("🌟 [App] Favori mis à jour:",e),f.value=e.isFavorited,b.value&&b.value.handleFavoriteUpdate&&b.value.handleFavoriteUpdate(e)},handleAuthRequired:()=>{console.log("🔒 [App] Authentification requise"),s.value=!0},showLoading:I,onLoadingComplete:()=>{I.value=!1,console.log("🎉 [App] Chargement terminé, app prête !")},showShareModal:r,currentShareData:i,showAuthModal:s}}},[["render",function(e,t,a,n,o,i){const s=g("LoadingScreen"),l=g("AppHeader"),d=g("router-view"),u=g("BottomNavigation"),v=g("InstallPrompt"),y=g("ShareModal"),k=g("AuthModal");return c(),p(T,null,[n.showLoading?(c(),r(s,{key:0,visible:n.showLoading,duration:2500,onComplete:n.onLoadingComplete},null,8,["visible","onComplete"])):m("",!0),n.showLoading?m("",!0):(c(),p("div",Io,[h("div",Lo,[f(l,{title:n.currentPageTitle,"show-favorite":n.showFavoriteButton,"favorite-type":n.favoriteType,"favorite-item-id":n.favoriteItemId,"initial-favorited":n.isContentFavorited,"show-share":n.showShareButton,"back-path":n.backPath,onFavoriteUpdated:n.handleFavoriteUpdate,onShare:n.handleShare,onBack:n.handleBack,onAuthRequired:n.handleAuthRequired},null,8,["title","show-favorite","favorite-type","favorite-item-id","initial-favorited","show-share","back-path","onFavoriteUpdated","onShare","onBack","onAuthRequired"]),h("main",{class:w(["main-content",{"with-bottom-nav":n.showBottomNav,"with-header":!0}])},[f(d,{onUpdateHeader:n.updateHeader,onLike:n.handleLike,onShare:n.handleShare,ref:"currentView"},null,8,["onUpdateHeader","onLike","onShare"])],2),n.showBottomNav?(c(),r(u,{key:0})):m("",!0),f(v),f(y,{modelValue:n.showShareModal,"onUpdate:modelValue":t[0]||(t[0]=e=>n.showShareModal=e),"share-data":n.currentShareData},null,8,["modelValue","share-data"]),f(k,{modelValue:n.showAuthModal,"onUpdate:modelValue":t[1]||(t[1]=e=>n.showAuthModal=e)},null,8,["modelValue"])])]))],64)}]]),So=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ao=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Eo=(...e)=>e.filter((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();
/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Mo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};
/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=({size:e,strokeWidth:t=2,absoluteStrokeWidth:a,color:n,iconNode:o,name:r,class:i,...s},{slots:c})=>O("svg",{...Mo,width:e||Mo.width,height:e||Mo.height,stroke:n||Mo.stroke,"stroke-width":a?24*Number(t)/Number(e):t,class:Eo("lucide",...r?[`lucide-${So(Ao(r))}-icon`,`lucide-${So(r)}`]:["lucide-icon"]),...s},[...o.map(e=>O(...e)),...c.default?[c.default()]:[]]),xo=(e,t)=>(a,{slots:n})=>O(Co,{...a,iconNode:t,name:e},n),To=xo("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),Po=xo("alarm-clock",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]]),Do=xo("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Oo=xo("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Ro=xo("bell-off",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]),qo=xo("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),zo=xo("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Ho=xo("bookmark-check",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]),$o=xo("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Vo=xo("calendar-check",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),jo=xo("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),No=xo("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Fo=xo("calendar-plus",[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]]),Bo=xo("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Uo=xo("calendar-x",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]),Wo=xo("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Go=xo("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Jo=xo("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),Xo=xo("chef-hat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]),Ko=xo("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Zo=xo("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Qo=xo("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Yo=xo("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),er=xo("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),tr=xo("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ar=xo("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),nr=xo("circle-pause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),or=xo("circle-play",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),rr=xo("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ir=xo("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]),sr=xo("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),cr=xo("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),lr=xo("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),dr=xo("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),ur=xo("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),pr=xo("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),hr=xo("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),mr=xo("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),fr=xo("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),gr=xo("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vr=xo("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),yr=xo("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),kr=xo("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),wr=xo("gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),br=xo("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ir=xo("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Lr=xo("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_r=xo("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),Sr=xo("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),Ar=xo("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Er=xo("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Mr=xo("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Cr=xo("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),xr=xo("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Tr=xo("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Pr=xo("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),Dr=xo("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Or=xo("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Rr=xo("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),qr=xo("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),zr=xo("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Hr=xo("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),$r=xo("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Vr=xo("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]),jr=xo("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Nr=xo("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Fr=xo("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),Br=xo("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]),Ur=xo("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),Wr=xo("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Gr=xo("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Jr=xo("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),Xr=xo("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Kr=xo("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Zr=xo("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Qr=xo("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Yr=xo("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),ei=xo("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ti=xo("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),ai=xo("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),ni=xo("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oi=xo("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),ri=xo("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ii=xo("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),si=xo("skip-back",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),ci=xo("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),li=xo("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),di=xo("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ui=xo("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),pi=xo("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),hi=xo("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),mi=xo("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fi=xo("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),gi=xo("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),vi=xo("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),yi=xo("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),ki=xo("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),wi=xo("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),bi=xo("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Ii=xo("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Li=xo("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),_i=xo("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Si=xo("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Ai=xo("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ei=xo("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Mi=xo("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),Ci=xo("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),xi=xo("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Ti=xo("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Pi=xo("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Di=xo("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),Oi=xo("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ri=xo("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),qi=xo("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);
/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=new class{constructor(){this.isInitialized=!1,this.initInProgress=!1,"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?(this.appId=null,this.devMode=!0,console.log("🔧 OneSignal: Mode développement - notifications désactivées")):(this.appId="7703701f-3c33-408d-99e0-db5c4da8918a",this.devMode=!1,setTimeout(()=>this.init(),100))}async init(){if(this.devMode)console.log("🔧 OneSignal: Initialisation ignorée en mode développement");else if(this.isInitialized||this.initInProgress)console.log("🔧 OneSignal: Déjà initialisé ou en cours d'initialisation, ignoré");else{this.initInProgress=!0;try{window.OneSignalDeferred=window.OneSignalDeferred||[],OneSignalDeferred.push(async e=>{try{if(window.OneSignal&&window.OneSignal.init)return console.log("⚠️ OneSignal: SDK déjà chargé, initialisation ignorée"),void(this.initInProgress=!1);await e.init({appId:this.appId,allowLocalhostAsSecureOrigin:!0,autoRegister:!0,notifyButton:{enable:!1}}),this.isInitialized=!0,this.initInProgress=!1,console.log("✅ OneSignal initialisé avec succès"),this.setupEventListeners(),await this.requestPermission()}catch(t){if(this.initInProgress=!1,!t.message||!t.message.includes("initialized once"))throw t;console.log("ℹ️ OneSignal: Déjà initialisé, récupération de l'état..."),this.isInitialized=!0,this.setupEventListeners()}})}catch(e){this.initInProgress=!1,console.error("❌ Erreur lors de l'initialisation OneSignal:",e)}}}setupEventListeners(){this.devMode||window.OneSignalDeferred.push(e=>{e.Notifications.addEventListener("receive",e=>{console.log("📱 Notification reçue:",e),this.onNotificationReceived(e)}),e.Notifications.addEventListener("click",e=>{console.log("👆 Notification cliquée:",e),this.onNotificationClicked(e)}),e.Notifications.addEventListener("permissionChange",e=>{console.log("🔔 Permission changée:",e),this.onPermissionChanged(e)})})}async requestPermission(){return this.devMode?(console.log("🔧 OneSignal: Permission ignorée en mode développement"),!1):new Promise(e=>{window.OneSignalDeferred.push(async t=>{try{const a=await t.Notifications.requestPermission();console.log("🔔 Permission notifications:",a),e(a)}catch(a){console.error("❌ Erreur permission:",a),e(!1)}})})}async getUserId(){return new Promise(e=>{window.OneSignalDeferred.push(async t=>{try{const a=await t.User.PushSubscription.id;e(a)}catch(a){console.error("❌ Erreur getUserId:",a),e(null)}})})}async isSubscribed(){return new Promise(e=>{window.OneSignalDeferred.push(async t=>{try{const a=await t.User.PushSubscription.optedIn;e(a)}catch(a){console.error("❌ Erreur isSubscribed:",a),e(!1)}})})}async addTags(e){return new Promise(t=>{window.OneSignalDeferred.push(async a=>{try{await a.User.addTags(e),console.log("🏷️ Tags ajoutés:",e),t(!0)}catch(n){console.error("❌ Erreur addTags:",n),t(!1)}})})}onNotificationReceived(e){var t;const a=e.notification;(null==(t=a.additionalData)?void 0:t.showAlert)&&this.showCustomAlert(a)}onNotificationClicked(e){var t;const a=e.notification;a.launchURL?window.location.href=a.launchURL:(null==(t=a.additionalData)?void 0:t.url)&&(window.location.href=a.additionalData.url)}onPermissionChanged(e){e?(console.log("🔔 Notifications activées"),this.showPermissionGrantedMessage()):console.log("🔕 Notifications désactivées")}showCustomAlert(e){const t=document.createElement("div");t.className="custom-notification-toast",t.innerHTML=`\n            <div class="toast-content">\n                <h4>${e.title}</h4>\n                <p>${e.body}</p>\n            </div>\n        `,t.style.cssText="\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: #333;\n            color: white;\n            padding: 15px;\n            border-radius: 8px;\n            max-width: 300px;\n            z-index: 10000;\n            box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n        ",document.body.appendChild(t),setTimeout(()=>{t.remove()},5e3)}showPermissionGrantedMessage(){console.log("✅ Vous recevrez maintenant les notifications Dinor !")}},Hi=R(_o),$i=q();Hi.use($i),Hi.use(V),Hi.component("LucideHome",Sr),Hi.component("LucideChefHat",Xo),Hi.component("LucideLightbulb",xr),Hi.component("LucideCalendar",Bo),Hi.component("LucidePlay",Xr),Hi.component("LucideUser",Ai),Hi.component("LucideArrowLeft",Do),Hi.component("LucideHeart",Lr),Hi.component("LucideShare2",oi),Hi.component("LucideMapPin",$r),Hi.component("LucideTag",hi),Hi.component("LucideClock",cr),Hi.component("LucideUsers",Ei),Hi.component("LucideInfo",Er),Hi.component("LucideTrash2",gi),Hi.component("LucideCalendarPlus",Fo),Hi.component("LucideAlertCircle",tr),Hi.component("LucideChevronUp",Yo),Hi.component("LucideChevronDown",Zo),Hi.component("LucideMessageCircle",Fr),Hi.component("LucideStar",ui),Hi.component("LucideSettings",ni),Hi.component("LucideMenu",Nr),Hi.component("LucideX",Oi),Hi.component("LucideSearch",ti),Hi.component("LucideFilter",kr),Hi.component("LucideGrid",Ir),Hi.component("LucideList",Pr),Hi.component("LucideMoreVertical",hr),Hi.component("LucideDownload",pr),Hi.component("LucideUpload",Ii),Hi.component("LucideBookmark",$o),Hi.component("LucideBookmarkCheck",Ho),Hi.component("LucideEye",gr),Hi.component("LucideEyeOff",fr),Hi.component("LucidePlus",Kr),Hi.component("LucideMinus",Wr),Hi.component("LucideCheck",Ko),Hi.component("LucideChevronLeft",Qo),Hi.component("LucideChevronRight",er),Hi.component("LucideMaximize2",Vr),Hi.component("LucideMinimize2",Ur),Hi.component("LucideRotateCcw",Qr),Hi.component("LucideBell",qo),Hi.component("LucideBellOff",Ro),Hi.component("LucideMail",Hr),Hi.component("LucidePhone",Jr),Hi.component("LucideGlobe",br),Hi.component("LucideFacebook",vr),Hi.component("LucideTwitter",bi),Hi.component("LucideInstagram",Mr),Hi.component("LucideYoutube",Ri),Hi.component("LucideLinkedin",Tr),Hi.component("LucideSend",ai),Hi.component("LucideCopy",dr),Hi.component("LucideExternalLink",mr),Hi.component("LucideEdit",di),Hi.component("LucideSave",ei),Hi.component("LucideLogOut",zr),Hi.component("LucideLogIn",qr),Hi.component("LucideUserPlus",_i),Hi.component("LucideUserCheck",Li),Hi.component("LucideUserX",Si),Hi.component("LucideShield",ii),Hi.component("LucideLock",Rr),Hi.component("LucideUnlock",Or),Hi.component("LucideKey",Cr),Hi.component("LucideZap",qi),Hi.component("LucideWifi",Di),Hi.component("LucideWifiOff",Pi),Hi.component("LucideSmartphone",li),Hi.component("LucideTablet",pi),Hi.component("LucideMonitor",Gr),Hi.component("LucideCamera",Wo),Hi.component("LucideImage",Ar),Hi.component("LucideVideo",Ci),Hi.component("LucideMic",Br),Hi.component("LucideVolume2",xi),Hi.component("LucideVolumeX",Ti),Hi.component("LucidePlayCircle",or),Hi.component("LucidePauseCircle",nr),Hi.component("LucideStopCircle",ir),Hi.component("LucideSkipBack",si),Hi.component("LucideSkipForward",ci),Hi.component("LucideRefreshCw",Zr),Hi.component("LucideRotateCw",Yr),Hi.component("LucideLoader",Dr),Hi.component("LucideCheckCircle",ar),Hi.component("LucideXCircle",sr),Hi.component("LucideAlertTriangle",ki),Hi.component("LucideHelpCircle",rr),Hi.component("LucideAward",Oo),Hi.component("LucideTrophy",wi),Hi.component("LucideTarget",mi),Hi.component("LucideTrendingUp",yi),Hi.component("LucideTrendingDown",vi),Hi.component("LucideBarChart3",Go),Hi.component("LucidePieChart",Jo),Hi.component("LucideActivity",To),Hi.component("LucideUtensils",Mi),Hi.component("LucideCoffee",lr),Hi.component("LucideCalendarDays",No),Hi.component("LucideCalendarCheck",Vo),Hi.component("LucideCalendarX",Uo),Hi.component("LucideCalendarClock",jo),Hi.component("LucideTimer",fi),Hi.component("LucideHourglass",_r),Hi.component("LucideAlarmClock",Po),Hi.component("LucideBookOpen",zo),Hi.component("LucideShieldCheck",ri),Hi.component("LucideGavel",wr),Hi.component("LucideFileText",yr),Hi.component("LucideCrown",ur),Hi.component("LucideMedal",jr);const Vi=Kn();function ji(){navigator.onLine?(document.body.classList.remove("offline"),Vi.setOnlineStatus(!0)):(document.body.classList.add("offline"),Vi.setOnlineStatus(!1))}Hi.mount("#app"),Hi.config.errorHandler=(e,t,a)=>{console.error("Global error:",e,a)},"serviceWorker"in navigator&&navigator.serviceWorker.register("/pwa/sw.js").then(e=>{console.log("✅ Service Worker correctement enregistré:",e.scope)}).catch(e=>{console.error("❌ Erreur enregistrement Service Worker:",e)}),"ontouchstart"in window&&document.body.classList.add("touch-device"),window.addEventListener("online",ji),window.addEventListener("offline",ji),ji(),console.log("🔔 [Main] Initialisation du service OneSignal..."),window.oneSignalService=zi;export{Fn as A,G as D,bo as S,W as _,ue as a,U as b,Kn as c,B as d,j as e,F as u};
