import{h as e,i as a,k as t,l as s,t as r,F as l,E as o,e as n,f as c,j as i,r as d,g as p,p as u,o as g}from"./vendor.Bvrl98ec.js";import{_ as m,b as y}from"./index.CsDJUcBR.js";const v={class:"pages-list"},f={key:0,class:"loading-state"},h={key:1,class:"error-state"},k={class:"error-icon"},b={class:"md3-body-large dinor-text-gray"},C={key:2,class:"empty-state"},L={class:"empty-icon"},x={key:3,class:"pages-grid"},P=["onClick"],w={class:"page-icon"},T={class:"page-content"},F={class:"page-title"},I={key:0,class:"page-excerpt"},_={class:"page-meta"},j={key:0,class:"template-badge"},z={key:1,class:"last-updated"},A={class:"page-arrow"};const D=m({name:"PagesList",setup(){const e=u(),a=d([]),t=d(!1),s=d(null),r=async()=>{t.value=!0,s.value=null;try{const e=await y.getPages();if(!e.success)throw new Error(e.message||"Failed to fetch pages");a.value=e.data}catch(e){s.value=e.message,console.error("Error fetching pages:",e)}finally{t.value=!1}};return p(()=>{r()}),{pages:a,loading:t,error:s,goToPage:a=>{if(a.url){const t=encodeURIComponent(a.url);e.push(`/web-embed?url=${t}`)}},retry:()=>{s.value=null,r()},getPageIconComponent:e=>{const a={about:"LucideInfo",contact:"LucideMail",privacy:"LucideShieldCheck",terms:"LucideGavel",faq:"LucideHelpCircle",default:"LucideFileText"};return a[e]||a.default},getTemplateLabel:e=>{const a={about:"À propos",contact:"Contact",privacy:"Confidentialité",terms:"Conditions",faq:"FAQ",default:"Page"};return a[e]||a.default},formatDate:e=>e?new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):""}}},[["render",function(d,p,u,m,y,D){const E=s("LucideAlertTriangle"),R=s("LucideBookOpen"),q=s("LucideChevronRight");return g(),e("div",v,[m.loading?(g(),e("div",f,p[1]||(p[1]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"Chargement des pages...",-1)]))):m.error?(g(),e("div",h,[a("div",k,[t(E,{size:48})]),p[2]||(p[2]=a("h2",{class:"md3-title-large"},"Erreur de chargement",-1)),a("p",b,r(m.error),1),a("button",{onClick:p[0]||(p[0]=(...e)=>m.retry&&m.retry(...e)),class:"btn-secondary"},"Réessayer")])):m.loading||0!==m.pages.length?(g(),e("div",x,[(g(!0),e(l,null,o(m.pages,s=>(g(),e("article",{key:s.id,onClick:e=>m.goToPage(s),class:"page-card"},[a("div",w,[(g(),n(c(m.getPageIconComponent(s.template)),{size:24}))]),a("div",T,[a("h3",F,r(s.title),1),s.excerpt?(g(),e("p",I,r(s.excerpt),1)):i("",!0),a("div",_,[s.template?(g(),e("span",j,r(m.getTemplateLabel(s.template)),1)):i("",!0),s.updated_at?(g(),e("span",z," Mis à jour "+r(m.formatDate(s.updated_at)),1)):i("",!0)])]),a("div",A,[t(q,{size:20})])],8,P))),128))])):(g(),e("div",C,[a("div",L,[t(R,{size:48})]),p[3]||(p[3]=a("h2",{class:"md3-title-medium"},"Aucune page trouvée",-1)),p[4]||(p[4]=a("p",{class:"md3-body-medium dinor-text-gray"}," Aucune page n'est disponible pour le moment. ",-1))]))])}],["__scopeId","data-v-368e2e95"]]);export{D as default};
