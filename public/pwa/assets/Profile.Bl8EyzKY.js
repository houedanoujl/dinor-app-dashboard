import{r as e,b as s,g as t,h as a,i,j as n,k as o,A as r,l,t as c,q as d,o as u,F as m,E as p,z as v,x as g,e as f,G as h,B as y,D as b,M as _,w as k,p as P}from"./vendor.Bvrl98ec.js";import{_ as w,D as S,n as z,A as F,d as T,u as C}from"./index.CsDJUcBR.js";const D={class:"notification-button"},A=["disabled"],E=["disabled"];const M={class:"profile"},j={key:0,class:"loading-state"},I={key:1,class:"auth-required"},N={class:"auth-icon"},x={key:2,class:"profile-content"},V={class:"user-info-section"},q={class:"user-avatar"},L={class:"user-details"},R={class:"user-name"},U={class:"user-email"},O={key:0,class:"member-since"},$={class:"profile-navigation"},B=["onClick"],J={class:"profile-sections"},G={key:0,class:"section-content"},W={class:"section-header"},H={class:"filter-tabs"},X=["onClick"],K={key:0,class:"favorites-list"},Q=["onClick"],Y={class:"favorite-image"},Z=["src","alt"],ee={class:"favorite-type-badge"},se={class:"favorite-info"},te={class:"favorite-title"},ae={class:"favorite-description"},ie={class:"favorite-meta"},ne={class:"favorite-date"},oe={class:"favorite-stats"},re={class:"stat"},le={class:"stat"},ce=["onClick"],de={key:1,class:"empty-favorites"},ue={class:"empty-icon"},me={key:1,class:"section-content"},pe={key:0,class:"loading-container"},ve={key:1,class:"predictions-dashboard"},ge={class:"predictions-overview"},fe={class:"stats-grid"},he={class:"stat-card total-predictions"},ye={class:"stat-icon"},be={class:"stat-content"},_e={class:"stat-value"},ke={class:"stat-card total-points"},Pe={class:"stat-icon"},we={class:"stat-content"},Se={class:"stat-value"},ze={class:"stat-card accuracy"},Fe={class:"stat-icon"},Te={class:"stat-content"},Ce={class:"stat-value"},De={key:0,class:"stat-card ranking"},Ae={class:"stat-icon"},Ee={class:"stat-content"},Me={class:"stat-value"},je={class:"quick-actions"},Ie={class:"sub-tabs"},Ne=["onClick"],xe={key:0,class:"tab-content"},Ve={key:0,class:"predictions-stats-overview"},qe={class:"stats-grid"},Le={class:"stat-card"},Re={class:"stat-icon"},Ue={class:"stat-info"},Oe={class:"stat-value"},$e={class:"stat-card"},Be={class:"stat-icon accuracy"},Je={class:"stat-info"},Ge={class:"stat-value"},We={class:"stat-card"},He={class:"stat-icon points"},Xe={class:"stat-info"},Ke={class:"stat-value"},Qe={key:0,class:"stat-card"},Ye={class:"stat-icon ranking"},Ze={class:"stat-info"},es={class:"stat-value"},ss={key:1,class:"recent-predictions-preview"},ts={class:"section-header-with-action"},as={class:"subsection-title"},is={class:"predictions-filter-mini"},ns={class:"predictions-list compact"},os={class:"prediction-status-indicator"},rs={class:"prediction-match"},ls={class:"teams"},cs={class:"team"},ds={class:"team"},us={class:"match-info"},ms={class:"predicted-score"},ps={key:1,class:"pending"},vs={class:"prediction-date"},gs={key:2,class:"all-predictions"},fs={class:"predictions-header"},hs={class:"subsection-title"},ys={class:"predictions-filters"},bs={class:"filter-chips"},_s={class:"predictions-list grouped"},ks={class:"group-header"},Ps={class:"group-date"},ws={class:"group-count"},Ss={class:"group-predictions"},zs={class:"prediction-status-indicator"},Fs={class:"prediction-match"},Ts={class:"teams"},Cs={class:"team"},Ds={class:"team"},As={class:"match-date"},Es={class:"prediction-details"},Ms={class:"prediction-scores"},js={class:"predicted"},Is={class:"score highlight"},Ns={key:0,class:"actual"},xs={class:"score"},Vs={class:"prediction-result"},qs={key:1,class:"pending"},Ls={key:3,class:"empty-predictions"},Rs={class:"empty-illustration"},Us={class:"empty-icon"},Os={class:"empty-actions"},$s={key:1,class:"tab-content"},Bs={class:"ranking-section"},Js={class:"subsection-title"},Gs={key:0,class:"my-rank-card enhanced"},Ws={class:"rank-number"},Hs={class:"rank-info"},Xs={class:"rank-stats"},Ks={class:"stat-item"},Qs={class:"stat-item"},Ys={key:1,class:"progress-card"},Zs={class:"progress-info"},et={class:"progress-bar"},st={class:"ranking-actions"},tt={key:2,class:"tab-content"},at={class:"tournaments-section"},it={key:0,class:"tournaments-list"},nt={class:"tournament-header"},ot={class:"tournament-info"},rt={key:0,class:"prize"},lt={class:"participants"},ct={class:"tournament-actions"},dt=["onClick","disabled"],ut=["onClick"],mt={key:1,class:"empty-tournaments"},pt={class:"empty-icon"},vt={key:2,class:"error-state"},gt={class:"error-icon"},ft={key:2,class:"section-content"},ht={class:"form-section"},yt={class:"form-section"},bt={class:"info-grid"},_t={class:"info-item"},kt={class:"info-value"},Pt={key:3,class:"section-content"},wt={class:"form-section"},St={class:"form-field"},zt={class:"form-actions"},Ft=["disabled"],Tt={key:0},Ct={key:1},Dt={key:4,class:"section-content"},At={class:"form-section"},Et={class:"form-field"},Mt={class:"form-field"},jt={class:"form-field"},It={class:"form-actions"},Nt=["disabled"],xt={key:0},Vt={key:1},qt={class:"form-section logout-section"},Lt={key:5,class:"section-content"},Rt={class:"legal-section"},Ut={class:"legal-links"},Ot={href:"/terms",class:"legal-link"},$t={href:"/privacy",class:"legal-link"},Bt={href:"/cookies",class:"legal-link"},Jt={class:"form-section danger-section"},Gt={class:"form-field"},Wt={class:"form-field"},Ht={class:"checkbox-label"},Xt={class:"form-actions"},Kt=["disabled"],Qt={key:0},Yt={key:1};const Zt=w({name:"Profile",components:{AuthModal:F,NotificationButton:w({name:"NotificationButton",components:{DinorIcon:S},setup(){const a=e(!1),i=e({isSupported:!1,permission:"default",isInitialized:!1,hasServiceWorker:!1}),n=e(""),o=e(""),r=s(()=>{if(a.value)return"Chargement...";switch(i.value.permission){case"granted":return"Notifications activées";case"denied":return"Notifications refusées";default:return"Activer notifications"}}),l=()=>{i.value=z.getStatus()},c=(e,s="info")=>{n.value=e,o.value=s,setTimeout(()=>{n.value="",o.value=""},3e3)};return t(()=>{l();const e=setInterval(l,1e3);return()=>{clearInterval(e)}}),{loading:a,notificationStatus:i,buttonText:r,statusMessage:n,statusType:o,toggleNotifications:async()=>{a.value=!0;try{if("granted"===i.value.permission)await z.unsubscribe(),c("Notifications désactivées","success");else{const e=await z.requestPermissionWithPrompt();"granted"===e?c("Notifications activées avec succès !","success"):"denied"===e?c("Permission refusée. Vous pouvez la réactiver dans les paramètres de votre navigateur.","warning"):c("Permission en attente. Veuillez réessayer.","info")}}catch(e){console.error("Erreur notifications:",e),c("Erreur lors de la configuration des notifications","error")}finally{a.value=!1,l()}},testNotification:async()=>{a.value=!0;try{await z.showLocalNotification("Test Dinor",{body:"Cette notification de test confirme que le système fonctionne correctement !",icon:"/pwa/icons/icon-192x192.png",tag:"test-notification"}),c("Notification de test envoyée !","success")}catch(e){console.error("Erreur test notification:",e),c("Erreur lors de l'envoi de la notification de test","error")}finally{a.value=!1}}}}},[["render",function(e,s,t,m,p,v){const g=l("DinorIcon");return u(),a("div",D,[i("button",{onClick:s[0]||(s[0]=(...e)=>m.toggleNotifications&&m.toggleNotifications(...e)),class:d(["btn","granted"===m.notificationStatus.permission?"btn-success":"btn-primary"]),disabled:!m.notificationStatus.isSupported||m.loading},[o(g,{name:"granted"===m.notificationStatus.permission?"notifications_active":"notifications",size:16},null,8,["name"]),r(" "+c(m.buttonText),1)],10,A),"granted"===m.notificationStatus.permission?(u(),a("button",{key:0,onClick:s[1]||(s[1]=(...e)=>m.testNotification&&m.testNotification(...e)),class:"btn btn-secondary",disabled:m.loading},[o(g,{name:"send",size:16}),s[2]||(s[2]=r(" Test "))],8,E)):n("",!0),m.statusMessage?(u(),a("div",{key:1,class:d(["status-message",m.statusType])},c(m.statusMessage),3)):n("",!0)])}],["__scopeId","data-v-862f9b39"]]),DinorIcon:S},setup(){const a=P(),i=T(),n=C();if(!i)return console.error("❌ [Profile] AuthStore non initialisé"),{};const o=e(!1),r=e(!1),l=e([]),c=e("all"),d=e("favorites"),u=e(!1),m=e(null),p=e([]),v=e([]);e(!1);const g=e("my-predictions"),f=e([]),h=e([]),y=e("all"),b=e("all"),_=e([{key:"my-predictions",label:"Mes prédictions",icon:"sports_soccer"},{key:"my-ranking",label:"Mon classement",icon:"leaderboard"},{key:"active-tournaments",label:"Tournois actifs",icon:"emoji_events"}]),w=e({name:"",loading:!1,message:"",success:!1}),S=e({currentPassword:"",newPassword:"",confirmPassword:"",loading:!1,message:"",success:!1}),z=e({reason:"",confirm:!1,loading:!1,message:"",success:!1}),F=e([{key:"favorites",label:"Favoris",icon:"favorite"},{key:"predictions",label:"Pronostics",icon:"sports_soccer"},{key:"settings",label:"Paramètres",icon:"settings"},{key:"account",label:"Compte",icon:"person"},{key:"security",label:"Sécurité",icon:"security"},{key:"legal",label:"Légal",icon:"gavel"}]),D=e([{key:"all",label:"Tout",icon:"apps"},{key:"recipe",label:"Recettes",icon:"restaurant"},{key:"tip",label:"Astuces",icon:"lightbulb"},{key:"event",label:"Événements",icon:"event"},{key:"dinor_tv",label:"Vidéos",icon:"play_circle"}]),A=s(()=>l.value.length),E=s(()=>{const e={};return l.value.forEach(s=>{const t="dinor_tv"===s.type?"videos":`${s.type}s`;e[t]=(e[t]||0)+1}),e}),M=s(()=>"all"===c.value?l.value:l.value.filter(e=>e.type===c.value)),j=async()=>{if(null==i?void 0:i.isAuthenticated){o.value=!0;try{console.log("🔍 [Profile] Chargement des favoris...");const e=await fetch("/api/test-favorites",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),s=await e.json();console.log("🔍 [Profile] Réponse API favoris:",s),s.success&&(l.value=s.data,console.log("🔍 [Profile] Favoris chargés:",l.value.length,"éléments"))}catch(e){console.error("❌ [Profile] Erreur lors du chargement des favoris:",e)}finally{o.value=!1}}},I=async()=>{var e;if(null==i?void 0:i.isAuthenticated){u.value=!0;try{console.log("🏆 [Profile] Chargement des données de pronostics...");const t=`dinor_predictions_${null==(e=i.user)?void 0:e.id}`,a=localStorage.getItem(t);if(a)try{const e=JSON.parse(a);if(Date.now()-e.timestamp<3e5)return m.value=e.stats,p.value=e.recent,v.value=e.tournaments,u.value=!1,void console.log("🏆 [Profile] Données chargées depuis le cache")}catch(s){localStorage.removeItem(t)}const[o,r,l]=await Promise.all([n.get("/leaderboard/my-stats"),n.get("/predictions/my-recent?limit=5"),n.get("/tournaments/my-tournaments")]);o.success&&(m.value=o.data,console.log("🏆 [Profile] Stats utilisateur chargées:",m.value)),r.success&&(p.value=r.data,console.log("🏆 [Profile] Pronostics récents chargés:",p.value.length,"éléments")),l.success&&(v.value=l.data,console.log("🏆 [Profile] Tournois utilisateur chargés:",v.value.length,"éléments"));const c={timestamp:Date.now(),stats:m.value,recent:p.value,tournaments:v.value};localStorage.setItem(t,JSON.stringify(c))}catch(t){console.error("❌ [Profile] Erreur lors du chargement des données de pronostics:",t),m.value=null,p.value=[],v.value=[]}finally{u.value=!1}}},N=async()=>{var e;if((null==i?void 0:i.isAuthenticated)&&!(h.value.length>0))try{const t=`dinor_all_predictions_${null==(e=i.user)?void 0:e.id}`,a=localStorage.getItem(t);if(a)try{const e=JSON.parse(a);if(Date.now()-e.timestamp<6e5)return h.value=e.data,void console.log("🏆 [Profile] Toutes les prédictions chargées depuis le cache")}catch(s){localStorage.removeItem(t)}const o=await n.get("/predictions");if(o.success){h.value=o.data;const e={timestamp:Date.now(),data:o.data};localStorage.setItem(t,JSON.stringify(e))}}catch(t){console.error("❌ [Profile] Erreur lors du chargement de toutes les prédictions:",t)}},x=async()=>{if(null==i?void 0:i.isAuthenticated)try{const e=await n.get("/tournaments/featured");e.success&&(f.value=e.data.filter(e=>e.can_predict&&["registration_open","registration_closed","active"].includes(e.status)))}catch(e){console.error("❌ [Profile] Erreur lors du chargement des tournois actifs:",e)}},V=e=>{g.value=e,"my-predictions"===e&&0===h.value.length?N():"active-tournaments"===e&&0===f.value.length&&x()},q=e=>{if(!e)return"";try{const s=new Date(e);return isNaN(s.getTime())?"":s.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch(s){return console.warn("Erreur lors du formatage de la date:",s),""}},L=s(()=>{if(!h.value.length)return[];switch(y.value){case"calculated":return h.value.filter(e=>e.is_calculated);case"pending":return h.value.filter(e=>!e.is_calculated);case"won":return h.value.filter(e=>e.is_calculated&&e.points_earned>0);default:return h.value}}),R=s(()=>{const e={};return L.value.forEach(s=>{const t=new Date(s.football_match.match_date).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});e[t]||(e[t]={date:t,predictions:[]}),e[t].predictions.push(s)}),Object.values(e).sort((e,s)=>{const t=new Date(e.predictions[0].football_match.match_date);return new Date(s.predictions[0].football_match.match_date)-t})});return k(()=>null==i?void 0:i.isAuthenticated,e=>{e?(j(),I()):(l.value=[],m.value=null,p.value=[])},{immediate:!0}),k(()=>d.value,e=>{"predictions"===e&&(null==i?void 0:i.isAuthenticated)&&!m.value&&I()}),t(()=>{var e,s;(null==i?void 0:i.isAuthenticated)&&(j(),I(),w.value.name=(null==(e=i.user)?void 0:e.name)||"",console.log("🔍 [Profile] Données utilisateur:",i.user),console.log("🔍 [Profile] Date création:",null==(s=i.user)?void 0:s.created_at));const t=localStorage.getItem("dinor_predictions_filter"),a=localStorage.getItem("dinor_predictions_filter_mini");t&&(y.value=t),a&&(b.value=a)}),{authStore:i,loading:o,activeSection:d,showAuthModal:r,favorites:l,selectedFilter:c,favoriteOptions:D,filteredFavorites:M,loadFavorites:j,removeFavorite:async e=>{if(confirm("Êtes-vous sûr de vouloir retirer cet élément de vos favoris ?"))try{(await n.request(`/favorites/${e.id}`,{method:"DELETE"})).success&&(l.value=l.value.filter(s=>s.id!==e.id))}catch(s){console.error("Erreur lors de la suppression du favori:",s),alert("Erreur lors de la suppression du favori")}},goToContent:e=>{const s={recipe:`/recipe/${e.content.id}`,tip:`/tip/${e.content.id}`,event:`/event/${e.content.id}`,dinor_tv:"/dinor-tv"}[e.type];s&&a.push(s)},profileSections:F,filterTabs:D,totalFavorites:A,favoritesStats:E,formatMemberSince:e=>{if(!e)return"Date inconnue";try{const s=new Date(e);return isNaN(s.getTime())?"Date inconnue":s.toLocaleDateString("fr-FR",{year:"numeric",month:"long"})}catch(s){return console.warn("Erreur lors du formatage de la date membre:",s),"Date inconnue"}},handleImageError:e=>{e.target.src="/images/default-content.jpg"},usernameForm:w,passwordForm:S,deletionForm:z,updateUsername:async()=>{var e,s,t,a,o;w.value.loading=!0,w.value.message="";try{console.log("📝 [Profile] Mise à jour du nom:",{name:w.value.name});const e=await n.put("/profile/name",{name:w.value.name});if(console.log("✅ [Profile] Réponse mise à jour nom:",e),e.success){w.value.success=!0,w.value.message="Nom d'utilisateur mis à jour avec succès";const s={...i.user,name:e.data.name};i.setUser(s),w.value.name=""}}catch(r){if(console.error("❌ [Profile] Erreur mise à jour nom:",r),console.error("❌ [Profile] Données d'erreur:",null==(e=r.response)?void 0:e.data),w.value.success=!1,null==(t=null==(s=r.response)?void 0:s.data)?void 0:t.errors){const e=r.response.data.errors;e.name&&e.name.length>0?w.value.message=e.name[0]:w.value.message="Erreur de validation: "+Object.values(e).flat().join(", ")}else w.value.message=(null==(o=null==(a=r.response)?void 0:a.data)?void 0:o.message)||r.message||"Erreur lors de la mise à jour"}finally{w.value.loading=!1}},updatePassword:async()=>{var e,s,t,a,i;if(S.value.newPassword!==S.value.confirmPassword)return S.value.success=!1,void(S.value.message="Les mots de passe ne correspondent pas");S.value.loading=!0,S.value.message="";try{console.log("🔐 [Profile] Mise à jour du mot de passe");const e=await n.put("/profile/password",{current_password:S.value.currentPassword,new_password:S.value.newPassword,new_password_confirmation:S.value.confirmPassword});console.log("✅ [Profile] Réponse mise à jour mdp:",e),e.success&&(S.value.success=!0,S.value.message="Mot de passe mis à jour avec succès",S.value.currentPassword="",S.value.newPassword="",S.value.confirmPassword="")}catch(o){if(console.error("❌ [Profile] Erreur mise à jour mdp:",o),console.error("❌ [Profile] Données d'erreur:",null==(e=o.response)?void 0:e.data),S.value.success=!1,null==(t=null==(s=o.response)?void 0:s.data)?void 0:t.errors){const e=o.response.data.errors;e.current_password&&e.current_password.length>0?S.value.message=e.current_password[0]:e.new_password&&e.new_password.length>0?S.value.message=e.new_password[0]:S.value.message="Erreur de validation: "+Object.values(e).flat().join(", ")}else S.value.message=(null==(i=null==(a=o.response)?void 0:a.data)?void 0:i.message)||o.message||"Erreur lors de la mise à jour"}finally{S.value.loading=!1}},requestDataDeletion:async()=>{var e,s;if(confirm("Êtes-vous absolument sûr de vouloir demander la suppression de toutes vos données ? Cette action est irréversible.")){z.value.loading=!0,z.value.message="";try{const e=await n.request("/profile/request-deletion",{method:"POST",body:{reason:z.value.reason,confirm:z.value.confirm}});e.success&&(z.value.success=!0,z.value.message=e.message,z.value.reason="",z.value.confirm=!1)}catch(t){z.value.success=!1,z.value.message=(null==(s=null==(e=t.response)?void 0:e.data)?void 0:s.message)||"Erreur lors de la demande"}finally{z.value.loading=!1}}},handleLogout:async()=>{if(confirm("Êtes-vous sûr de vouloir vous déconnecter ?")){console.log("👋 [Profile] Déconnexion utilisateur");try{await i.logout(),a.push("/")}catch(e){console.error("❌ [Profile] Erreur lors de la déconnexion:",e)}}},openTournament:e=>{console.log("🏆 [Profile] Ouverture du tournoi:",e.name),a.push("/predictions/tournaments")},openTournamentModal:e=>{console.log("🏆 [Profile] Ouverture modale tournoi:",e.name),a.push("/predictions/tournaments")},predictionsLoading:u,userPredictionsStats:m,recentPredictions:p,userTournaments:v,predictionsTabs:_,activePredictionsTab:g,activeTournaments:f,userAllPredictions:h,predictionsFilter:y,predictionsFilterMini:b,formatRelativeTime:e=>{const s=new Date,t=new Date(e),a=Math.floor((s-t)/36e5);if(a<1)return"Il y a moins d'une heure";if(a<24)return`Il y a ${a}h`;if(a<48)return"Hier";const i=Math.floor(a/24);return i<7?`Il y a ${i} jour${i>1?"s":""}`:q(e)},formatTime:e=>new Date(e).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}),getFilteredRecentPredictions:()=>{const e=p.value.slice(0,5);return"all"===b.value?e:"pending"===b.value?e.filter(e=>!e.is_calculated):"calculated"===b.value?e.filter(e=>e.is_calculated):e},getPredictionsCountByStatus:e=>"pending"===e?h.value.filter(e=>!e.is_calculated).length:"calculated"===e?h.value.filter(e=>e.is_calculated).length:"won"===e?h.value.filter(e=>e.is_calculated&&e.points_earned>0).length:h.value.length,getProgressPercentage:()=>{var e;if(!(null==(e=m.value)?void 0:e.points_to_next_rank))return 0;const s=m.value.total_points||0,t=m.value.points_to_next_rank||100;return Math.min(100,s/(s+t)*100)},groupedPredictions:R,filteredPredictions:L,loadPredictionsData:I,loadAllUserPredictions:N,loadActiveTournaments:x,switchPredictionsTab:V,registerToTournament:async e=>{console.log("🏆 [Profile] Inscription au tournoi:",e.name);try{(await n.post(`/tournaments/${e.id}/register`)).success&&(e.user_is_participant=!0,e.can_register=!1)}catch(s){console.error("❌ [Profile] Erreur inscription tournoi:",s)}},goToPredictions:e=>{console.log("🏆 [Profile] Aller aux prédictions:",(null==e?void 0:e.name)||"global"),a.push("/predictions")},goToLeaderboard:()=>{console.log("🏆 [Profile] Aller au classement"),V("my-ranking")},getPointsClass:e=>e>0?"points-positive":0===e?"points-neutral":"points-negative",getTournamentStatusLabel:e=>({registration_open:"Inscriptions ouvertes",registration_closed:"Inscriptions fermées",active:"En cours",finished:"Terminé",cancelled:"Annulé"}[e]||e),formatPrize:(e,s="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:s,minimumFractionDigits:0}).format(e),getRankClass:e=>e?1===e?"rank-gold":2===e?"rank-silver":3===e?"rank-bronze":e<=10?"rank-top10":"":"",formatDate:q,getTypeIcon:e=>({recipe:"restaurant",tip:"lightbulb",event:"event",dinor_tv:"play_circle"}[e]||"star"),getDefaultImage:e=>({recipe:"/images/default-recipe.jpg",tip:"/images/default-tip.jpg",event:"/images/default-event.jpg",dinor_tv:"/images/default-video.jpg"}[e]||"/images/default-content.jpg"),getShortDescription:e=>{if(!e)return"";const s=e.replace(/<[^>]*>/g,"");return s.length>100?s.substring(0,100)+"...":s},getEmptyMessage:()=>({all:"Aucun favori pour le moment",recipe:"Aucune recette favorite",tip:"Aucune astuce favorite",event:"Aucun événement favori",dinor_tv:"Aucune vidéo favorite"}[c.value]||"Aucun favori"),getEmptyDescription:()=>({all:"Ajoutez du contenu à vos favoris en cliquant sur l'icône cœur",recipe:"Parcourez les recettes et ajoutez vos préférées à vos favoris",tip:"Découvrez des astuces utiles et sauvegardez-les",event:"Trouvez des événements intéressants et ajoutez-les à vos favoris",dinor_tv:"Regardez des vidéos et ajoutez vos préférées à vos favoris"}[c.value]||""),getExploreLink:()=>({all:"/",recipe:"/recipes",tip:"/tips",event:"/events",dinor_tv:"/dinor-tv"}[c.value]||"/")}}},[["render",function(e,s,t,k,P,w){var S,z,F,T;const C=l("DinorIcon"),D=l("router-link"),A=l("NotificationButton"),E=l("AuthModal");return u(),a("div",M,[k.loading?(u(),a("div",j,s[29]||(s[29]=[i("div",{class:"loading-spinner"},null,-1),i("p",null,"Chargement du profil...",-1)]))):(null==(S=k.authStore)?void 0:S.isAuthenticated)?(u(),a("div",x,[i("div",V,[i("div",q,[o(C,{name:"person",size:32})]),i("div",L,[i("h1",R,c(k.authStore.userName),1),i("p",U,c(null==(z=k.authStore.user)?void 0:z.email),1),(null==(F=k.authStore.user)?void 0:F.created_at)?(u(),a("p",O,"Membre depuis "+c(k.formatMemberSince(k.authStore.user.created_at)),1)):n("",!0)])]),i("div",$,[(u(!0),a(m,null,p(k.profileSections,e=>(u(),a("button",{key:e.key,onClick:s=>k.activeSection=e.key,class:d(["nav-button",{active:k.activeSection===e.key}])},[o(C,{name:e.icon,size:20},null,8,["name"]),i("span",null,c(e.label),1)],10,B))),128))]),i("div",J,["favorites"===k.activeSection?(u(),a("div",G,[i("div",W,[s[32]||(s[32]=i("h2",{class:"section-title"},"Mes Favoris",-1)),i("div",H,[(u(!0),a(m,null,p(k.filterTabs,e=>(u(),a("button",{key:e.key,onClick:s=>k.selectedFilter=e.key,class:d(["filter-tab",{active:k.selectedFilter===e.key}])},[o(C,{name:e.icon,size:18},null,8,["name"]),i("span",null,c(e.label),1)],10,X))),128))])]),k.filteredFavorites.length?(u(),a("div",K,[(u(!0),a(m,null,p(k.filteredFavorites,e=>(u(),a("div",{key:e.id,onClick:s=>k.goToContent(e),class:"favorite-item"},[i("div",Y,[i("img",{src:e.content.image||k.getDefaultImage(e.type),alt:e.content.title,onError:s[1]||(s[1]=(...e)=>k.handleImageError&&k.handleImageError(...e))},null,40,Z),i("div",ee,[o(C,{name:k.getTypeIcon(e.type),size:16},null,8,["name"])])]),i("div",se,[i("h3",te,c(e.content.title),1),i("p",ae,c(k.getShortDescription(e.content.description)),1),i("div",ie,[i("span",ne," Ajouté "+c(k.formatDate(e.favorited_at)),1),i("div",oe,[i("span",re,[o(C,{name:"favorite",size:16}),r(" "+c(e.content.likes_count||0),1)]),i("span",le,[o(C,{name:"comment",size:16}),r(" "+c(e.content.comments_count||0),1)])])])]),i("button",{onClick:v(s=>k.removeFavorite(e),["stop"]),class:"remove-favorite",title:"Retirer des favoris"},[o(C,{name:"close",size:16})],8,ce)],8,Q))),128))])):(u(),a("div",de,[i("div",ue,[o(C,{name:"favorite_border",size:48})]),i("h3",null,c(k.getEmptyMessage()),1),i("p",null,c(k.getEmptyDescription()),1),o(D,{to:k.getExploreLink(),class:"btn-secondary"},{default:g(()=>s[33]||(s[33]=[r(" Découvrir du contenu ")])),_:1,__:[33]},8,["to"])]))])):n("",!0),"predictions"===k.activeSection?(u(),a("div",me,[s[67]||(s[67]=i("h2",{class:"section-title"},"Mes Pronostics",-1)),k.predictionsLoading?(u(),a("div",pe,s[34]||(s[34]=[i("div",{class:"md3-circular-progress"},null,-1),i("p",null,"Chargement de vos statistiques...",-1)]))):k.userPredictionsStats?(u(),a("div",ve,[i("div",ge,[i("div",fe,[i("div",he,[i("div",ye,[o(C,{name:"target",size:24})]),i("div",be,[i("span",_e,c(k.userPredictionsStats.total_predictions),1),s[35]||(s[35]=i("span",{class:"stat-label"},"Total prédictions",-1))])]),i("div",ke,[i("div",Pe,[o(C,{name:"trophy",size:24})]),i("div",we,[i("span",Se,c(k.userPredictionsStats.total_points),1),s[36]||(s[36]=i("span",{class:"stat-label"},"Points gagnés",-1))])]),i("div",ze,[i("div",Fe,[o(C,{name:"target",size:24})]),i("div",Te,[i("span",Ce,c(k.userPredictionsStats.accuracy_percentage)+"%",1),s[37]||(s[37]=i("span",{class:"stat-label"},"Précision",-1))])]),k.userPredictionsStats.current_rank?(u(),a("div",De,[i("div",Ae,[o(C,{name:"activity",size:24})]),i("div",Ee,[i("span",Me,"#"+c(k.userPredictionsStats.current_rank),1),s[38]||(s[38]=i("span",{class:"stat-label"},"Classement",-1))])])):n("",!0)]),i("div",je,[i("button",{onClick:s[2]||(s[2]=(...e)=>k.goToPredictions&&k.goToPredictions(...e)),class:"action-button primary"},[o(C,{name:"add",size:18}),s[39]||(s[39]=i("span",null,"Faire un pronostic",-1))]),i("button",{onClick:s[3]||(s[3]=e=>k.switchPredictionsTab("my-ranking")),class:"action-button secondary"},[o(C,{name:"activity",size:18}),s[40]||(s[40]=i("span",null,"Voir le classement",-1))]),i("button",{onClick:s[4]||(s[4]=e=>k.switchPredictionsTab("active-tournaments")),class:"action-button secondary"},[o(C,{name:"trophy",size:18}),s[41]||(s[41]=i("span",null,"Tournois actifs",-1))])])]),i("div",Ie,[(u(!0),a(m,null,p(k.predictionsTabs,e=>(u(),a("button",{key:e.key,onClick:s=>k.switchPredictionsTab(e.key),class:d(["sub-tab",{active:k.activePredictionsTab===e.key}])},[o(C,{name:e.icon,size:18},null,8,["name"]),i("span",null,c(e.label),1)],10,Ne))),128))]),"my-predictions"===k.activePredictionsTab?(u(),a("div",xe,[k.userPredictionsStats?(u(),a("div",Ve,[i("div",qe,[i("div",Le,[i("div",Re,[o(C,{name:"target",size:20})]),i("div",Ue,[i("span",Oe,c(k.userPredictionsStats.total_predictions||0),1),s[42]||(s[42]=i("span",{class:"stat-label"},"Pronostics",-1))])]),i("div",$e,[i("div",Be,[o(C,{name:"target",size:20})]),i("div",Je,[i("span",Ge,c(k.userPredictionsStats.accuracy_percentage||0)+"%",1),s[43]||(s[43]=i("span",{class:"stat-label"},"Précision",-1))])]),i("div",We,[i("div",He,[o(C,{name:"trophy",size:20})]),i("div",Xe,[i("span",Ke,c(k.userPredictionsStats.total_points||0),1),s[44]||(s[44]=i("span",{class:"stat-label"},"Points",-1))])]),k.userPredictionsStats.current_rank?(u(),a("div",Qe,[i("div",Ye,[o(C,{name:"activity",size:20})]),i("div",Ze,[i("span",es,"#"+c(k.userPredictionsStats.current_rank),1),s[45]||(s[45]=i("span",{class:"stat-label"},"Classement",-1))])])):n("",!0)])])):n("",!0),k.recentPredictions.length?(u(),a("div",ss,[i("div",ts,[i("h3",as,[o(C,{name:"loading",size:18}),s[46]||(s[46]=r(" Pronostics récents "))]),i("div",is,[i("button",{onClick:s[5]||(s[5]=e=>k.predictionsFilterMini="all"),class:d(["filter-btn",{active:"all"===k.predictionsFilterMini}])}," Tous ",2),i("button",{onClick:s[6]||(s[6]=e=>k.predictionsFilterMini="pending"),class:d(["filter-btn",{active:"pending"===k.predictionsFilterMini}])}," En attente ",2),i("button",{onClick:s[7]||(s[7]=e=>k.predictionsFilterMini="calculated"),class:d(["filter-btn",{active:"calculated"===k.predictionsFilterMini}])}," Terminés ",2)])]),i("div",ns,[(u(!0),a(m,null,p(k.getFilteredRecentPredictions(),e=>(u(),a("div",{key:e.id,class:d(["prediction-card compact",{calculated:e.is_calculated,"positive-result":e.is_calculated&&e.points_earned>0,"negative-result":e.is_calculated&&0===e.points_earned}])},[i("div",os,[e.is_calculated?(u(),f(C,{key:0,name:e.points_earned>0?"check_circle":"cancel",size:16},null,8,["name"])):(u(),f(C,{key:1,name:"schedule",size:16,class:"pending-icon"}))]),i("div",rs,[i("div",ls,[i("span",cs,c(e.football_match.home_team.short_name||e.football_match.home_team.name),1),s[47]||(s[47]=i("span",{class:"vs"},"vs",-1)),i("span",ds,c(e.football_match.away_team.short_name||e.football_match.away_team.name),1)]),i("div",us,[i("span",ms,c(e.predicted_home_score)+" - "+c(e.predicted_away_score),1),e.is_calculated?(u(),a("span",{key:0,class:d(["points-earned",{"points-positive":e.points_earned>0}])},c(e.points_earned>0?"+":"")+c(e.points_earned)+" pt"+c(e.points_earned>1?"s":""),3)):(u(),a("span",ps,"En attente"))])]),i("div",vs,c(k.formatRelativeTime(e.created_at)),1)],2))),128))]),i("button",{onClick:s[8]||(s[8]=(...e)=>k.loadAllUserPredictions&&k.loadAllUserPredictions(...e)),class:"btn-secondary show-all-btn"},[o(C,{name:"visibility",size:18}),r(" Voir tous mes pronostics ("+c(k.userPredictionsStats.total_predictions)+") ",1)])])):n("",!0),k.userAllPredictions.length?(u(),a("div",gs,[i("div",fs,[i("h3",hs,[o(C,{name:"list",size:18}),s[48]||(s[48]=r(" Tous mes pronostics "))]),i("div",ys,[i("div",bs,[i("button",{onClick:s[9]||(s[9]=e=>k.predictionsFilter="all"),class:d(["filter-chip",{active:"all"===k.predictionsFilter}])},[o(C,{name:"check",size:16}),r(" Tous ("+c(k.userAllPredictions.length)+") ",1)],2),i("button",{onClick:s[10]||(s[10]=e=>k.predictionsFilter="pending"),class:d(["filter-chip",{active:"pending"===k.predictionsFilter}])},[o(C,{name:"schedule",size:16}),r(" En attente ("+c(k.getPredictionsCountByStatus("pending"))+") ",1)],2),i("button",{onClick:s[11]||(s[11]=e=>k.predictionsFilter="calculated"),class:d(["filter-chip",{active:"calculated"===k.predictionsFilter}])},[o(C,{name:"check_circle",size:16}),r(" Terminés ("+c(k.getPredictionsCountByStatus("calculated"))+") ",1)],2),i("button",{onClick:s[12]||(s[12]=e=>k.predictionsFilter="won"),class:d(["filter-chip",{active:"won"===k.predictionsFilter}])},[o(C,{name:"trophy",size:16}),r(" Gagnants ("+c(k.getPredictionsCountByStatus("won"))+") ",1)],2)])])]),i("div",_s,[(u(!0),a(m,null,p(k.groupedPredictions,e=>(u(),a("div",{key:e.date,class:"predictions-group"},[i("div",ks,[i("span",Ps,c(e.date),1),i("span",ws,c(e.predictions.length)+" pronostic"+c(e.predictions.length>1?"s":""),1)]),i("div",Ss,[(u(!0),a(m,null,p(e.predictions,e=>(u(),a("div",{key:e.id,class:d(["prediction-card detailed",{calculated:e.is_calculated,"positive-result":e.is_calculated&&e.points_earned>0,"negative-result":e.is_calculated&&0===e.points_earned}])},[i("div",zs,[e.is_calculated?(u(),f(C,{key:0,name:e.points_earned>0?"check_circle":"cancel",size:20},null,8,["name"])):(u(),f(C,{key:1,name:"schedule",size:20,class:"pending-icon"}))]),i("div",Fs,[i("div",Ts,[i("span",Cs,c(e.football_match.home_team.name),1),s[49]||(s[49]=i("span",{class:"vs"},"vs",-1)),i("span",Ds,c(e.football_match.away_team.name),1)]),i("div",As,c(k.formatTime(e.football_match.match_date)),1)]),i("div",Es,[i("div",Ms,[i("div",js,[s[50]||(s[50]=i("span",{class:"label"},"Mon pronostic",-1)),i("span",Is,c(e.predicted_home_score)+" - "+c(e.predicted_away_score),1)]),e.football_match.is_finished?(u(),a("div",Ns,[s[51]||(s[51]=i("span",{class:"label"},"Résultat final",-1)),i("span",xs,c(e.football_match.home_score)+" - "+c(e.football_match.away_score),1)])):n("",!0)]),i("div",Vs,[e.is_calculated?(u(),a("span",{key:0,class:d(["points-earned",k.getPointsClass(e.points_earned)])},[o(C,{name:e.points_earned>0?"add":"remove",size:14},null,8,["name"]),r(" "+c(e.points_earned)+" point"+c(e.points_earned>1?"s":""),1)],2)):(u(),a("span",qs,[o(C,{name:"schedule",size:14}),s[52]||(s[52]=r(" En attente du résultat "))]))])])],2))),128))])]))),128))])])):n("",!0),k.recentPredictions.length||k.userAllPredictions.length?n("",!0):(u(),a("div",Ls,[i("div",Rs,[i("div",Us,[o(C,{name:"target",size:48})]),s[53]||(s[53]=i("div",{class:"empty-pattern"},null,-1))]),s[56]||(s[56]=i("h3",null,"Aucun pronostic pour le moment",-1)),s[57]||(s[57]=i("p",null,"Commencez à faire des pronostics pour gagner des points et grimper dans le classement !",-1)),i("div",Os,[i("button",{onClick:s[13]||(s[13]=(...e)=>k.goToPredictions&&k.goToPredictions(...e)),class:"btn-primary"},[o(C,{name:"add",size:18}),s[54]||(s[54]=r(" Faire mon premier pronostic "))]),i("button",{onClick:s[14]||(s[14]=e=>k.switchPredictionsTab("active-tournaments")),class:"btn-secondary"},[o(C,{name:"trophy",size:18}),s[55]||(s[55]=r(" Voir les tournois "))])])]))])):n("",!0),"my-ranking"===k.activePredictionsTab?(u(),a("div",$s,[i("div",Bs,[i("h3",Js,[o(C,{name:"activity",size:18}),s[58]||(s[58]=r(" Mon classement "))]),k.userPredictionsStats.current_rank?(u(),a("div",Gs,[i("div",{class:d(["rank-badge",k.getRankClass(k.userPredictionsStats.current_rank)])},[o(C,{name:"trophy",size:20}),i("span",Ws,"#"+c(k.userPredictionsStats.current_rank),1)],2),i("div",Hs,[i("h4",null,c((null==(T=k.authStore.user)?void 0:T.name)||"Vous"),1),i("div",Xs,[i("div",Ks,[o(C,{name:"star",size:16}),i("span",null,c(k.userPredictionsStats.total_points)+" points",1)]),i("div",Qs,[o(C,{name:"target",size:16}),i("span",null,c(k.userPredictionsStats.accuracy_percentage)+"% de réussite",1)])]),k.userPredictionsStats.rank_change?(u(),a("div",{key:0,class:d(["rank-change",{positive:k.userPredictionsStats.rank_change>0,negative:k.userPredictionsStats.rank_change<0}])},[o(C,{name:k.userPredictionsStats.rank_change>0?"trending_up":"trending_down",size:16},null,8,["name"]),r(" "+c(k.userPredictionsStats.rank_change>0?"+":"")+c(k.userPredictionsStats.rank_change)+" place"+c(Math.abs(k.userPredictionsStats.rank_change)>1?"s":""),1)],2)):n("",!0)])])):n("",!0),k.userPredictionsStats.points_to_next_rank?(u(),a("div",Ys,[s[59]||(s[59]=i("h4",null,"Progression",-1)),i("div",Zs,[i("span",null,c(k.userPredictionsStats.points_to_next_rank)+" points pour le prochain rang",1),i("div",et,[i("div",{class:"progress-fill",style:h({width:k.getProgressPercentage()+"%"})},null,4)])])])):n("",!0),i("div",st,[i("button",{onClick:s[15]||(s[15]=(...e)=>k.goToLeaderboard&&k.goToLeaderboard(...e)),class:"btn-primary"},[o(C,{name:"activity",size:18}),s[60]||(s[60]=r(" Voir le classement complet "))]),i("button",{onClick:s[16]||(s[16]=e=>k.switchPredictionsTab("active-tournaments")),class:"btn-secondary"},[o(C,{name:"trophy",size:18}),s[61]||(s[61]=r(" Rejoindre un tournoi "))])])])])):n("",!0),"active-tournaments"===k.activePredictionsTab?(u(),a("div",tt,[i("div",at,[s[64]||(s[64]=i("h3",{class:"subsection-title"},"Tournois en cours",-1)),k.activeTournaments.length?(u(),a("div",it,[(u(!0),a(m,null,p(k.activeTournaments,s=>(u(),a("div",{key:s.id,class:"tournament-card"},[i("div",nt,[i("h4",null,c(s.name),1),i("span",{class:d(["tournament-status",s.status])},c(k.getTournamentStatusLabel(s.status)),3)]),i("div",ot,[s.total_prize?(u(),a("div",rt,[o(C,{name:"trophy",size:16}),i("span",null,c(k.formatPrize(s.total_prize)),1)])):n("",!0),i("div",lt,[o(C,{name:"group",size:16}),i("span",null,c(s.participants_count||0)+" participant"+c((s.participants_count||0)>1?"s":""),1)])]),i("div",ct,[s.can_register&&!s.user_is_participant?(u(),a("button",{key:0,onClick:e=>k.registerToTournament(s),disabled:e.registering===s.id,class:"btn-secondary"},c(e.registering===s.id?"Inscription...":"S'inscrire"),9,dt)):n("",!0),s.user_is_participant?(u(),a("button",{key:1,onClick:e=>k.goToPredictions(s),class:"btn-primary"}," Faire mes pronostics ",8,ut)):n("",!0)])]))),128))])):(u(),a("div",mt,[i("div",pt,[o(C,{name:"trophy",size:48})]),s[62]||(s[62]=i("h4",null,"Aucun tournoi actif",-1)),s[63]||(s[63]=i("p",null,"Les nouveaux tournois apparaîtront ici dès qu'ils seront disponibles.",-1))]))])])):n("",!0)])):(u(),a("div",vt,[i("div",gt,[o(C,{name:"error",size:48})]),s[65]||(s[65]=i("h3",null,"Impossible de charger vos pronostics",-1)),s[66]||(s[66]=i("p",null,"Vérifiez votre connexion et réessayez.",-1)),i("button",{onClick:s[17]||(s[17]=(...e)=>k.loadPredictionsData&&k.loadPredictionsData(...e)),class:"btn-secondary"},"Réessayer")]))])):n("",!0),"settings"===k.activeSection?(u(),a("div",ft,[s[73]||(s[73]=i("h2",{class:"section-title"},"Paramètres",-1)),i("div",ht,[s[68]||(s[68]=i("h3",{class:"form-title"},"Notifications push",-1)),s[69]||(s[69]=i("p",{class:"form-description"}," Activez les notifications pour recevoir les dernières actualités, événements et astuces culinaires. ",-1)),o(A)]),i("div",yt,[s[72]||(s[72]=i("h3",{class:"form-title"},"Informations de l'application",-1)),i("div",bt,[s[71]||(s[71]=i("div",{class:"info-item"},[i("span",{class:"info-label"},"Version"),i("span",{class:"info-value"},"1.0.0")],-1)),i("div",_t,[s[70]||(s[70]=i("span",{class:"info-label"},"Dernière mise à jour",-1)),i("span",kt,c((new Date).toLocaleDateString("fr-FR")),1)])])])])):n("",!0),"account"===k.activeSection?(u(),a("div",Pt,[s[76]||(s[76]=i("h2",{class:"section-title"},"Mon Compte",-1)),i("div",wt,[s[75]||(s[75]=i("h3",{class:"form-title"},"Nom d'utilisateur",-1)),i("form",{onSubmit:s[19]||(s[19]=v((...e)=>k.updateUsername&&k.updateUsername(...e),["prevent"])),class:"update-form"},[i("div",St,[s[74]||(s[74]=i("label",{class:"form-label"},"Nouveau nom d'utilisateur",-1)),y(i("input",{"onUpdate:modelValue":s[18]||(s[18]=e=>k.usernameForm.name=e),type:"text",class:"form-input",placeholder:"Votre nom d'utilisateur",required:"",minlength:"2",maxlength:"255"},null,512),[[b,k.usernameForm.name]])]),i("div",zt,[i("button",{type:"submit",class:"btn-primary",disabled:k.usernameForm.loading},[k.usernameForm.loading?(u(),a("span",Tt,"Mise à jour...")):(u(),a("span",Ct,"Mettre à jour"))],8,Ft)]),k.usernameForm.message?(u(),a("div",{key:0,class:d(["form-message",k.usernameForm.success?"success":"error"])},c(k.usernameForm.message),3)):n("",!0)],32)])])):n("",!0),"security"===k.activeSection?(u(),a("div",Dt,[s[85]||(s[85]=i("h2",{class:"section-title"},"Sécurité",-1)),i("div",At,[s[81]||(s[81]=i("h3",{class:"form-title"},"Changer le mot de passe",-1)),i("form",{onSubmit:s[23]||(s[23]=v((...e)=>k.updatePassword&&k.updatePassword(...e),["prevent"])),class:"update-form"},[i("div",Et,[s[77]||(s[77]=i("label",{class:"form-label"},"Mot de passe actuel",-1)),y(i("input",{"onUpdate:modelValue":s[20]||(s[20]=e=>k.passwordForm.currentPassword=e),type:"password",class:"form-input",placeholder:"Votre mot de passe actuel",required:""},null,512),[[b,k.passwordForm.currentPassword]])]),i("div",Mt,[s[78]||(s[78]=i("label",{class:"form-label"},"Nouveau mot de passe",-1)),y(i("input",{"onUpdate:modelValue":s[21]||(s[21]=e=>k.passwordForm.newPassword=e),type:"password",class:"form-input",placeholder:"Votre nouveau mot de passe",required:"",minlength:"8"},null,512),[[b,k.passwordForm.newPassword]]),s[79]||(s[79]=i("small",{class:"form-hint"},"Au moins 8 caractères avec lettres et chiffres",-1))]),i("div",jt,[s[80]||(s[80]=i("label",{class:"form-label"},"Confirmer le nouveau mot de passe",-1)),y(i("input",{"onUpdate:modelValue":s[22]||(s[22]=e=>k.passwordForm.confirmPassword=e),type:"password",class:"form-input",placeholder:"Confirmer votre nouveau mot de passe",required:"",minlength:"8"},null,512),[[b,k.passwordForm.confirmPassword]])]),i("div",It,[i("button",{type:"submit",class:"btn-primary",disabled:k.passwordForm.loading},[k.passwordForm.loading?(u(),a("span",xt,"Mise à jour...")):(u(),a("span",Vt,"Changer le mot de passe"))],8,Nt)]),k.passwordForm.message?(u(),a("div",{key:0,class:d(["form-message",k.passwordForm.success?"success":"error"])},c(k.passwordForm.message),3)):n("",!0)],32)]),i("div",qt,[s[83]||(s[83]=i("h3",{class:"form-title"},"Déconnexion",-1)),s[84]||(s[84]=i("p",{class:"form-description"}," Vous serez déconnecté de votre compte sur cet appareil. Vos données seront conservées. ",-1)),i("button",{onClick:s[24]||(s[24]=(...e)=>k.handleLogout&&k.handleLogout(...e)),class:"btn-logout-main"},[o(C,{name:"logout",size:18}),s[82]||(s[82]=i("span",null,"Se déconnecter",-1))])])])):n("",!0),"legal"===k.activeSection?(u(),a("div",Lt,[s[94]||(s[94]=i("h2",{class:"section-title"},"Légal & Confidentialité",-1)),i("div",Rt,[s[89]||(s[89]=i("h3",{class:"form-title"},"Conditions d'utilisation",-1)),i("div",Ut,[i("a",Ot,[o(C,{name:"edit",size:18}),s[86]||(s[86]=i("span",null,"Conditions générales d'utilisation",-1)),o(C,{name:"chevron_right",size:18})]),i("a",$t,[o(C,{name:"security",size:18}),s[87]||(s[87]=i("span",null,"Politique de confidentialité",-1)),o(C,{name:"chevron_right",size:18})]),i("a",Bt,[o(C,{name:"settings",size:18}),s[88]||(s[88]=i("span",null,"Politique des cookies",-1)),o(C,{name:"chevron_right",size:18})])])]),i("div",Jt,[s[92]||(s[92]=i("h3",{class:"form-title danger-title"},"Suppression des données",-1)),s[93]||(s[93]=i("p",{class:"danger-description"}," Vous pouvez demander la suppression de toutes vos données personnelles conformément au RGPD. Cette action est irréversible. ",-1)),i("form",{onSubmit:s[27]||(s[27]=v((...e)=>k.requestDataDeletion&&k.requestDataDeletion(...e),["prevent"])),class:"update-form"},[i("div",Gt,[s[90]||(s[90]=i("label",{class:"form-label"},"Raison de la suppression (optionnel)",-1)),y(i("textarea",{"onUpdate:modelValue":s[25]||(s[25]=e=>k.deletionForm.reason=e),class:"form-textarea",placeholder:"Expliquez pourquoi vous souhaitez supprimer vos données...",rows:"3",maxlength:"500"},null,512),[[b,k.deletionForm.reason]])]),i("div",Wt,[i("label",Ht,[y(i("input",{"onUpdate:modelValue":s[26]||(s[26]=e=>k.deletionForm.confirm=e),type:"checkbox",required:""},null,512),[[_,k.deletionForm.confirm]]),s[91]||(s[91]=r(" Je confirme vouloir supprimer définitivement toutes mes données "))])]),i("div",Xt,[i("button",{type:"submit",class:"btn-danger",disabled:k.deletionForm.loading||!k.deletionForm.confirm},[k.deletionForm.loading?(u(),a("span",Qt,"Demande en cours...")):(u(),a("span",Yt,"Demander la suppression"))],8,Kt)]),k.deletionForm.message?(u(),a("div",{key:0,class:d(["form-message",k.deletionForm.success?"success":"error"])},c(k.deletionForm.message),3)):n("",!0)],32)])])):n("",!0)])])):(u(),a("div",I,[i("div",N,[o(C,{name:"person",size:48})]),s[30]||(s[30]=i("h2",{class:"md3-title-large"},"Profil utilisateur",-1)),s[31]||(s[31]=i("p",{class:"md3-body-large"},"Connectez-vous pour voir votre profil et vos favoris",-1)),i("button",{onClick:s[0]||(s[0]=e=>k.showAuthModal=!0),class:"btn-primary"}," Se connecter ")])),o(E,{modelValue:k.showAuthModal,"onUpdate:modelValue":s[28]||(s[28]=e=>k.showAuthModal=e)},null,8,["modelValue"])])}],["__scopeId","data-v-e3cbffc2"]]);export{Zt as default};
