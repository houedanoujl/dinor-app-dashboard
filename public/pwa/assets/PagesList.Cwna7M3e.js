import{h as e,i as a,k as t,l as s,t as r,F as l,E as o,e as i,f as n,j as c,r as d,g as p,p as g,o as u}from"./vendor.Bvrl98ec.js";import{_ as m,b as y}from"./index.EH2eMeZJ.js";const v={class:"pages-list"},f={key:0,class:"loading-state"},h={key:1,class:"error-state"},k={class:"error-icon"},L={class:"md3-body-large dinor-text-gray"},C={key:2,class:"empty-state"},b={class:"empty-icon"},x={key:3,class:"pages-grid"},P=["onClick"],T={class:"page-icon"},w={class:"page-content"},F={class:"page-title"},_={key:0,class:"page-excerpt"},j={class:"page-meta"},z={key:0,class:"template-badge"},A={key:1,class:"last-updated"},D={class:"page-arrow"};const E=m({name:"PagesList",setup(){const e=g(),a=d([]),t=d(!1),s=d(null),r=async()=>{t.value=!0,s.value=null;try{const e=await y.getPages();if(!e.success)throw new Error(e.message||"Failed to fetch pages");a.value=e.data}catch(e){s.value=e.message,console.error("Error fetching pages:",e)}finally{t.value=!1}};return p(()=>{r()}),{pages:a,loading:t,error:s,goToPage:a=>{e.push(`/page/${a}`)},retry:()=>{s.value=null,r()},getPageIconComponent:e=>{const a={about:"LucideInfo",contact:"LucideMail",privacy:"LucideShieldCheck",terms:"LucideGavel",faq:"LucideHelpCircle",default:"LucideFileText"};return a[e]||a.default},getTemplateLabel:e=>{const a={about:"À propos",contact:"Contact",privacy:"Confidentialité",terms:"Conditions",faq:"FAQ",default:"Page"};return a[e]||a.default},formatDate:e=>e?new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"}):""}}},[["render",function(d,p,g,m,y,E){const I=s("LucideAlertTriangle"),R=s("LucideBookOpen"),q=s("LucideChevronRight");return u(),e("div",v,[m.loading?(u(),e("div",f,p[1]||(p[1]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"Chargement des pages...",-1)]))):m.error?(u(),e("div",h,[a("div",k,[t(I,{size:48})]),p[2]||(p[2]=a("h2",{class:"md3-title-large"},"Erreur de chargement",-1)),a("p",L,r(m.error),1),a("button",{onClick:p[0]||(p[0]=(...e)=>m.retry&&m.retry(...e)),class:"btn-secondary"},"Réessayer")])):m.loading||0!==m.pages.length?(u(),e("div",x,[(u(!0),e(l,null,o(m.pages,s=>(u(),e("article",{key:s.id,onClick:e=>m.goToPage(s.id),class:"page-card"},[a("div",T,[(u(),i(n(m.getPageIconComponent(s.template)),{size:24}))]),a("div",w,[a("h3",F,r(s.title),1),s.excerpt?(u(),e("p",_,r(s.excerpt),1)):c("",!0),a("div",j,[s.template?(u(),e("span",z,r(m.getTemplateLabel(s.template)),1)):c("",!0),s.updated_at?(u(),e("span",A," Mis à jour "+r(m.formatDate(s.updated_at)),1)):c("",!0)])]),a("div",D,[t(q,{size:20})])],8,P))),128))])):(u(),e("div",C,[a("div",b,[t(R,{size:48})]),p[3]||(p[3]=a("h2",{class:"md3-title-medium"},"Aucune page trouvée",-1)),p[4]||(p[4]=a("p",{class:"md3-body-medium dinor-text-gray"}," Aucune page n'est disponible pour le moment. ",-1))]))])}],["__scopeId","data-v-f2898080"]]);export{E as default};
