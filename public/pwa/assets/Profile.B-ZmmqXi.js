import{e,v as s,f as a,g as t,t as o,F as r,m as i,n,z as l,y as c,p as d,l as u,B as m,D as v,J as p,K as f,r as g,b as h,w as y,h as b,k as _,o as k}from"./vendor.CgTKjNNK.js";import{_ as w,A as P,u as F,a as D}from"./index.CcLKvRIv.js";const S={class:"profile"},j={key:0,class:"loading-state"},C={key:1,class:"auth-required"},E={key:2,class:"profile-content"},A={class:"user-info-section"},M={class:"user-details"},T={class:"user-name"},V={class:"user-email"},q={key:0,class:"member-since"},z={class:"profile-navigation"},x=["onClick"],L={class:"material-icons"},N={class:"profile-sections"},R={key:0,class:"section-content"},I={class:"section-header"},U={class:"filter-tabs"},$=["onClick"],O={class:"material-icons"},G={key:0,class:"favorites-list"},J=["onClick"],B={class:"favorite-image"},K=["src","alt"],H={class:"favorite-type-badge"},Q={class:"material-icons"},W={class:"favorite-info"},X={class:"favorite-title"},Y={class:"favorite-description"},Z={class:"favorite-meta"},ee={class:"favorite-date"},se={class:"favorite-stats"},ae={class:"stat"},te={class:"stat"},oe=["onClick"],re={key:1,class:"empty-favorites"},ie={key:1,class:"section-content"},ne={key:0,class:"loading-container"},le={key:1,class:"predictions-overview"},ce={class:"stats-grid"},de={class:"stat-card points"},ue={class:"stat-content"},me={class:"stat-value"},ve={class:"stat-card rank"},pe={class:"stat-content"},fe={class:"stat-value"},ge={class:"stat-card predictions"},he={class:"stat-content"},ye={class:"stat-value"},be={class:"stat-card accuracy"},_e={class:"stat-content"},ke={class:"stat-value"},we={class:"predictions-actions"},Pe={key:0,class:"recent-predictions"},Fe={class:"predictions-list"},De={class:"prediction-match"},Se={class:"teams"},je={class:"team"},Ce={class:"team"},Ee={class:"match-date"},Ae={class:"prediction-details"},Me={class:"predicted-score"},Te={class:"prediction-status"},Ve={key:0,class:"points-earned"},qe={key:1,class:"pending"},ze={class:"view-all-link"},xe={key:1,class:"no-predictions"},Le={class:"my-tournaments-section"},Ne={key:0,class:"tournaments-list"},Re=["onClick"],Ie={class:"tournament-info"},Ue={class:"tournament-name"},$e={class:"tournament-stats"},Oe={class:"stat-item"},Ge={class:"stat-value"},Je={class:"stat-item"},Be={class:"stat-value"},Ke={class:"stat-item"},He={class:"stat-value"},Qe={key:1,class:"no-tournaments"},We={class:"tournaments-actions"},Xe={key:2,class:"error-state"},Ye={key:2,class:"section-content"},Ze={class:"form-section"},es={class:"form-field"},ss={class:"form-actions"},as=["disabled"],ts={key:0},os={key:1},rs={key:3,class:"section-content"},is={class:"form-section"},ns={class:"form-field"},ls={class:"form-field"},cs={class:"form-field"},ds={class:"form-actions"},us=["disabled"],ms={key:0},vs={key:1},ps={class:"form-section logout-section"},fs={key:4,class:"section-content"},gs={class:"form-section danger-section"},hs={class:"form-field"},ys={class:"form-field"},bs={class:"checkbox-label"},_s={class:"form-actions"},ks=["disabled"],ws={key:0},Ps={key:1};const Fs=w({name:"Profile",components:{AuthModal:P},setup(){const e=_(),s=F(),a=D(),t=g(!1),o=g(!1),r=g([]),i=g("all"),n=g("favorites"),l=g(!1),c=g(null),d=g([]),u=g([]),m=g(!1),v=g({name:"",loading:!1,message:"",success:!1}),p=g({currentPassword:"",newPassword:"",confirmPassword:"",loading:!1,message:"",success:!1}),f=g({reason:"",confirm:!1,loading:!1,message:"",success:!1}),k=g([{key:"favorites",label:"Favoris",icon:"favorite"},{key:"predictions",label:"Pronostics",icon:"sports_soccer"},{key:"account",label:"Compte",icon:"person"},{key:"security",label:"S√©curit√©",icon:"security"},{key:"legal",label:"L√©gal",icon:"gavel"}]),w=g([{key:"all",label:"Tout",icon:"apps"},{key:"recipe",label:"Recettes",icon:"restaurant"},{key:"tip",label:"Astuces",icon:"lightbulb"},{key:"event",label:"√âv√©nements",icon:"event"},{key:"dinor_tv",label:"Vid√©os",icon:"play_circle"}]),P=h(()=>r.value.length),S=h(()=>{const e={};return r.value.forEach(s=>{const a="dinor_tv"===s.type?"videos":`${s.type}s`;e[a]=(e[a]||0)+1}),e}),j=h(()=>"all"===i.value?r.value:r.value.filter(e=>e.type===i.value)),C=async()=>{if(s.isAuthenticated){t.value=!0;try{console.log("üîç [Profile] Chargement des favoris...");const e=await fetch("/api/test-favorites",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),s=await e.json();console.log("üîç [Profile] R√©ponse API favoris:",s),s.success&&(r.value=s.data,console.log("üîç [Profile] Favoris charg√©s:",r.value.length,"√©l√©ments"))}catch(e){console.error("‚ùå [Profile] Erreur lors du chargement des favoris:",e)}finally{t.value=!1}}},E=async()=>{if(s.isAuthenticated){l.value=!0;try{console.log("üèÜ [Profile] Chargement des donn√©es de pronostics...");const[e,s,t]=await Promise.all([a.get("/leaderboard/my-stats"),a.get("/predictions/my-recent?limit=5"),a.get("/tournaments/my-tournaments")]);e.success&&(c.value=e.data,console.log("üèÜ [Profile] Stats utilisateur charg√©es:",c.value)),s.success&&(d.value=s.data,console.log("üèÜ [Profile] Pronostics r√©cents charg√©s:",d.value.length,"√©l√©ments")),t.success&&(u.value=t.data,console.log("üèÜ [Profile] Tournois utilisateur charg√©s:",u.value.length,"√©l√©ments"))}catch(e){console.error("‚ùå [Profile] Erreur lors du chargement des donn√©es de pronostics:",e),c.value=null,d.value=[],u.value=[]}finally{l.value=!1}}};return y(()=>s.isAuthenticated,e=>{e?(C(),E()):(r.value=[],c.value=null,d.value=[])},{immediate:!0}),y(()=>n.value,e=>{"predictions"===e&&s.isAuthenticated&&!c.value&&E()}),b(()=>{var e,a;s.isAuthenticated&&(C(),E(),v.value.name=(null==(e=s.user)?void 0:e.name)||"",console.log("üîç [Profile] Donn√©es utilisateur:",s.user),console.log("üîç [Profile] Date cr√©ation:",null==(a=s.user)?void 0:a.created_at))}),{loading:t,showAuthModal:o,favorites:r,selectedFilter:i,activeSection:n,profileSections:k,filterTabs:w,totalFavorites:P,favoritesStats:S,filteredFavorites:j,authStore:s,usernameForm:v,passwordForm:p,deletionForm:f,predictionsLoading:l,userPredictionsStats:c,recentPredictions:d,loadPredictionsData:E,removeFavorite:async e=>{if(confirm("√ätes-vous s√ªr de vouloir retirer cet √©l√©ment de vos favoris ?"))try{(await a.request(`/favorites/${e.id}`,{method:"DELETE"})).success&&(r.value=r.value.filter(s=>s.id!==e.id))}catch(s){console.error("Erreur lors de la suppression du favori:",s),alert("Erreur lors de la suppression du favori")}},goToContent:s=>{const a={recipe:`/recipe/${s.content.id}`,tip:`/tip/${s.content.id}`,event:`/event/${s.content.id}`,dinor_tv:"/dinor-tv"}[s.type];a&&e.push(a)},getTypeIcon:e=>({recipe:"restaurant",tip:"lightbulb",event:"event",dinor_tv:"play_circle"}[e]||"star"),getDefaultImage:e=>({recipe:"/images/default-recipe.jpg",tip:"/images/default-tip.jpg",event:"/images/default-event.jpg",dinor_tv:"/images/default-video.jpg"}[e]||"/images/default-content.jpg"),getShortDescription:e=>{if(!e)return"";const s=e.replace(/<[^>]*>/g,"");return s.length>100?s.substring(0,100)+"...":s},getEmptyMessage:()=>({all:"Aucun favori pour le moment",recipe:"Aucune recette favorite",tip:"Aucune astuce favorite",event:"Aucun √©v√©nement favori",dinor_tv:"Aucune vid√©o favorite"}[i.value]||"Aucun favori"),getEmptyDescription:()=>({all:"Ajoutez du contenu √† vos favoris en cliquant sur l'ic√¥ne c≈ìur",recipe:"Parcourez les recettes et ajoutez vos pr√©f√©r√©es √† vos favoris",tip:"D√©couvrez des astuces utiles et sauvegardez-les",event:"Trouvez des √©v√©nements int√©ressants et ajoutez-les √† vos favoris",dinor_tv:"Regardez des vid√©os et ajoutez vos pr√©f√©r√©es √† vos favoris"}[i.value]||""),getExploreLink:()=>({all:"/",recipe:"/recipes",tip:"/tips",event:"/events",dinor_tv:"/dinor-tv"}[i.value]||"/"),formatDate:e=>{if(!e)return"";try{const s=new Date(e);return isNaN(s.getTime())?"":s.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch(s){return console.warn("Erreur lors du formatage de la date:",s),""}},formatMemberSince:e=>{if(!e)return"Date inconnue";try{const s=new Date(e);return isNaN(s.getTime())?"Date inconnue":s.toLocaleDateString("fr-FR",{year:"numeric",month:"long"})}catch(s){return console.warn("Erreur lors du formatage de la date membre:",s),"Date inconnue"}},handleImageError:e=>{e.target.src="/images/default-content.jpg"},updateUsername:async()=>{var e,t,o,r,i;v.value.loading=!0,v.value.message="";try{console.log("üìù [Profile] Mise √† jour du nom:",{name:v.value.name});const e=await a.put("/profile/name",{name:v.value.name});console.log("‚úÖ [Profile] R√©ponse mise √† jour nom:",e),e.success&&(v.value.success=!0,v.value.message="Nom d'utilisateur mis √† jour avec succ√®s",s.user.name=e.data.name,v.value.name="")}catch(n){if(console.error("‚ùå [Profile] Erreur mise √† jour nom:",n),console.error("‚ùå [Profile] Donn√©es d'erreur:",null==(e=n.response)?void 0:e.data),v.value.success=!1,null==(o=null==(t=n.response)?void 0:t.data)?void 0:o.errors){const e=n.response.data.errors;e.name&&e.name.length>0?v.value.message=e.name[0]:v.value.message="Erreur de validation: "+Object.values(e).flat().join(", ")}else v.value.message=(null==(i=null==(r=n.response)?void 0:r.data)?void 0:i.message)||n.message||"Erreur lors de la mise √† jour"}finally{v.value.loading=!1}},updatePassword:async()=>{var e,s,t,o,r;if(p.value.newPassword!==p.value.confirmPassword)return p.value.success=!1,void(p.value.message="Les mots de passe ne correspondent pas");p.value.loading=!0,p.value.message="";try{console.log("üîê [Profile] Mise √† jour du mot de passe");const e=await a.put("/profile/password",{current_password:p.value.currentPassword,new_password:p.value.newPassword,new_password_confirmation:p.value.confirmPassword});console.log("‚úÖ [Profile] R√©ponse mise √† jour mdp:",e),e.success&&(p.value.success=!0,p.value.message="Mot de passe mis √† jour avec succ√®s",p.value.currentPassword="",p.value.newPassword="",p.value.confirmPassword="")}catch(i){if(console.error("‚ùå [Profile] Erreur mise √† jour mdp:",i),console.error("‚ùå [Profile] Donn√©es d'erreur:",null==(e=i.response)?void 0:e.data),p.value.success=!1,null==(t=null==(s=i.response)?void 0:s.data)?void 0:t.errors){const e=i.response.data.errors;e.current_password&&e.current_password.length>0?p.value.message=e.current_password[0]:e.new_password&&e.new_password.length>0?p.value.message=e.new_password[0]:p.value.message="Erreur de validation: "+Object.values(e).flat().join(", ")}else p.value.message=(null==(r=null==(o=i.response)?void 0:o.data)?void 0:r.message)||i.message||"Erreur lors de la mise √† jour"}finally{p.value.loading=!1}},requestDataDeletion:async()=>{var e,s;if(confirm("√ätes-vous absolument s√ªr de vouloir demander la suppression de toutes vos donn√©es ? Cette action est irr√©versible.")){f.value.loading=!0,f.value.message="";try{const e=await a.request("/profile/request-deletion",{method:"POST",body:{reason:f.value.reason,confirm:f.value.confirm}});e.success&&(f.value.success=!0,f.value.message=e.message,f.value.reason="",f.value.confirm=!1)}catch(t){f.value.success=!1,f.value.message=(null==(s=null==(e=t.response)?void 0:e.data)?void 0:s.message)||"Erreur lors de la demande"}finally{f.value.loading=!1}}},handleLogout:async()=>{if(confirm("√ätes-vous s√ªr de vouloir vous d√©connecter ?")){console.log("üëã [Profile] D√©connexion utilisateur");try{await s.logout(),e.push("/")}catch(a){console.error("‚ùå [Profile] Erreur lors de la d√©connexion:",a)}}},userTournaments:u,tournamentsLoading:m,openTournament:s=>{console.log("üèÜ [Profile] Ouverture du tournoi:",s.name),e.push("/predictions/tournaments")}}}},[["render",function(g,h,y,b,_,w){var P,F;const D=u("router-link"),Fs=u("AuthModal");return k(),e("div",S,[b.loading?(k(),e("div",j,h[14]||(h[14]=[a("div",{class:"loading-spinner"},null,-1),a("p",null,"Chargement du profil...",-1)]))):b.authStore.isAuthenticated?(k(),e("div",E,[a("div",A,[h[18]||(h[18]=a("div",{class:"user-avatar"},[a("i",{class:"material-icons"},"person")],-1)),a("div",M,[a("h1",T,o(b.authStore.userName),1),a("p",V,o(null==(P=b.authStore.user)?void 0:P.email),1),(null==(F=b.authStore.user)?void 0:F.created_at)?(k(),e("p",q,"Membre depuis "+o(b.formatMemberSince(b.authStore.user.created_at)),1)):t("",!0)])]),a("div",z,[(k(!0),e(r,null,i(b.profileSections,s=>(k(),e("button",{key:s.key,onClick:e=>b.activeSection=s.key,class:n(["nav-button",{active:b.activeSection===s.key}])},[a("i",L,o(s.icon),1),a("span",null,o(s.label),1)],10,x))),128))]),a("div",N,["favorites"===b.activeSection?(k(),e("div",R,[a("div",I,[h[19]||(h[19]=a("h2",{class:"section-title"},"Mes Favoris",-1)),a("div",U,[(k(!0),e(r,null,i(b.filterTabs,s=>(k(),e("button",{key:s.key,onClick:e=>b.selectedFilter=s.key,class:n(["filter-tab",{active:b.selectedFilter===s.key}])},[a("i",O,o(s.icon),1),a("span",null,o(s.label),1)],10,$))),128))])]),b.filteredFavorites.length?(k(),e("div",G,[(k(!0),e(r,null,i(b.filteredFavorites,s=>(k(),e("div",{key:s.id,onClick:e=>b.goToContent(s),class:"favorite-item"},[a("div",B,[a("img",{src:s.content.image||b.getDefaultImage(s.type),alt:s.content.title,onError:h[1]||(h[1]=(...e)=>b.handleImageError&&b.handleImageError(...e))},null,40,K),a("div",H,[a("i",Q,o(b.getTypeIcon(s.type)),1)])]),a("div",W,[a("h3",X,o(s.content.title),1),a("p",Y,o(b.getShortDescription(s.content.description)),1),a("div",Z,[a("span",ee," Ajout√© "+o(b.formatDate(s.favorited_at)),1),a("div",se,[a("span",ae,[h[20]||(h[20]=a("i",{class:"material-icons"},"favorite",-1)),l(" "+o(s.content.likes_count||0),1)]),a("span",te,[h[21]||(h[21]=a("i",{class:"material-icons"},"comment",-1)),l(" "+o(s.content.comments_count||0),1)])])])]),a("button",{onClick:c(e=>b.removeFavorite(s),["stop"]),class:"remove-favorite",title:"Retirer des favoris"},h[22]||(h[22]=[a("i",{class:"material-icons"},"close",-1)]),8,oe)],8,J))),128))])):(k(),e("div",re,[h[24]||(h[24]=a("div",{class:"empty-icon"},[a("i",{class:"material-icons"},"favorite_border")],-1)),a("h3",null,o(b.getEmptyMessage()),1),a("p",null,o(b.getEmptyDescription()),1),s(D,{to:b.getExploreLink(),class:"btn-secondary"},{default:d(()=>h[23]||(h[23]=[l(" D√©couvrir du contenu ")])),_:1,__:[23]},8,["to"])]))])):t("",!0),"predictions"===b.activeSection?(k(),e("div",ie,[h[55]||(h[55]=a("h2",{class:"section-title"},"Mes Pronostics",-1)),b.predictionsLoading?(k(),e("div",ne,h[25]||(h[25]=[a("div",{class:"md3-circular-progress"},null,-1),a("p",null,"Chargement de vos statistiques...",-1)]))):b.userPredictionsStats?(k(),e("div",le,[a("div",ce,[a("div",de,[h[27]||(h[27]=a("div",{class:"stat-icon"},[a("i",{class:"material-icons"},"star")],-1)),a("div",ue,[a("div",me,o(b.userPredictionsStats.total_points),1),h[26]||(h[26]=a("div",{class:"stat-label"},"Points totaux",-1))])]),a("div",ve,[h[29]||(h[29]=a("div",{class:"stat-icon"},[a("i",{class:"material-icons"},"leaderboard")],-1)),a("div",pe,[a("div",fe,o(b.userPredictionsStats.current_rank||"N/A"),1),h[28]||(h[28]=a("div",{class:"stat-label"},"Classement",-1))])]),a("div",ge,[h[31]||(h[31]=a("div",{class:"stat-icon"},[a("i",{class:"material-icons"},"sports_soccer")],-1)),a("div",he,[a("div",ye,o(b.userPredictionsStats.total_predictions),1),h[30]||(h[30]=a("div",{class:"stat-label"},"Pronostics",-1))])]),a("div",be,[h[33]||(h[33]=a("div",{class:"stat-icon"},[a("i",{class:"material-icons"},"accuracy")],-1)),a("div",_e,[a("div",ke,o(b.userPredictionsStats.accuracy_percentage)+"%",1),h[32]||(h[32]=a("div",{class:"stat-label"},"Pr√©cision",-1))])])]),a("div",we,[s(D,{to:"/predictions",class:"action-link"},{default:d(()=>h[34]||(h[34]=[a("i",{class:"material-icons"},"add",-1),a("span",null,"Nouveau pronostic",-1)])),_:1,__:[34]}),s(D,{to:"/predictions/leaderboard",class:"action-link"},{default:d(()=>h[35]||(h[35]=[a("i",{class:"material-icons"},"trophy",-1),a("span",null,"Voir le classement",-1)])),_:1,__:[35]})]),b.recentPredictions.length?(k(),e("div",Pe,[h[38]||(h[38]=a("h3",{class:"subsection-title"},"Pronostics r√©cents",-1)),a("div",Fe,[(k(!0),e(r,null,i(b.recentPredictions,s=>(k(),e("div",{key:s.id,class:n(["prediction-item",{calculated:s.is_calculated}])},[a("div",De,[a("div",Se,[a("span",je,o(s.football_match.home_team.name),1),h[36]||(h[36]=a("span",{class:"vs"},"vs",-1)),a("span",Ce,o(s.football_match.away_team.name),1)]),a("div",Ee,o(b.formatDate(s.football_match.match_date)),1)]),a("div",Ae,[a("div",Me,o(s.predicted_home_score)+" - "+o(s.predicted_away_score),1),a("div",Te,[s.is_calculated?(k(),e("span",Ve,o(s.points_earned)+" point"+o(s.points_earned>1?"s":""),1)):(k(),e("span",qe,"En attente"))])])],2))),128))]),a("div",ze,[s(D,{to:"/predictions/my-predictions",class:"btn-secondary"},{default:d(()=>h[37]||(h[37]=[l(" Voir tous mes pronostics ")])),_:1,__:[37]})])])):(k(),e("div",xe,[h[40]||(h[40]=a("div",{class:"empty-icon"},[a("i",{class:"material-icons"},"sports_soccer")],-1)),h[41]||(h[41]=a("h3",null,"Aucun pronostic",-1)),h[42]||(h[42]=a("p",null,"Vous n'avez pas encore fait de pronostic. Commencez d√®s maintenant!",-1)),s(D,{to:"/predictions",class:"btn-primary"},{default:d(()=>h[39]||(h[39]=[l(" Faire mon premier pronostic ")])),_:1,__:[39]})])),a("div",Le,[h[51]||(h[51]=a("h3",{class:"subsection-title"},"Mes Tournois",-1)),b.userTournaments.length?(k(),e("div",Ne,[(k(!0),e(r,null,i(b.userTournaments,s=>(k(),e("div",{key:s.tournament.id,class:"tournament-item",onClick:e=>b.openTournament(s.tournament)},[a("div",Ie,[a("h4",Ue,o(s.tournament.name),1),a("span",{class:n(["tournament-status",s.tournament.status])},o(s.tournament.status_label),3)]),a("div",$e,[a("div",Oe,[h[43]||(h[43]=a("span",{class:"stat-label"},"Rang",-1)),a("span",Ge,"#"+o(s.user_rank||"N/A"),1)]),a("div",Je,[h[44]||(h[44]=a("span",{class:"stat-label"},"Points",-1)),a("span",Be,o(s.user_points),1)]),a("div",Ke,[h[45]||(h[45]=a("span",{class:"stat-label"},"Pr√©cision",-1)),a("span",He,o(s.user_accuracy)+"%",1)])])],8,Re))),128))])):(k(),e("div",Qe,[h[47]||(h[47]=a("div",{class:"empty-icon"},[a("i",{class:"material-icons"},"emoji_events")],-1)),h[48]||(h[48]=a("h4",null,"Aucun tournoi actif",-1)),h[49]||(h[49]=a("p",null,"Vous ne participez √† aucun tournoi pour le moment.",-1)),s(D,{to:"/predictions/tournaments",class:"btn-secondary"},{default:d(()=>h[46]||(h[46]=[l(" D√©couvrir les tournois ")])),_:1,__:[46]})])),a("div",We,[s(D,{to:"/predictions/tournaments",class:"action-link"},{default:d(()=>h[50]||(h[50]=[a("i",{class:"material-icons"},"emoji_events",-1),a("span",null,"Tous les tournois",-1)])),_:1,__:[50]})])])])):(k(),e("div",Xe,[h[52]||(h[52]=a("div",{class:"error-icon"},[a("i",{class:"material-icons"},"error_outline")],-1)),h[53]||(h[53]=a("h3",null,"Erreur de chargement",-1)),h[54]||(h[54]=a("p",null,"Impossible de charger vos statistiques de pronostics.",-1)),a("button",{onClick:h[2]||(h[2]=(...e)=>b.loadPredictionsData&&b.loadPredictionsData(...e)),class:"btn-secondary"}," R√©essayer ")]))])):t("",!0),"account"===b.activeSection?(k(),e("div",Ye,[h[58]||(h[58]=a("h2",{class:"section-title"},"Mon Compte",-1)),a("div",Ze,[h[57]||(h[57]=a("h3",{class:"form-title"},"Nom d'utilisateur",-1)),a("form",{onSubmit:h[4]||(h[4]=c((...e)=>b.updateUsername&&b.updateUsername(...e),["prevent"])),class:"update-form"},[a("div",es,[h[56]||(h[56]=a("label",{class:"form-label"},"Nouveau nom d'utilisateur",-1)),m(a("input",{"onUpdate:modelValue":h[3]||(h[3]=e=>b.usernameForm.name=e),type:"text",class:"form-input",placeholder:"Votre nom d'utilisateur",required:"",minlength:"2",maxlength:"255"},null,512),[[v,b.usernameForm.name]])]),a("div",ss,[a("button",{type:"submit",class:"btn-primary",disabled:b.usernameForm.loading},[b.usernameForm.loading?(k(),e("span",ts,"Mise √† jour...")):(k(),e("span",os,"Mettre √† jour"))],8,as)]),b.usernameForm.message?(k(),e("div",{key:0,class:n(["form-message",b.usernameForm.success?"success":"error"])},o(b.usernameForm.message),3)):t("",!0)],32)])])):t("",!0),"security"===b.activeSection?(k(),e("div",rs,[h[67]||(h[67]=a("h2",{class:"section-title"},"S√©curit√©",-1)),a("div",is,[h[63]||(h[63]=a("h3",{class:"form-title"},"Changer le mot de passe",-1)),a("form",{onSubmit:h[8]||(h[8]=c((...e)=>b.updatePassword&&b.updatePassword(...e),["prevent"])),class:"update-form"},[a("div",ns,[h[59]||(h[59]=a("label",{class:"form-label"},"Mot de passe actuel",-1)),m(a("input",{"onUpdate:modelValue":h[5]||(h[5]=e=>b.passwordForm.currentPassword=e),type:"password",class:"form-input",placeholder:"Votre mot de passe actuel",required:""},null,512),[[v,b.passwordForm.currentPassword]])]),a("div",ls,[h[60]||(h[60]=a("label",{class:"form-label"},"Nouveau mot de passe",-1)),m(a("input",{"onUpdate:modelValue":h[6]||(h[6]=e=>b.passwordForm.newPassword=e),type:"password",class:"form-input",placeholder:"Votre nouveau mot de passe",required:"",minlength:"8"},null,512),[[v,b.passwordForm.newPassword]]),h[61]||(h[61]=a("small",{class:"form-hint"},"Au moins 8 caract√®res avec lettres et chiffres",-1))]),a("div",cs,[h[62]||(h[62]=a("label",{class:"form-label"},"Confirmer le nouveau mot de passe",-1)),m(a("input",{"onUpdate:modelValue":h[7]||(h[7]=e=>b.passwordForm.confirmPassword=e),type:"password",class:"form-input",placeholder:"Confirmer votre nouveau mot de passe",required:"",minlength:"8"},null,512),[[v,b.passwordForm.confirmPassword]])]),a("div",ds,[a("button",{type:"submit",class:"btn-primary",disabled:b.passwordForm.loading},[b.passwordForm.loading?(k(),e("span",ms,"Mise √† jour...")):(k(),e("span",vs,"Changer le mot de passe"))],8,us)]),b.passwordForm.message?(k(),e("div",{key:0,class:n(["form-message",b.passwordForm.success?"success":"error"])},o(b.passwordForm.message),3)):t("",!0)],32)]),a("div",ps,[h[65]||(h[65]=a("h3",{class:"form-title"},"D√©connexion",-1)),h[66]||(h[66]=a("p",{class:"form-description"}," Vous serez d√©connect√© de votre compte sur cet appareil. Vos donn√©es seront conserv√©es. ",-1)),a("button",{onClick:h[9]||(h[9]=(...e)=>b.handleLogout&&b.handleLogout(...e)),class:"btn-logout-main"},h[64]||(h[64]=[a("i",{class:"material-icons"},"logout",-1),a("span",null,"Se d√©connecter",-1)]))])])):t("",!0),"legal"===b.activeSection?(k(),e("div",fs,[h[72]||(h[72]=p('<h2 class="section-title" data-v-9e0d7043>L√©gal &amp; Confidentialit√©</h2><div class="legal-section" data-v-9e0d7043><h3 class="form-title" data-v-9e0d7043>Conditions d&#39;utilisation</h3><div class="legal-links" data-v-9e0d7043><a href="/terms" class="legal-link" data-v-9e0d7043><i class="material-icons" data-v-9e0d7043>description</i><span data-v-9e0d7043>Conditions g√©n√©rales d&#39;utilisation</span><i class="material-icons" data-v-9e0d7043>arrow_forward_ios</i></a><a href="/privacy" class="legal-link" data-v-9e0d7043><i class="material-icons" data-v-9e0d7043>privacy_tip</i><span data-v-9e0d7043>Politique de confidentialit√©</span><i class="material-icons" data-v-9e0d7043>arrow_forward_ios</i></a><a href="/cookies" class="legal-link" data-v-9e0d7043><i class="material-icons" data-v-9e0d7043>cookie</i><span data-v-9e0d7043>Politique des cookies</span><i class="material-icons" data-v-9e0d7043>arrow_forward_ios</i></a></div></div>',2)),a("div",gs,[h[70]||(h[70]=a("h3",{class:"form-title danger-title"},"Suppression des donn√©es",-1)),h[71]||(h[71]=a("p",{class:"danger-description"}," Vous pouvez demander la suppression de toutes vos donn√©es personnelles conform√©ment au RGPD. Cette action est irr√©versible. ",-1)),a("form",{onSubmit:h[12]||(h[12]=c((...e)=>b.requestDataDeletion&&b.requestDataDeletion(...e),["prevent"])),class:"update-form"},[a("div",hs,[h[68]||(h[68]=a("label",{class:"form-label"},"Raison de la suppression (optionnel)",-1)),m(a("textarea",{"onUpdate:modelValue":h[10]||(h[10]=e=>b.deletionForm.reason=e),class:"form-textarea",placeholder:"Expliquez pourquoi vous souhaitez supprimer vos donn√©es...",rows:"3",maxlength:"500"},null,512),[[v,b.deletionForm.reason]])]),a("div",ys,[a("label",bs,[m(a("input",{"onUpdate:modelValue":h[11]||(h[11]=e=>b.deletionForm.confirm=e),type:"checkbox",required:""},null,512),[[f,b.deletionForm.confirm]]),h[69]||(h[69]=l(" Je confirme vouloir supprimer d√©finitivement toutes mes donn√©es "))])]),a("div",_s,[a("button",{type:"submit",class:"btn-danger",disabled:b.deletionForm.loading||!b.deletionForm.confirm},[b.deletionForm.loading?(k(),e("span",ws,"Demande en cours...")):(k(),e("span",Ps,"Demander la suppression"))],8,ks)]),b.deletionForm.message?(k(),e("div",{key:0,class:n(["form-message",b.deletionForm.success?"success":"error"])},o(b.deletionForm.message),3)):t("",!0)],32)])])):t("",!0)])])):(k(),e("div",C,[h[15]||(h[15]=a("div",{class:"auth-icon"},[a("i",{class:"material-icons"},"person")],-1)),h[16]||(h[16]=a("h2",{class:"md3-title-large"},"Profil utilisateur",-1)),h[17]||(h[17]=a("p",{class:"md3-body-large"},"Connectez-vous pour voir votre profil et vos favoris",-1)),a("button",{onClick:h[0]||(h[0]=e=>b.showAuthModal=!0),class:"btn-primary"}," Se connecter ")])),s(Fs,{modelValue:b.showAuthModal,"onUpdate:modelValue":h[13]||(h[13]=e=>b.showAuthModal=e)},null,8,["modelValue"])])}],["__scopeId","data-v-9e0d7043"]]);export{Fs as default};
